2011-07-25 12:34  thor

	* doc/examples/mpg123_to_wav.c: Check written sample count, catches
	  bad buffer sizes that drop bytes.

2011-07-25 12:14  thor

	* doc/examples/mpg123_to_wav.c: Hack option to use float output and
	  force a buffer size for debugging mpg123_read() usage of
	  libmpg123.

2011-06-22 09:28  thor

	* doc/doxygen.conf: really add that example

2011-06-22 09:23  thor

	* doc/doxy_examples.c: Add feedseek example to API docs.

2011-06-18 15:00  jon_y

	* src/mpg123.c, src/wav.c: Fix unicode filename writing on win32.

2011-06-18 14:59  jon_y

	* src/win32_net.c: Fix debug compile.

2011-05-20 06:25  thor

	* NEWS, src/httpget.c: Try to use application/octet-stream from
	  HTTP as MPEG audio data ... same as is tried with any given file
	  on disk.

2011-04-28 16:01  thor

	* NEWS, NEWS.libmpg123, configure.ac: Document the recent API
	  changes.

2011-04-28 15:58  thor

	* src/libmpg123/lfs_alias.c: The LFS alias of off_t is long, not
	  int!

2011-04-28 15:57  thor

	* ., NEWS, src/libmpg123/feature.c, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/lfs_alias.c,
	  src/libmpg123/lfs_wrap.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/ntom.c, src/libmpg123/parse.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/wavhead.h: Merge in
	  mpg123_framepos().

2011-04-26 23:57  thor

	* src/tests/seek_accuracy.c: Give some freedom to rounding errors
	  in sample comparison.

2011-04-26 23:33  thor

	* src/tests/seek_accuracy.c: Don't be so paranoid: Let the test
	  only find an error when it failed to fetch a sample.
	  
	  One of these days I'll have to think about returning
	  MPG123_NEED_MORE after a scan already noted that the last frame
	  is partial ...

2011-04-23 19:02  thor

	* src/libmpg123/mpg123.h.in, src/libmpg123/parse.c: Adding API to
	  get the number of samples the decoding of the current frame would
	  ideally yield (without gapless fun).

2011-04-21 17:10  thor

	* src/output/sndio.c: Including patch from bug 3273121 for adding
	  31 bit integer output to sndio.
	  
	  Note: I cannot test this myself. Would need a BSD install...
	  time.

2011-04-21 16:03  thor

	* NEWS: Add NEWS for 1.13.3

2011-04-17 09:19  thor

	* configure.ac: The last change is a library patch.

2011-04-17 09:16  thor

	* src/libmpg123/frame.c: bug 3288360: don't just assume that long
	  is 32 bits for OPT_ARM ...

2011-04-17 08:25  thor

	* src/resolver.c: bug 3288333: Indeed, that is no address count,
	  that's a simple return code. Let's interpret getaddrinfo return
	  correctly.
	  
	  I wonder where the idea of addrcount came from ... I don't see
	  that suggested in the man page on GNU/Linux.

2011-04-17 08:24  thor

	* NEWS: Add note to import NEWS from 1.13.3 when the time comes.

2011-04-05 09:02  thor

	* src/libmpg123/parse.c: Starting to divide read_frame into parts,
	  aiming at a somewhat bearable future.
	  
	  This modifies appearance and logic, too. The change in logic was
	  the motivation: Fixing bug 3267863. Change in appearance just is
	  necessary; we need to get parse.c into a manageable shape.

2011-04-03 07:48  thor

	* src/libmpg123/parse.c: OK, enable nagging mode to build again by
	  disabling the gain_offset but adding a runtime warning to prompt
	  me to fix the lame version detection.

2011-04-03 07:47  thor

	* src/term.c: Make that function void.

2011-04-03 07:47  thor

	* src/output/oss.c: Remove the obsolete SAMPLESIZE call altogether,
	  also the corresponding variable (triggered a warning in gcc 4.6).

2011-03-27 08:15  thor

	* src/mpg123app.h, src/term.c: Cosmetics.

2011-03-27 07:43  thor

	* NEWS: Add the signal usage to NEWS.

2011-03-27 07:42  thor

	* src/audio.c, src/mpg123.c, src/mpg123app.h, src/term.c,
	  src/term.h: Make the terminal control also include input from
	  SIGUSR1 and SIGUSR2, configurable via --ctrlusr1 and --ctrlusr2.
	  
	  Actually, that is a hint to separate the control code from the
	  terminal ... plain mpg123 can use those signals, too. Also this
	  can be merged with the generic control and fifo sucking. But then
	  ... are we coding a simple decoder ore a sophisticated media
	  player? That's a question one might have posed ten years ago...

2011-03-12 19:24  thor

	* src/libmpg123/mpg123.h.in: Fix a function name in dox.

2011-03-12 19:21  thor

	* configure.ac, src/libmpg123/readers.c: Right, no variable buffers
	  on the stack with C90.

2011-03-12 19:01  thor

	* doc/examples/Makefile, doc/examples/extract_frames.c: Add example
	  code to exercise mpg123_framedata: An MPEG stream cleaner (just
	  extracting all valid frames).
	  
	  Also updating the examples Makefile a bit.

2011-03-12 18:56  thor

	* NEWS.libmpg123, configure.ac, src/libmpg123/frame.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/parse.c: Added
	  mpg123_framedata(), one small but important step towards raw API
	  equivalence.

2011-03-12 17:50  thor

	* NEWS.libmpg123: A.

2011-03-12 17:50  thor

	* NEWS.libmpg123: Document API version 29.

2011-03-12 17:13  thor

	* configure.ac, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/reader.h, src/libmpg123/readers.c: Adding tunable
	  feed buffer pool, to avoid malloc/free all the time. See
	  MPG123_FEEDPOOL and MPG123_FEEDBUFFER.
	  
	  Note that this doesn't seem to bring direct benefit on GNU/Linux
	  or Solaris (the latter perhaps in a multithreaded environment),
	  but can be calming for people to have 18 mallocs instead of 360
	  for decoding an mpeg file. The other aspect is that you now
	  actually can tune the minimal size of the feeder buffers, which
	  can have some effect (if they are too small, at least). Also,
	  this does only have relevance to the feeder API and the internal
	  buffering of non-seekable streams, as that uses the same
	  buffering code.

2011-03-12 16:16  jon_y

	* doc/examples/mpglib.c: Use binary IO for stdin/stdout.

2011-03-12 00:08  thor

	* src/libmpg123/parse.c: Oh, dear, the crap I crap out when I crap
	  out. Un-broke mpg123 again with resolving a typo (it did still
	  compile, dammit) and a missing return value.

2011-03-12 00:07  thor

	* src/libmpg123/mpeghead.h: Quote some /* in the Perl code.

2011-03-06 11:06  thor

	* src/libmpg123/parse.c: Clarification about CRC not being an issue
	  for lame tags, a bit of refactor to extract the halfspeed hack
	  details out of read_frame().

2011-03-06 11:05  thor

	* src/libmpg123/layer3.c: Remove the "nasty file" hack and also
	  clean up the proper solution to prevent region1 > region2.
	  
	  The hack was dead code since 2008, bug 1641196 really being
	  history.

2011-03-06 10:58  thor

	* doc/parse_refactor.txt: Read ahead.

2011-03-05 10:47  thor

	* doc/parse_refactor.txt: Note about free format and seeking.

2011-03-05 10:44  thor

	* src/libmpg123/mpeghead.h: More explicit warning against manual
	  hacking.

2011-03-05 10:29  thor

	* src/mpg123.c: Do not pollute stdout with that extra line end for
	  updated header info!

2011-03-05 10:28  thor

	* src/libmpg123/mpeghead.h, src/libmpg123/parse.c: Simplified free
	  format frame size search: Just compare the important bits of the
	  prospective following header.

2011-03-05 09:26  thor

	* src/libmpg123/Makefile.am, src/libmpg123/frame.h,
	  src/libmpg123/mpeghead.h, src/libmpg123/parse.c: Taking some
	  insanity out of the parser: Central definition of MPEG header bit
	  masks and shifts.

2011-03-05 09:24  thor

	* doc/parse_refactor.txt: A remark and a typo.

2011-03-01 08:00  thor

	* doc/parse_refactor.txt: More about upcoming parser structure.

2011-02-26 09:57  thor

	* doc/parse_refactor.txt: Thoughts about cleaning up central parts
	  of the operation ... probably to arrive at something he raw API
	  wanted to be.

2011-02-24 11:23  jon_y

	* configure.ac, ports/Sony_PSP/config.h, src/libmpg123/debug.h:
	  Rename NO_ERROR macro to NO_ERRORMSG, patch by Ozkan Sezer.

2011-02-19 23:33  thor

	* NEWS, src/libmpg123/libmpg123.c: An idea to get to the
	  concatenated-stream-with-rogure-gapless-info issue.
	  
	  But no solution. This hack breaks mpg123 in other ways.

2011-02-19 19:11  thor

	* NEWS: Including JonY's autoconf silencer in 1.13.2 .

2011-02-19 18:57  thor

	* NEWS: Preparing the NEWS for the to-be 1.13.2 ... remember: I am
	  going to merge in the following revisions:
	  
	  2827, 2828, 2829, 2842, 2843, 2846, 2850, 2851, 2858, 2868

2011-02-19 15:03  patr3ck

	* ports/MSVC++/2008clr/mpg123clr/AssemblyInfo.cpp,
	  ports/MSVC++/2008clr/mpg123clr/ReadMe.txt,
	  ports/MSVC++/2008clr/mpg123clr/enum.h,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.cpp,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.h,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.rc,
	  ports/MSVC++/2008clr/mpg123clr/string.cpp,
	  ports/MSVC++/2008clr/mpg123clr/string.h: Add support for 1.13
	  features to .NET wrapper.
	  MPG123_SKIP_ID3V2, encsize and mpg123_strlen functions
	  Patch provided by Malcolm Boczek, mboczek at cfindustries dot com

2011-02-14 07:42  thor

	* doc/doxy_examples.c: More specific description of mpglib.c .

2011-02-12 19:03  thor

	* configure.ac, src/libmpg123/libmpg123.c, src/libmpg123/parse.c:
	  Prevent too early calling of decode_update. This triggered a
	  segfault when calling mpg123_decoder() before having decoded
	  something already.
	  
	  It is apparent that I already marked the concerned code for some
	  needed revision a long time ago... Yes, libmpg123.c needs some
	  cleanup. When? Who knows...

2011-02-09 09:36  thor

	* src/libmpg123/mpg123.h.in: Add more description to the format
	  stuff ... hopefully that helps people to avoid the usual
	  misconceptions.

2011-02-09 09:10  thor

	* src/mpg123.c: Repeat MPEG header on console on each format
	  change. Format changes usually are because of header changes...

2011-02-09 09:09  thor

	* configure.ac: The last change means patchlevel.

2011-02-09 09:09  thor

	* src/libmpg123/parse.c: Fix header sample rate comparison to look
	  for MPEG version changes. Not layer, version.
	  
	  This fixes playback of certain (artificial) concatenated mp3
	  streams with differing sampling rates by communicating the
	  sampling rate changes properly.

2011-02-07 09:12  thor

	* src/libmpg123/format.c: Fix build warning without 32/24 bit
	  output formats by omitting the unused byte chopping function.

2011-01-30 10:43  patr3ck

	* src/libmpg123/format.c: Fix the signed / unsigned warning
	  correctly

2011-01-30 10:01  patr3ck

	* src/libmpg123/format.c: Fix two signed / unsigned warnings given
	  by MSVC++

2011-01-30 00:39  jon_y

	* configure.ac: Use AC_LANG_SOURCE correctly in AC_LINK_IFELSE.

2011-01-29 14:16  jon_y

	* src/win32_support.c: Reorder code so WaitForSingleObjectEx only
	  used when reconnecting.

2011-01-29 13:42  jon_y

	* src/win32_support.c: Add more debugging codes.

2011-01-29 13:25  jon_y

	* src/win32_support.c: Add more debugging codes.

2011-01-29 11:35  jon_y

	* src/libmpg123/compat.c, src/libmpg123/compat.h,
	  src/win32_support.c: Simplify and harden utf-16/utf-8 conversion
	  routines for windows.

2011-01-29 06:11  jon_y

	* src/control_generic.c, src/win32_support.c, src/win32_support.h:
	  Fix live lock on FIFO.

2011-01-29 05:33  jon_y

	* src/control_generic.c, src/win32_support.c, src/win32_support.h:
	  Non blocking pipe fifo for Windows.

2011-01-29 04:25  jon_y

	* src/win32_support.c: Move printfs into debug print, return mkfifo
	  early if out of memory.

2011-01-28 14:58  jon_y

	* configure.ac, src/control_generic.c, src/mpg123.c,
	  src/win32_support.c, src/win32_support.h: Preliminary FIFO
	  support for windows.

2011-01-12 18:45  thor

	* src/audio.c: Only try to apply pitch if there is a current audio
	  format.
	  
	  This is a first measure to circumvent the regression bug 3154889,
	  introduced in 1.12.2 because of the track closing safeguard which
	  resets data like the file sample rate...

2011-01-08 09:36  thor

	* doc/examples/feedseek.c, doc/examples/mpg123_to_wav.c: Fix a
	  memory leak each. Examples should'n have those... even if it is
	  just on death because of error.

2011-01-08 09:30  thor

	* src/module.c: Fix a little memory leak with module_type.

2011-01-06 08:57  thor

	* NEWS: typo in NEWS

2011-01-06 08:54  thor

	* configure.ac: increment library patchlevel for the recent fixes

2011-01-05 13:03  thor

	* NEWS, src/libmpg123/parse.c: Allow variation of the private
	  header bit.

2011-01-05 13:02  thor

	* NEWS, src/libmpg123/format.c: Fix MPG123_FORCE_FLOAT and
	  MPG123_FORCE_8BIT (bug 3151597).

2010-12-21 08:33  thor

	* NEWS, src/mpg123.c: Added --ignore-streamlenght to work around
	  certain web streams.

2010-12-08 10:59  thor

	* NEWS: NEWS fixup

2010-12-07 11:34  thor

	* ports/README: A note about port bitrot.

2010-12-02 14:23  thor

	* NEWS, configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/aligncheck.h, src/libmpg123/lfs_wrap.c,
	  src/libmpg123/libmpg123.c: Remove the alignment checks.

2010-10-25 09:51  jon_y

	* src/libmpg123/compat.c: Replace __MSVCRT__ check with
	  (defined(WIN32) && !defined (__CYGWIN__)).

2010-10-24 17:24  thor

	* configure.ac, src/libmpg123/format.c, src/output/alsa.c: Add
	  endian detection to configure script to support the 24 bit
	  chopping; fix up the ALSA output. There's S24 and S24_3; that was
	  my mistake.

2010-10-24 16:42  jon_y

	* src/libmpg123/compat.c: Fixup _open usage.

2010-10-24 16:42  jon_y

	* configure.ac: Make cygwin not use alias automatically.

2010-10-24 12:51  thor

	* src/output/alsa.c, windows-builds.sh: fix plugdir for windows
	  script, was accidentally deleted

2010-10-24 12:31  thor

	* src/streamdump.c: use compat_close, remove debugging line

2010-10-24 12:25  thor

	* src/libmpg123/compat.c, src/libmpg123/compat.h, src/streamdump.c:
	  Hide the file permission mode mask from win32, use compat_open()
	  in streamdump.
	  
	  Also, fix the naming of the compat_open() second parameter. It's
	  flags, not mode.

2010-10-24 11:42  thor

	* src/audio.c, src/wav.c: Add signed 24 bit WAV output. ALSA still
	  behaves weird, though.

2010-10-23 22:29  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/audio.c,
	  src/libmpg123/format.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/optimize.c, src/output/alsa.c: Initial support for
	  24 bit integer output (truncation of 32 bit).

2010-10-18 01:03  thor

	* NEWS: Add more to that growing NEWS for the next release.
	  
	  There grows some suspicion that again, we got too much useful
	  stuff accumulated to wait for raw API things getting merged:-/

2010-10-18 00:59  thor

	* configure.ac, src/module.c, windows-builds.sh: Add
	  --with-module-suffix to configure to give a way out of libtool
	  hell with those sometimes pesky .la files.
	  
	  One application is to drop .la files in the windows build script,
	  directly loading .dlls (testing needed).

2010-10-18 00:36  thor

	* configure.ac: At least bump the patchlevel for the new assembly
	  fun.

2010-10-17 08:37  taihei

	* configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/dct64_neon.S, src/libmpg123/dct64_neon_float.S,
	  src/libmpg123/decode.h, src/libmpg123/intsym.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/synth.c, src/libmpg123/synth_neon.S,
	  src/libmpg123/synth_neon_accurate.S,
	  src/libmpg123/synth_neon_float.S, src/libmpg123/synth_neon_s32.S,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/libmpg123/synth_stereo_neon.S,
	  src/libmpg123/synth_stereo_neon_accurate.S,
	  src/libmpg123/synth_stereo_neon_float.S,
	  src/libmpg123/synth_stereo_neon_s32.S, src/libmpg123/tabinit.c:
	  Introducing a brand-new ARM NEON optimization stuff

2010-10-04 06:30  thor

	* NEWS, configure.ac, src/metaprint.c: Fix a buffer overflow in
	  utf8_ascii(), introduced with the change to use mpg123_strlen()
	  -- where it's not appropriate.

2010-10-04 06:19  thor

	* NEWS: Add the news for 1.12.4 .

2010-09-23 17:14  jon_y

	* configure.ac: Switch most grep to $GREP, fixed for busybox
	  systems.

2010-08-20 09:23  thor

	* src/metaprint.c: Don't chop off the last character in non-UTF-8
	  output.

2010-08-19 09:16  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/mpg123.h.in,
	  src/libmpg123/stringbuf.c, src/metaprint.c: Fix formatting of
	  output with UTF-8 strings, mainly via introduction of
	  mpg123_strlen().
	  
	  This is debian bug 516510 ... I don't quite remember being
	  notified about this one, just stumbled over it (again?).
	  Open question: Should one rather filter terminal escape sequences
	  / non-printing characters in general?

2010-08-15 19:01  thor

	* NEWS: Another spelling change.

2010-08-15 19:01  thor

	* scripts/benchmark-cpu.pl: Consistency: US English "optimization".

2010-08-15 18:58  thor

	* README, configure.ac: Some orthography fixes by "western". Yes,
	  he really read the README! ;-)

2010-08-15 18:57  thor

	* src/libmpg123/id3.c: Silence id3.c when the reading error is
	  actuall MPG123_NEED_MORE.

2010-07-17 14:26  jon_y

	* configure.ac: Fix typo

2010-07-06 07:06  thor

	* src/libmpg123/id3.h: Fix NO_ID3V2 for the renamed internal
	  symbols.

2010-07-06 06:49  thor

	* configure.ac, src/libmpg123/id3.c: Move a variable into the
	  #ifndef NO_ID3V2 block, fixing a warning (bug 3025665).

2010-07-04 22:10  thor

	* NEWS, configure.ac, src/libmpg123/readers.c: Fixing bug 3022850,
	  preparing 1.12.3 release for that.

2010-06-30 06:41  thor

	* src/libmpg123/readers.c: Yeah, I was not awake. The ICY streams
	  need to have seeking disabled from the beginning.

2010-06-29 22:03  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/readers.c,
	  src/mpg123.c, src/mpg123app.h: Added --icy-interval and tried to
	  make it work ... but doesn't work with stream dumps yet.

2010-06-29 21:28  thor

	* NEWS, src/Makefile.am, src/mpg123.c, src/mpg123app.h,
	  src/streamdump.c, src/streamdump.h: Adding --streamdump to get a
	  copy of mpg123's input data.
	  
	  This shall help debugging those pesky bugs between http/icecast
	  servers and mpg123.

2010-06-22 22:41  thor

	* src/output/jack.c: Mark the FIXMEs in the JACK output: We need to
	  take care of audio stuffed into the ringbuffer... of the problems
	  on Mac and win32 are similar?

2010-06-22 22:03  thor

	* ChangeLog: Autotools want a ChangeLog file unless specially
	  configured to be less strict. So give 'em that, but without any
	  intention to put the real ChangeLog back in there for releases.

2010-06-20 20:16  thor

	* ChangeLog, NEWS: Remove ChangeLog... no added value, really.

2010-06-20 15:04  patr3ck

	* Makefile.am: Add clr examples to distribution tarball

2010-06-20 08:40  patr3ck

	* Makefile.am: Prevent early line ending

2010-06-18 06:55  thor

	* ., src/libmpg123/feature.c, src/libmpg123/lfs_alias.c,
	  src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: fix the bad merge of lfs_alias.c

2010-06-18 06:51  thor

	* NEWS: import message about clr

2010-06-18 06:43  thor

	* ., INSTALL, NEWS, configure.ac, src/libmpg123/dct36_3dnow.S,
	  src/libmpg123/dct36_3dnowext.S, src/libmpg123/dct64_3dnow.S,
	  src/libmpg123/dct64_3dnowext.S, src/libmpg123/dct64_mmx.S,
	  src/libmpg123/dct64_sse.S, src/libmpg123/dct64_sse_float.S,
	  src/libmpg123/dct64_x86_64.S, src/libmpg123/dct64_x86_64_float.S,
	  src/libmpg123/equalizer_3dnow.S, src/libmpg123/feature.c,
	  src/libmpg123/getcpuflags.S, src/libmpg123/lfs_alias.c,
	  src/libmpg123/mangle.h, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_3dnow.S,
	  src/libmpg123/synth_3dnowext.S, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/libmpg123/synth_sse.S, src/libmpg123/synth_sse3d.h,
	  src/libmpg123/synth_sse_accurate.S,
	  src/libmpg123/synth_sse_float.S, src/libmpg123/synth_sse_s32.S,
	  src/libmpg123/synth_stereo_sse_accurate.S,
	  src/libmpg123/synth_stereo_sse_float.S,
	  src/libmpg123/synth_stereo_sse_s32.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_accurate.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64.S,
	  src/libmpg123/synth_x86_64_accurate.S,
	  src/libmpg123/synth_x86_64_float.S,
	  src/libmpg123/synth_x86_64_s32.S, src/libmpg123/tabinit_mmx.S,
	  src/output/alsa.c, src/wavhead.h: Merge in the poratbility
	  enhancements from the 1.12.2 tag (yes, it's more of a branch
	  now).
	  
	  Main things are the dual-way of LFS aliases, the move of the
	  nonexec-stack markers into mangle.h.

2010-06-17 18:29  patr3ck

	* Makefile.am: Add the .NET wrapper to the tarball

2010-06-13 11:14  thor

	* NEWS: Note upcoming removal of the aligned(..) cruft.

2010-06-08 09:33  patr3ck

	* src/libmpg123/format.c: Remove const from encoding parameter of
	  the mpg123_encsize function to make it match the declaration.
	  This fixes a warning using MSVC++.

2010-06-08 09:06  thor

	* src/libmpg123/format.c, src/libmpg123/mpg123.h.in: Don't define
	  const int parameter in the header, but still use it in the
	  implementation (since, the function is not supposed to change the
	  value).

2010-06-08 09:06  thor

	* src/libmpg123/optimize.c: Don't define cpu_flags as variable
	  that's never used.

2010-06-08 09:05  thor

	* src/libmpg123/mangle.h: An attempt to rationalize mangle.h facing
	  trouble the Sun compiler has with the code... but to no avail,
	  yet:
	  It defines __USER_LABEL_PREFIX__ to an empty value on Linux ...
	  which leaves ## in the code instead of concatenation with
	  nothing.
	  
	  Plus, the Sun compiler chokes on the GNU exec stack section...
	  fun never stops.

2010-06-06 23:53  thor

	* NEWS: That news was missing: 3DNow builds fixed.

2010-06-06 08:29  thor

	* doc/examples/Makefile, doc/examples/mpg123_to_wav_replaced_io.c:
	  Add example for replaced handle I/O.

2010-06-06 08:29  thor

	* configure.ac: Increase patchlevel of the library.

2010-06-06 08:27  thor

	* NEWS, src/libmpg123/lfs_wrap.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/parse.c: Fix the LFS-wrapped handle I/O by ensuring
	  that frame_reset is called on mpg123_close (hybrid_bcl went in
	  uninitialized and wrecked havoc).
	  
	  This fixes the crashes xulfer encountered (at least his test case
	  suggests that).

2010-06-05 23:35  thor

	* src/libmpg123/mpg123.h.in: Close the comment to enable the
	  definition of mpg123_encsize().

2010-06-04 00:21  thor

	* NEWS, configure.ac, src/libmpg123/libmpg123.c: Fix return values
	  of getformat (didn't route anything but MPG123_ERR).

2010-05-29 23:33  thor

	* src/libmpg123/lfs_alias.c: Remove bogus macro value. Harmless.
	  Hopefully.

2010-05-29 23:19  thor

	* src/libmpg123/lfs_alias.c: Add missing _64 aliases for open
	  functions.

2010-05-29 23:07  thor

	* src/libmpg123/frame.h, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h: Fix 3dnowext_alone (and 3dnow) build.

2010-05-29 14:24  thor

	* doc/libmpg123_speed.txt: Insights about K6-3+ performance...
	  namely the miracle of improved 3DNowExt for combined builds since
	  mpg123 1.8 .

2010-05-26 10:07  jon_y

	* src/libmpg123/mangle.h: Use __USER_LABEL_PREFIX__ and prevent
	  WIN64 from using "_" prefixed asm symbols

2010-05-25 20:43  patr3ck

	* src/libmpg123/mangle.h: Fix compile time error because of typo

2010-05-25 20:36  thor

	* src/libmpg123/mangle.h: Fix macro concatenation in mangle.h .

2010-05-23 21:04  patr3ck

	* Makefile.am: Add missing dumpseekindex MSVC project file

2010-05-23 21:01  thor

	* src/libmpg123/optimize.c: Also hide the pseudo cpu_flags.

2010-05-23 20:51  thor

	* src/libmpg123/getcpuflags.h: That definition of cpu_flags is not
	  needed.

2010-05-23 20:39  thor

	* NEWS, configure.ac: Announce the symbol cleanup.

2010-05-23 20:37  thor

	* scripts/intsym.pl, src/libmpg123/frame.c, src/libmpg123/id3.c,
	  src/libmpg123/intsym.h, src/libmpg123/layer3.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/optimize.c,
	  src/libmpg123/parse.c, src/libmpg123/readers.c: More smartness in
	  the renamer script, taking care of non-obvious global symbols and
	  no-nos. Also, a bunch of variables/functions turned static.

2010-05-23 20:00  thor

	* scripts/intsym.pl, src/libmpg123/Makefile.am,
	  src/libmpg123/compat.h, src/libmpg123/intsym.h,
	  src/libmpg123/mangle.h, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/synth.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c,
	  src/libmpg123/synth_stereo_sse_accurate.S,
	  src/libmpg123/synth_stereo_sse_float.S,
	  src/libmpg123/synth_stereo_sse_s32.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_accurate.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_stereo_x86_64_s32.S: Start renaming internal
	  symbols with a prefix (INT123_) that makes it unlikely that they
	  screw up in a static lib.
	  
	  The renaming itself is done via a header that in turn is
	  generated by scripts/intsym.pl . Some symbols needed shortening
	  for the 31 char limit.

2010-05-23 19:57  thor

	* src/libmpg123/dither.c: dither seed is local

2010-05-23 19:21  thor

	* src/libmpg123/l2tables.h: Those alloc tables are local.

2010-05-23 19:00  thor

	* src/libmpg123/decode.h, src/libmpg123/frame.h,
	  src/libmpg123/optimize.c, src/libmpg123/synth.c,
	  src/libmpg123/synth_8bit.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/synths.h: Shorten
	  mono2stereo function names to be able to hold the 31 char limit
	  on differing symbol names when adding a prefix for internal
	  symbols.

2010-05-23 18:28  thor

	* src/libmpg123/layer1.c, src/libmpg123/layer2.c: More static
	  functions.

2010-05-23 10:12  thor

	* ., src/libmpg123/feature.c, src/libmpg123/frame.c,
	  src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: Make the pointer alignment static, it's local.

2010-05-23 03:38  thor

	* ., NEWS, configure.ac, src/libmpg123/feature.c,
	  src/libmpg123/frame.c, src/libmpg123/ntom.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/wavhead.h: Import the fix for
	  pointer alignment (bug 2996045).

2010-05-20 08:38  thor

	* src/libmpg123/layer3.c: Editor strangeness ... the maxbandl I
	  deleted was still there.

2010-05-20 08:26  thor

	* NEWS, src/libmpg123/layer3.c: Add workaround for compiler bugs,
	  as suggested by Doug Gilmore in bug
	  3004396, though changing both maxband[3] and maxbandl to int.

2010-05-16 16:42  thor

	* NEWS, NEWS.libmpg123, src/libmpg123/id3.c,
	  src/libmpg123/mpg123.h.in, src/mpg123.c: Add flag
	  MPG123_SKIP_ID3V2 to enable runtime choice about parsing ID3v2 or
	  not.

2010-05-16 16:25  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/format.c,
	  src/libmpg123/mpg123.h.in: Add mpg123_encsize() to external API
	  ... that marks the border from mpg123 1.12.x ... now the question
	  is open if 1.12.2 will ever be released.
	  Still waiting for that debian bugfix.

2010-05-16 15:53  thor

	* NEWS, src/libmpg123/reader.h, src/libmpg123/readers.c: Improve
	  throughput performance of feeder mode by making the buffer chain
	  work with blocks of at least 4K size.

2010-05-16 15:35  thor

	* NEWS, src/libmpg123/Makefile.am: Add the alias code to the build
	  system, update NEWS for LFS hackery.

2010-05-16 14:17  thor

	* configure.ac, src/libmpg123/lfs_alias.c: Add alias functions for
	  the native large file bitness, that is functions with _32 suffix
	  on 32 bit systems, with _64 bit suffix on 64 bit systems.
	  
	  That should help people that define _LARGE_FILE_BITS where it
	  doesn't really make sense, but glibc supports it nevertheless.

2010-05-16 10:39  thor

	* src/libmpg123/mpg123.h.in: More header large file flexibility and
	  comment cleanup for dual mode.
	  
	  Now mpg123.h listens to MPG123_NO_LARGENAME and
	  MPG123_LARGESUFFIX. That gives a way to hack around any
	  automatism... you might also want to #define off_t for special
	  purpose (to get the 64 bit off_t API on 32 bit systems without
	  having _FILE_OFFSET_BITS in place).

2010-05-16 10:05  thor

	* src/common.c: Typo in variable name.

2010-05-12 10:03  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/optimize.c: Fix up some function declarations,
	  func(void) instead of func().

2010-05-09 21:48  thor

	* src/libmpg123/mpg123.h.in: Add a note about the bad type of the
	  mpeg flags in frameinfo. Shall I change that to int? In practice,
	  that shouldn't touch the ABI.

2010-04-27 17:09  thor

	* doc/Makefile.am, doc/examples/Makefile: Add dump_seekindex to
	  distribution and example Makefile.

2010-04-26 21:15  patr3ck

	* NEWS: Add entries for updated mpg123clr and dump_seekindex
	  example

2010-04-26 20:50  patr3ck

	* ports/MSVC++/2008clr/examples/ReplaceReaderclr/Program.cs,
	  ports/MSVC++/2008clr/mpg123clr/AssemblyInfo.cpp,
	  ports/MSVC++/2008clr/mpg123clr/ReadMe.txt,
	  ports/MSVC++/2008clr/mpg123clr/enum.h,
	  ports/MSVC++/2008clr/mpg123clr/error.h,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.cpp,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.h,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.rc: Sync mpg123clr to
	  version 1.12, patch by Malcolm Boczek

2010-04-26 20:27  patr3ck

	* doc/examples/dump_seekindex.c, ports/MSVC++/2008/dump_seekindex,
	  ports/MSVC++/2008/dump_seekindex/dump_seekindex.vcproj,
	  ports/MSVC++/2008/mpg123.sln, ports/MSVC++/2010/dump_seekindex,
	  ports/MSVC++/2010/dump_seekindex/dump_seekindex.vcxproj,
	  ports/MSVC++/2010/dump_seekindex/dump_seekindex.vcxproj.filters,
	  ports/MSVC++/2010/mpg123.sln: dump_seekindex example

2010-04-26 20:19  patr3ck

	* ports/MSVC++/2008/feedseek/feedseek.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpglib/mpglib.vcproj,
	  ports/MSVC++/2008/scan/scan.vcproj,
	  ports/MSVC++/2010/libmpg123/libmpg123.vcxproj: Use consistent
	  build settings for floating point model and use of SIMD
	  instruction set

2010-04-26 19:55  patr3ck

	* ports/MSVC++/2010/feedseek/feedseek.vcxproj: Fix double ; in
	  preprocessor flags

2010-04-26 19:03  patr3ck

	* ports/MSVC++/2010/feedseek/feedseek.vcxproj: Remove double ; in
	  preprocessor flags

2010-04-23 23:25  thor

	* doc/examples/feedseek.c: Honor errors during feedseek stage...
	  prompted by segfaults in libmpg123 that got --disable-real.
	  
	  Now there is a question: Should libmpg123 refuse to work with
	  handles that have an error state? Should there be some cleanup to
	  bring the handle in a consistent state?
	  The latter might be it... close the file...

2010-04-21 00:15  thor

	* NEWS, src/libmpg123/decode.h, src/libmpg123/optimize.c,
	  src/libmpg123/synth.c: Make build with --disable-16bit work...
	  ntom_set_ntom was falsely not defined, stereo synth wrapper is
	  now in optimize.c, where it's always present.

2010-04-21 00:13  thor

	* src/mpg123.c: Typo in encoding help.

2010-04-19 14:53  thor

	* configure.ac: Remove outdated note about largefile lib name.
	  Replaced by note about dual-mode.

2010-04-19 14:51  thor

	* configure.ac: Remove grep -q usage. Non-portable.

2010-04-15 18:58  jon_y

	* src/libmpg123/feature.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/parse.c, src/libmpg123/readers.c: Cleanup recent
	  TIMEOUT_READ define for Cygwin

2010-04-14 08:21  thor

	* configure.ac, src/libmpg123/feature.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/readers.c: Fix build with --disable-network, unify
	  the preprocessor switching for timeout_read and add the missing
	  feature query for that.
	  Cygwin might need verification... I tested only Linux.

2010-04-14 08:15  thor

	* INSTALL: Add note about libltdl.

2010-04-12 14:55  patr3ck

	* ports/MSVC++/msvc.c: Cache filept before calling mpg123_close,
	  fixes bug 2985901

2010-03-31 09:30  patr3ck

	* src/libmpg123/synth_arm.S, src/libmpg123/synth_arm_accurate.S:
	  Change .global to .globl to fix an compile error on the Xcode gcc
	  toolchain

2010-03-31 08:32  thor

	* INSTALL, NEWS, configure.ac: Forgot to update INSTALL for 1.12.0
	  ... re-releasing as 1.12.1 now.

2010-03-29 01:41  thor

	* src/libmpg123/Makefile.am: Add aligncheck.h to Makefile.am .

2010-03-29 01:38  thor

	* Makefile.am, NEWS, NEWS.libmpg123, configure.ac,
	  libmpg123_large.pc.in, src/Makefile.am,
	  src/libmpg123/Makefile.am, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/lfs_wrap.c: Here it is:
	  Proof that I don't want a normal life, apparently.
	  
	  mpg123 1.12.0 will switch to a dual-mode library for large file
	  support. I have it all:
	  - simple argument conversion
	  - overflow detection
	  - temporary storage for arrays of off_t / long
	  - crazy callback-stacking to get that dual-modal, too
	  
	  What I don't have:
	  - sleep

2010-03-29 01:27  thor

	* src/control_generic.c: Check for error in sample offset
	  operation.

2010-03-29 01:26  thor

	* src/libmpg123/aligncheck.h, src/libmpg123/libmpg123.c: Outsource
	  aligncheck.

2010-03-28 23:42  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: Add
	  MPG123_LFS_OVERFLOW, cleanup a debugging print.

2010-03-28 23:41  thor

	* src/libmpg123/readers.c: Fix a debugging print for type.

2010-03-28 21:13  thor

	* NEWS.libmpg123, src/libmpg123/mpg123.h.in: Add
	  mpg123_framebyframe_decode to the off_t-sensitive functions, to
	  be renamed with LFS.

2010-03-28 21:10  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: Enforce
	  mpg123_close() on the replace_reader calls, introduce new error
	  for ill-prepared handle I/O.

2010-03-28 10:55  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/frame.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/reader.h, src/libmpg123/readers.c: Introduce
	  handle-based custom I/O.

2010-03-26 12:40  thor

	* INSTALL: fix typo

2010-03-23 15:39  thor

	* Makefile.am: Add libmpg123_@LARGEFILE_BITS@.pc explicitly to
	  files to be cleaned up... it's a mystery why automake is not
	  doing that. Or isn't it?
	  
	  Now make distcheck should work again on x86 systems.

2010-03-23 08:54  thor

	* NEWS, configure.ac, m4/addrconfig.m4, src/resolver.c: Add
	  configure check for AI_ADDRCONFIG ... that hopefully makes mpg123
	  work again on OpenBSD (among others).

2010-03-21 21:34  thor

	* NEWS: Add note to NEWS ... going to re-release.

2010-03-21 21:32  thor

	* ., INSTALL, Makefile.am, NEWS, NEWS.libmpg123, configure.ac,
	  doc/examples/Makefile, libmpg123_large.pc.in, src/Makefile.am,
	  src/libmpg123/Makefile.am, src/libmpg123/feature.c,
	  src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: How embarrassing... I messed up the release --
	  forgot to merge the soname change!!

2010-03-20 16:54  thor

	* NEWS, configure.ac: last rites for version 1.11.0

2010-03-10 21:03  patr3ck

	* configure.ac: increase LIBMPG123_VERSION

2010-03-10 21:02  patr3ck

	* NEWS: Add an entry for the fixed potential icy reading problem

2010-03-10 20:31  patr3ck

	* src/libmpg123/readers.c: Shoutcast reading
	  Only read the rest of the bytes if there is no possibility to
	  reach a metadata boundary

2010-03-06 12:44  thor

	* configure.ac, src/libmpg123/mpg123.h.in: Add
	  mpg123_replace_reader to the list of largefile-sensitive
	  functions.
	  Also, add some commentry... the whole thing is still a mess.
	  
	  I have the situation that libmpg123 can be binary-incompatible in
	  a new version because large file support is enabled. Now,
	  additionally, there is an incompatibility when upgrading from a
	  largefile build to the new one with mpg123_replace_reader_64().
	  That one is really nasty, but it's been an API bug in the current
	  mindset. What should one do?
	  I am contemplating making a new library interface that drops
	  usage of off_t. No backwards compatibility... though, this is a
	  pity, since this is just a custom problem of Solaris/Linux in 32
	  bit mode.
	  This SUCKS!

2010-02-28 11:10  thor

	* NEWS, src/resolver.c: Specify AI_ADDRCONFIG for new-style name
	  resolution. Helps to prevent any IPv6 action on IPv4-only
	  network.

2010-02-27 19:18  thor

	* doc/ROAD_TO_LGPL: inserted a "the"

2010-02-27 19:13  thor

	* src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c: Update copyright years on layerN.c

2010-02-27 19:11  thor

	* src/libmpg123/layer3.c: Typo in license header.

2010-02-25 23:53  thor

	* NEWS: Note some NEWS.

2010-02-25 23:50  thor

	* NEWS: Import the complete NEWS for 1.10.1 .

2010-02-25 23:49  thor

	* configure.ac: Next version will be 1.11.0 .

2010-02-25 23:48  thor

	* ., NEWS, configure.ac, src/libmpg123/feature.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/ntom.c,
	  src/libmpg123/parse.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: Import the final (?) fix for bug 33217340 from
	  1.10.1 tag.
	  
	  More fixup for the feeder, propagation of read errors (including
	  NEED_MORE) from decode_header() and fi
	  xup of endless looping in reading again from the beginning all
	  the time.
	  The latter is correlated with dangerous memory behaviour -- now
	  we minimize storage of bytes that are n
	  ot needed again by forgetting buffers early.

2010-02-25 23:45  thor

	* ., src/libmpg123/feature.c, src/libmpg123/ntom.c,
	  src/libmpg123/parse.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: More OFF_P in debug messages... plus some
	  commenting.

2010-02-25 23:43  thor

	* ., NEWS, configure.ac, src/libmpg123/feature.c,
	  src/libmpg123/ntom.c, src/libmpg123/parse.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/wavhead.h: Import fix for bug
	  2951334 from 1.10.1 tag.

2010-02-25 23:40  thor

	* ., NEWS, configure.ac, src/libmpg123/feature.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/ntom.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/wavhead.h: Import largefile
	  changes from 1.10.1 tag. The header is not tied to the actual
	  library build anymore.

2010-02-15 20:19  patr3ck

	* ports/MSVC++/mpg123.h: only include inttypes.h for non msvc++
	  compilers and manually define the needed types

2010-02-14 20:16  thor

	* configure.ac: Lib changed... version is not 1.10.0.

2010-02-14 20:15  thor

	* src/libmpg123/readers.c: Finally found that bug that troubled
	  Patrick: The optimization for seeks into data that is alread in
	  the feeder bufferchain was flawed:
	  It incorrectly always demanded data to be fed one buffer size
	  after the current position... where it should be the length of
	  that part of the buffer that has not been decoded yet.
	  
	  Totally my fault, I guess... well, all I can do is to see it and
	  finally fix it. Plus, we now do have at least that regression
	  test now.

2010-02-14 20:11  thor

	* src/libmpg123/frame.c: Explicitly invalidate bit reservoir on
	  seek.

2010-02-14 20:09  thor

	* src/libmpg123/parse.c: Fixup some debugging lines for off_t.

2010-02-13 14:04  thor

	* src/libmpg123/libmpg123.c: Been changed in 2010.

2010-02-13 13:51  thor

	* src/libmpg123/libmpg123.c: Correct gapless code when firstframe
	  == lastframe (bug 2950218).
	  
	  The fix is rather simple: Just do the lastframe cut before the
	  firstframe cut.

2010-02-10 17:06  jon_y

	* src/win32_net.c: Fix some warnings when -Wall and DEBUG mode is
	  used for win64

2010-02-07 18:44  thor

	* src/libmpg123/compat.c: Another accidental commit reverted...
	  debugging statements in compat.c .

2010-02-07 16:53  thor

	* src/libmpg123/readers.c: Some code change in the reader slipped
	  through... it is not for the public.

2010-02-07 16:52  thor

	* src/httpget.c, src/libmpg123/compat.c, src/libmpg123/readers.c:
	  Fix some pedantic compiler complaints.

2010-02-07 16:51  thor

	* src/mpg123.c: Fix preprocessor logic for timeout parameter...
	  please double check, JonY.

2010-02-07 16:50  thor

	* src/output/openal.c: Force a type cast to make nagging build
	  succeed.

2010-02-07 15:15  jon_y

	* ., configure.ac, src/Makefile.am, src/httpget.c, src/httpget.h,
	  src/libmpg123/feature.c, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/ntom.c, src/libmpg123/reader.h,
	  src/libmpg123/readers.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/mpg123.c, src/mpg123app.h, src/output/Makefile.am,
	  src/playlist.c, src/playlist.h, src/resolver.c, src/wavhead.h,
	  src/win32_net.c, src/win32_support.c, src/win32_support.h: merge
	  win32_networking branch

2009-12-30 19:01  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Enable image
	  relocation again, fixing it causes problems in some environments

2009-12-30 18:44  patr3ck

	* ports/MSVC++/config.h: We use c style comments

2009-12-30 18:40  patr3ck

	* ports/MSVC++/2008clr/examples/ReplaceReaderclr/ReplaceReaderclr.csproj,
	  ports/MSVC++/2008clr/examples/feedseekclr/feedseekclr.csproj,
	  ports/MSVC++/2008clr/examples/scanclr/scanclr.csproj,
	  ports/MSVC++/config.h: Change clr examples build target from any
	  cpu to x86 to prevent problems on 64bit cpus

2009-12-30 15:46  patr3ck

	* src/libmpg123/readers.c: Remove leftover comment end

2009-12-29 22:59  patr3ck

	* src/libmpg123/libmpg123.c, src/libmpg123/parse.c: Only take
	  gapless into account if it is runtime-activated

2009-12-29 16:00  patr3ck

	* src/libmpg123/readers.c: Don't try to decode partial mp3 frames
	  at the end of a file

2009-12-29 15:58  patr3ck

	* src/libmpg123/libmpg123.c: Reset fresh also if GAPLESS is not
	  defined

2009-12-29 13:05  patr3ck

	* src/libmpg123/mpg123.h.in, src/libmpg123/parse.c: New runtime
	  flag MPG123_IGNORE_STREAMLENGTH. If this flag is set the frames
	  and bytes
	  information from Xing headers will be ignored

2009-12-28 16:00  thor

	* src/libmpg123/frame.c, src/libmpg123/libmpg123.c: A step towards
	  nailing the issue about inconsistent gapless info... fragments of
	  formely gapless mpeg files. It is just a step, stuff is still
	  broken for feeder, where we cannot detect track end inside
	  libmpg123 without help.
	  
	  But even after scanning, we don't get the correct number of
	  samples predicted. Further investigation follows.

2009-12-28 14:25  thor

	* src/libmpg123/libmpg123.c: Fix end sample ignoring for padding
	  that's larger than one frame. But that again throws up the issue
	  of validating / adapting gapless setup when the stream does not
	  match the gapless info from the header frame, like, it is longer.
	  We need to revisit that stuff, gapless code should generally be
	  restructured to be more clear.

2009-12-23 08:03  patr3ck

	* src/libmpg123/parse.c: jon_y pointed out that win32 socket code
	  needs the include of winsock2 not winsock 1.x

2009-12-22 20:01  patr3ck

	* src/libmpg123/parse.c: VS2005 wants the winsock.h instead of
	  ws2tcpip.h. All other MSVC versions still compile properly with
	  winsock.h

2009-12-22 19:36  patr3ck

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2010/libmpg123/libmpg123.vcxproj: The new file
	  feature.c was missing from the project files. This fixes tracker
	  item with id 2919416.

2009-12-18 13:22  jon_y

	* src/mpg123.c: Fix GENERIG typo

2009-12-10 15:57  patr3ck

	* ports/MSVC++/config.h, src/libmpg123/compat.c: Add HAVE_WINDOWS_H
	  define for msvc++ builds
	  Add WANT_WIN32_UNICODE for unicode msvc++ builds
	  Move win32 unicode related includes to the top of compat.c,
	  defining them inline gave compile time errors on msvc++

2009-12-08 15:43  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c: Remove the last ALIGNED() stack variabls
	  in favor of manually-aligned heap blocks. That helps som
	  compilers (Sun Studio) work with our assembly codes, as they
	  don't do stack alignment.
	  This also speeds up mpg123 by about 9% on my Linux/x86-64 box!
	  
	  The code is probably not that pretty... I'm adding to the growing
	  frame handle, funny pointer casting. But it works.

2009-12-05 20:38  thor

	* NEWS: Note about autotools change.

2009-12-05 20:27  thor

	* NEWS: updated NEWS

2009-12-05 20:26  thor

	* configure.ac: There been changes in lib.

2009-12-05 14:13  thor

	* configure.ac: More stuff for the os2me.h detection.

2009-12-03 15:38  jon_y

	* src/win32_support.h: Update header details

2009-12-03 15:21  thor

	* src/libmpg123/parse.c: Change || for &&, prevent that windows
	  header on unix.

2009-12-03 14:15  jon_y

	* src/win32_support.h: Add missing header includes

2009-12-03 14:05  jon_y

	* configure.ac, src/common.c, src/control_generic.c,
	  src/libmpg123/frame.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/parse.c, src/libmpg123/reader.h,
	  src/libmpg123/readers.c, src/mpg123.c, src/mpg123app.h,
	  src/term.c, src/term.h: * Add support for Cygwin builds
	  * Remove --enable-win32_unicode, check now based on _wopen being
	  available
	  * Use ws2tcpip.h instead of winsock.h

2009-12-03 09:50  thor

	* src/libmpg123/id3.c: Don't complain about empty ID3 tags. Jamendo
	  does those for some reason.

2009-12-02 17:33  thor

	* configure.ac: More elaborate header check for OS/2, with os2.h as
	  prerequesite of os2me.h.

2009-12-02 16:01  patr3ck

	* ports/MSVC++/2008clr/mpg123clr/AssemblyInfo.cpp,
	  ports/MSVC++/2008clr/mpg123clr/enum.h,
	  ports/MSVC++/2008clr/mpg123clr/id3v2.cpp,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.cpp,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.h,
	  ports/MSVC++/2008clr/mpg123clr/mpg123clr.rc: Added mpg123_feature
	  and check for uninitialized string pointer.
	  Patch by Malcolm Boczek.

2009-12-02 12:06  thor

	* configure.ac: Assembly doesn't work as such on our OS/2 setup:
	  
	  08:06 < TeLLie> synth_i586.S: Assembler messages:
	  08:06 < TeLLie> synth_i586.S:37: Error: unknown pseudo-op:
	  `.section'
	  
	  So let's focus on streamlined build for generic CPU for now.

2009-12-01 23:38  thor

	* NEWS, configure.ac: Improve OS/2 support according to latest
	  report from Tellie, added heuristic for detecting OS/2 where the
	  buffering is buildable.

2009-11-30 15:27  patr3ck

	* AUTHORS: Add JonY, Malcolm and fix Taihei

2009-11-30 10:40  thor

	* src/win32_support.h: Don't define preprocessor symbols starting
	  with _.

2009-11-30 10:39  thor

	* src/libmpg123/compat.h: Tellie was missing socklen_t on OS/2
	  (with klibc), added to compat.h .

2009-11-30 10:37  thor

	* AUTHORS: Add a line for Tellie as OS/2 guy.

2009-11-30 10:32  thor

	* src/output/os2.c: OS/2 audio fixes from Tellie.

2009-11-30 10:30  thor

	* src/output/os2.c: Convert os2.c to UNIX line ending.

2009-11-29 12:12  thor

	* src/libmpg123/mpg123.h.in: Add experimentality markers to
	  framebyframe functions.

2009-11-28 22:10  patr3ck

	* NEWS: Add win32 related new

2009-11-28 21:56  thor

	* NEWS, src/mpg123.c: Use debunk_mime() also for plain file URLs.
	  In future playlist or file should be detected automatically and
	  the need for the -@ option be removed.

2009-11-28 21:52  thor

	* src/httpget.c: At last, incorporate the suggestion from bug
	  2836904, ignoring auxilliary info of MIME types (like charset).
	  A warning is emitted, though, because there could be playlists in
	  funny encoding that should be handled for real by mpg123.
	  

2009-11-28 21:37  thor

	* NEWS, src/httpget.c: Make HTTP header field parsing (and MIME
	  types, while at it) case-insensitive. Fixes bug 2904736.

2009-11-28 21:23  thor

	* NEWS: Decision: We are doing 1.10, updated NEWS.

2009-11-28 21:03  thor

	* NEWS.libmpg123, configure.ac: increasing lib version

2009-11-28 21:01  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: Merge
	  Patrick's framebyframe functions. This is an experimental API
	  add-on for now.

2009-11-28 20:53  thor

	* src/win32conv.c, src/win32conv.h: Remove obsolete win32conv,
	  stuff moved.

2009-11-28 20:53  thor

	* configure.ac, src/Makefile.am, src/mpg123.c, src/mpg123app.h,
	  src/win32_support.c, src/win32_support.h, src/win32conv.c,
	  src/win32conv.h: Merge JonY's Win32 priority patch.

2009-11-28 16:48  thor

	* configure.ac, src/Makefile.am: Prevent -export-dynamic for the
	  mpg123 binary ... it borks up LTO build.

2009-11-27 17:47  patr3ck

	* ., ports/MSVC++/2008clr, src/libmpg123/feature.c,
	  src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: A brand new common language runtime wrapper
	  written by Malcolm Boczek

2009-11-27 11:01  thor

	* src/httpget.c: More verbosity on HTTP action (print all server
	  responses with -vvv) and bail out early when relocation headers
	  don't provide a new location.
	  
	  This is related to issue 2904736: The server in that case does
	  not give
	  
	  Location: http://some/place
	  
	  but
	  
	  location: http://some/place
	  
	  All other headers are uppercase as it should be, so, rather than
	  making mpg123 fuzzy match the broken header, I decided to make it
	  quickly error out with a better assessment of the situation.
	  The server should be fixed to put out correct headers.

2009-11-26 01:12  thor

	* src/output/Makefile.am: Export only mpg123_* symbol(s) from
	  modules. That prevents export of spurious LTO-symbols from gcc.
	  (Patch by JonY.)

2009-11-23 10:42  thor

	* NEWS, src/module.c: Fix modules with libtool 2.2.6b, see issue
	  2901661.
	  
	  What I wonder about: Seems like libdir in .la files is now
	  ingnored? Does that work in Windows, too?

2009-11-23 10:13  thor

	* NEWS: Import NEWS from 1.9.2 tag.

2009-11-18 17:20  thor

	* NEWS, configure.ac, src/libmpg123/libmpg123.c: Fix gapless logic
	  to cut trailing silence also on multiple decodings of one file.

2009-11-07 06:15  taihei

	* configure.ac: Changed linker flags for OSX 10.6
	  Good, 10.6 linker seems to be compatible with non-PIC assembly
	  code!

2009-10-22 07:36  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/parse.c: Do not
	  anticipate track end on reaching an expected number of frames
	  (from Xing header). Only end when there is nothing to read
	  anymore.
	  
	  This is to support http streams that like to prepend an intro
	  piece with Xing header (that tells mpg123 that the stream is
	  about to end in a few seconds).
	  An optimal solution would check for that case in the parser
	  (seeing that we are done with a sub-track and thus look out anew
	  for a first frame and Xing/Lame header, tags), but there is
	  potential trouble with gapless state... and audio_start .. seek
	  index. Well, one might get away with non-seekable streams, but
	  when you dump the webradio, you got a seekable file on disk.

2009-10-21 20:24  patr3ck

	* ports/MSVC++/2010/scan/scan.vcxproj,
	  ports/MSVC++/2010/scan/scan.vcxproj.filters: Visual Studio 2010
	  project files

2009-10-21 15:20  patr3ck

	* ports/MSVC++/2010, ports/MSVC++/2010/feedseek,
	  ports/MSVC++/2010/feedseek/feedseek.vcxproj,
	  ports/MSVC++/2010/feedseek/feedseek.vcxproj.filters,
	  ports/MSVC++/2010/libmpg123,
	  ports/MSVC++/2010/libmpg123/libmpg123.vcxproj,
	  ports/MSVC++/2010/mpg123.sln, ports/MSVC++/2010/scan,
	  ports/MSVC++/2010/scan/scan.vcxproj,
	  ports/MSVC++/2010/scan/scan.vcxproj.filters: Visual Studio 2010
	  project files for libmpg123 itself and the feedseek example.
	  scan and mpglib examples are still a work in progress.

2009-10-20 20:31  patr3ck

	* src/mpg123.c: Switch stdin to binary mode on win32. Patch
	  provided by smack32.

2009-10-16 00:18  thor

	* src/libmpg123/dct64_sse.S, src/libmpg123/dct64_sse_float.S,
	  src/libmpg123/dct64_x86_64.S, src/libmpg123/dct64_x86_64_float.S,
	  src/libmpg123/synth_3dnow.S, src/libmpg123/synth_sse_accurate.S,
	  src/libmpg123/synth_sse_float.S, src/libmpg123/synth_sse_s32.S,
	  src/libmpg123/synth_stereo_sse_accurate.S,
	  src/libmpg123/synth_stereo_sse_float.S,
	  src/libmpg123/synth_stereo_sse_s32.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_accurate.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64.S,
	  src/libmpg123/synth_x86_64_accurate.S,
	  src/libmpg123/synth_x86_64_float.S,
	  src/libmpg123/synth_x86_64_s32.S: remove redundant alignment
	  extra arguments (that also disturb some assemblers)

2009-10-14 13:33  thor

	* configure.ac: Add entries to choose default CPU on solaris/x86.

2009-10-14 13:32  thor

	* configure.ac: Reshuffle some checks, namely get socket libraries
	  sorted out before checking for IPv6 support.

2009-10-08 22:48  thor

	* ., NEWS, src/libmpg123/ntom.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: import NEWS for 1.9.1

2009-10-08 22:37  thor

	* ., src/libmpg123/compat.c, src/libmpg123/ntom.c,
	  src/libmpg123/readers.c, src/libmpg123/synth.c,
	  src/libmpg123/synth.h, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_i586.S, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_mmx.S, src/libmpg123/synth_ntom.h,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_s32.c,
	  src/wavhead.h: Typo in debugging message, bc-> was missing.

2009-10-08 12:41  thor

	* src/libmpg123/compat.c: Include fcntl.h so that open() and
	  close() are defined properly on UNIX.

2009-10-08 12:40  thor

	* src/libmpg123/index.c: no C++ comments

2009-10-08 08:44  jon_y

	* src/libmpg123/compat.c, src/libmpg123/compat.h,
	  src/libmpg123/readers.c: * src/libmpg123/compat.c (compat_open):
	  Use _open() instead of open() for windows hosts.
	  (compat_close): New.
	  * src/libmpg123/compat.h (compat_close): Declared and documented.
	  * src/libmpg123/readers.c (stream_close): Use compat_close()
	  instead of close().

2009-10-06 06:27  thor

	* NEWS: update NEWS about RVA from ID3

2009-10-06 06:25  thor

	* src/libmpg123/id3.c: Got the do-not-translate flag to
	  store_id3_text wrong! Since the MPG123_PLAIN_ID3TEXT feature
	  additon, the parsing of RVA info from comments and TXXX has been
	  broken. Splendit. Thanks to Jeroen for spotting the breakage.

2009-10-06 05:50  thor

	* src/libmpg123/readers.c: Oops, someone been in C++ mode while
	  adding a comment...

2009-10-06 05:49  thor

	* src/libmpg123/frame.h: Adding descripton of
	  frame_expect_outsamples.
	  
	  Plus note to self: gcc can't be arsed to complain about the
	  missing declaration unless -Wall is specified.

2009-10-05 13:18  patr3ck

	* src/libmpg123/frame.h: Add missing frame_expect_outsamples
	  function declaration

2009-10-04 22:30  thor

	* AUTHORS, NEWS, doc/README.remote, src/audio.c, src/audio.h,
	  src/control_generic.c, src/term.c: Add the pitch command to the
	  control interface, like envisioned by Jeroen.

2009-10-04 13:18  thor

	* NEWS, configure.ac, src/libmpg123/decode.h,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/ntom.c,
	  src/tests/seek_accuracy.c: Fix the CPU creep with NtoM decoding
	  by introducing simpler computation of the expected output samples
	  per frame.
	  Also made the seek_accuracy test a bit more verbose while
	  verifying that it yields the same results as before.

2009-09-30 11:17  jon_y

	* configure.ac: Remove some bashism

2009-09-28 21:11  thor

	* src/libmpg123/readers.c: Fix back-to-beginning for feed_skip
	  (fixes bug 2859531)/

2009-09-26 12:24  thor

	* src/module.c: Be more verbose (on request) about module
	  failures... mainly to remind me about that nonsense with absolute
	  paths in .la files.

2009-09-26 08:53  thor

	* src/libmpg123/mpg123.h.in: update the year

2009-09-24 21:36  patr3ck

	* src/libmpg123/layer3.c: Add NOQUIET where it was missing, patch
	  provided by Christian Heckendorf

2009-09-22 19:59  patr3ck

	* src/libmpg123/index.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: mpg123_set_index
	  Setting offsets to NULL and fill > 0 will allocate space for fill
	  entries in the index.
	  Setting offsets to NULL and fill to 0 will clear the index and
	  free the allocated memory.

2009-09-22 15:11  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln: Remove decoder build targets bloat.
	  Keep only Generic, Generic Dll, X86, X86 dll and Minimal Dll
	  builds in Debug and Release configurations.

2009-09-16 09:26  jon_y

	* configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/libmpg123.sym.in: Simplify libmpg123 export
	  mechanism and make feature report optional.

2009-09-15 15:37  patr3ck

	* src/libmpg123/mpg123.h.in: Update the documentation of
	  MPG123_BAD_INDEX_PAR to reflect its use in mpg123_set_index

2009-09-15 12:51  patr3ck

	* src/libmpg123/feature.c: Cosmetics: Remove unneeded indent
	  whitespace

2009-09-15 12:11  patr3ck

	* src/libmpg123/feature.c, src/libmpg123/index.c,
	  src/libmpg123/index.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym.in, src/libmpg123/mpg123.h.in: New
	  mpg123_set_index function which allows replacing of the formerly
	  internal seek index

2009-09-14 01:56  jon_y

	* src/win32conv.c, src/win32conv.h: Add missing win32 utf8
	  conversion files.

2009-09-13 15:27  jon_y

	* src/libmpg123/feature.c: fix lots of typos

2009-09-13 15:04  jon_y

	* src/libmpg123/feature.c, src/libmpg123/mpg123.h.in: expand
	  feature report function

2009-09-12 14:01  patr3ck

	* src/libmpg123/compat.c: Cosmetics: line endings

2009-09-12 13:53  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Minimal build: Make
	  sure the new VS2008 SP1 c runtime is used if VS2008SP1 is
	  installed. This prevents a obscure binding problem in
	  side-by-side installation scenarios

2009-09-12 13:48  patr3ck

	* src/libmpg123/compat.c: MSVC wants io.h if plain open is used

2009-09-08 15:35  jon_y

	* src/libmpg123/libmpg123.sym.in: Cosmetics: sort in alphabetical
	  order.

2009-09-07 07:17  thor

	* configure.ac, src/libmpg123/libmpg123.c: Prevent possible
	  discarding of decoded output when new format is discovered ...
	  remember: the bytes done until you get NEW_FORMAT are there to be
	  handled with the old format, these number of bytes does not have
	  to be zero.

2009-09-06 10:28  thor

	* NEWS: Add first NEWS for next release, win32 unicode.

2009-09-06 10:23  thor

	* ., NEWS.libmpg123, configure.ac, ports/MSVC++/CMP3Stream/INCLUDE,
	  ports/MSVC++/CMP3Stream/README, ports/MSVC++/CMP3Stream/SOURCE,
	  ports/MSVC++/CMP3Stream/libMPG123, src/Makefile.am,
	  src/libmpg123/Makefile.am, src/libmpg123/compat.c,
	  src/libmpg123/compat.h, src/libmpg123/feature.c,
	  src/libmpg123/libmpg123.sym.in, src/libmpg123/mpg123.h.in,
	  src/libmpg123/ntom.c, src/libmpg123/readers.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_3dnow.S, src/libmpg123/synth_3dnowext.S,
	  src/libmpg123/synth_8bit.c, src/libmpg123/synth_altivec.c,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/synth_sse.S,
	  src/libmpg123/synth_sse3d.h, src/mpg123.c, src/tests/plain_id3.c,
	  src/tests/testtext.h, src/tests/testtext.sh, src/tests/text.c,
	  src/wavhead.h, windows-builds.sh: Merge in the win32 unicode
	  feature branch.

2009-09-03 13:07  patr3ck

	* src/libmpg123/id3.c: Fix a signed/unsigned mismatch compiler
	  warning on VS2008

2009-09-03 05:50  thor

	* Makefile.am, autogen.sh, configure.ac: Resorting to mpg123.spec
	  generation in configure, while still distributing the result
	  (thanks to Leandro Nini to push us in that direction). Also,
	  preparing for next version.

2009-09-03 05:49  thor

	* TODO: feeder and free format

2009-08-25 21:02  taihei

	* configure.ac: buildsystem fix for upcoming OSX 10.6
	  10.6 is weird, host is "i386-apple-darwin10.0.0" but the default
	  target of gcc is x86-64 on 64-bit CPUs. so we should detect
	  x86-64 capability dynamically.
	  still broken on 32-bit CPUs with the default gcc(4.2); 32-bit
	  users should use gcc-4.0 instead.

2009-08-19 09:40  taihei

	* src/output/openal.c: fix for the issue of openal output (Bug
	  2840085)
	  get_formats_openal() returned an invalid value due to the wrong
	  operator priority.
	  I don't know why this didn't happen on x86 gccs...

2009-08-14 11:53  jon_y

	* windows-builds.sh: Make windows-builds.sh executable.

2009-08-13 23:38  thor

	* autogen.sh: Simplifying autogen.sh to use autoreconf ... and this
	  seems to solve the issue of including the m4 directory in the
	  distribution.

2009-08-13 10:45  thor

	* src/libmpg123/id3.c: typo in comment

2009-08-12 13:40  thor

	* ., NEWS, ports/MSVC++/CMP3Stream/INCLUDE,
	  ports/MSVC++/CMP3Stream/README, ports/MSVC++/CMP3Stream/SOURCE,
	  ports/MSVC++/CMP3Stream/libMPG123, src/libmpg123/ntom.c,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_3dnow.S, src/libmpg123/synth_3dnowext.S,
	  src/libmpg123/synth_8bit.c, src/libmpg123/synth_altivec.c,
	  src/libmpg123/synth_i486.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_ntom.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/synth_sse.S,
	  src/libmpg123/synth_sse3d.h, src/wavhead.h: Merging in the NEWS
	  typo fix.
	  
	  ...and a lot of very strange svn:mergeinfo updates.
	  What's the deal about these nonexistent paths in mhipp/ ?

2009-08-10 01:12  thor

	* TODO: note about JACK isue

2009-08-10 00:27  thor

	* NEWS, src/libmpg123/id3.c: handle bug 2834636: misdetection of
	  string separator in id3

2009-08-10 00:03  thor

	* NEWS: typo

2009-08-05 13:19  thor

	* NEWS: little nudging of NEWS

2009-08-04 20:52  thor

	* windows-builds.sh: Less builds for windows (dithering is inside
	  now).

2009-08-04 20:51  thor

	* NEWS, configure.ac, src/libmpg123/sample.h,
	  src/libmpg123/synth.c: Make generic dither always use accurate
	  rounding.

2009-08-02 17:08  thor

	* configure.ac: Yes, one needs to remove duplicates from the
	  list(s)... now with grep -w (is that portable?)

2009-08-02 16:28  thor

	* configure.ac: fix configure.ac for dither.lo ... why was that
	  grep there anyway?

2009-08-02 16:01  thor

	* NEWS: dithering needs fix

2009-08-02 15:26  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/Makefile.am,
	  src/libmpg123/icy2utf8.c, src/libmpg123/icy2utf8.h,
	  src/libmpg123/id3.c, src/libmpg123/id3.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/libmpg123.sym.in,
	  src/libmpg123/mpg123.h.in, src/metaprint.c,
	  src/tests/plain_id3.c, src/tests/testtext.h,
	  src/tests/testtext.sh, src/tests/text.c: It started out simple
	  :-/ ... A switch to preserve the original data in ID3v2 text
	  fields, with accompanied API additions to access the encoding
	  translations libmpg123 can do.
	  
	  With tests. Some testing at least...

2009-08-02 09:11  thor

	* src/libmpg123/id3.c: Yeah, make it const, does not really
	  matter...

2009-08-02 09:11  thor

	* configure.ac: More platforms defaulting to x86-64_all (linux,
	  too;-).

2009-08-02 08:50  thor

	* configure.ac: Make combined builds with dithering the default,
	  now, that this does not add this bload anymore.
	  

2009-08-02 00:33  thor

	* configure.ac: Lib bugfix version increased with the unicode
	  stuff, among others...

2009-08-02 00:32  thor

	* Makefile.am, configure.ac, m4: Silence some warnings from
	  libtool... it is happier with m4/ present (merge from r2252).

2009-08-02 00:24  thor

	* configure.ac: Merge in r2251: Use host instead of target in
	  configure; the book suggests that.

2009-08-01 22:14  thor

	* NEWS, src/libmpg123/id3.c: Be more tolerant with UTF16: always
	  check for BOM, in case of multiple BOMs, always use the last one.

2009-08-01 21:43  thor

	* src/legacy_module.c: cleanup a debugging line

2009-07-29 14:13  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Fix a compile error
	  on VS2008 in SSE related release builds. The object file for
	  synth_sse_accurate.asm was picked up from debug folder instead of
	  the release folder.

2009-07-29 05:08  taihei

	* configure.ac: fixed a compiling issue of altivec decoder on
	  macosx

2009-07-28 12:07  thor

	* NEWS: newer NEWS

2009-07-28 11:54  thor

	* configure.ac: Increase bugfix number for the lib, respecting the
	  zero fill for 8bit encodings.

2009-07-28 11:54  thor

	* NEWS: announce the term_hint

2009-07-28 11:52  thor

	* src/mpg123.c, src/term.c, src/term.h: handle bug 2800832 (feature
	  request): give note about terminal control being active and how
	  to get help

2009-07-28 11:33  thor

	* configure.ac: try to apply -faltivec only on macos, so that
	  altivec compile works under linux

2009-07-27 23:50  thor

	* NEWS: some news

2009-07-27 23:37  thor

	* src/libmpg123/libmpg123.c: fix bug 2805665: zero fillup was wrong
	  for unsigned 8 bit

2009-07-26 09:43  taihei

	* src/libmpg123/dither.c: comment about the IIR generator

2009-07-26 08:42  thor

	* src/tests/noise, src/tests/noise.c: Of course adding the _source_
	  of the test program!

2009-07-26 08:41  thor

	* src/Makefile.am, src/libmpg123/dither.c, src/libmpg123/dither.h,
	  src/tests/noise: Structure noise stuff a bit... add hooks to
	  export the noise, with test program using that.
	  This could become part of the mpg123 API...

2009-07-26 06:45  taihei

	* src/libmpg123/dither.c: code cleanup

2009-07-25 20:36  taihei

	* src/libmpg123/dither.c: fixed a discontinuity issue in the dither
	  noise table, and adjusted IIR coeffs a bit

2009-07-25 07:22  taihei

	* src/libmpg123/synth_arm.S: fixed a dumb mistake in arm asm code,
	  a cause for cracklings in some files

2009-07-23 11:45  patr3ck

	* ports/MSVC++/examples/feedseek.c: Support all samplerates
	  libmpg123 supports, not only 44100.

2009-07-22 22:28  thor

	* src/libmpg123/dnoise.dat, src/libmpg123/dnoise.sh: remove old
	  dnoise files

2009-07-22 22:25  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/optimize.c: Allocate dither table only on demand.
	  
	  Still missing: Some sampling-frequency mojo. And proper
	  evaluation of the dithering.

2009-07-22 22:07  thor

	* src/libmpg123/dither.c: add boilerplate

2009-07-22 22:06  thor

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/dither.c,
	  src/libmpg123/dither.h, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/optimize.h: Move dither
	  noise generation code to separate files.

2009-07-07 18:33  thor

	* AUTHORS, src/libmpg123/id3.c: Integrating patch from Andy Hefner
	  to fix another crash for (invalid) UTF16 strings.
	  
	  One modification: I replaced (l & ~1) with (l / 2)*2, because I
	  am wary of bit operations with the rather unspecific type size_t
	  (will every compiler make a 64bit ~1 if it's needed?).

2009-07-04 09:40  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/synth_arm.S,
	  src/libmpg123/synth_arm_accurate.S: replaced ARM pseudo asm
	  instructions, which are not supported by older gccs

2009-07-01 00:47  thor

	* src/Makefile.am, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/tests/seek_whence.c: An attempt to
	  fix trouble with files that do not have gapless info in
	  headers... mpg123_seek with SEEK_END issues a scan if possible,
	  scans update gapless info so that we have at least some value for
	  the "end of samples".
	  SEEK_END used to be just broken for files without gapless info
	  (though there's an easy workaroudn with SEEK_SET and
	  mpg123_length...).

2009-06-25 11:24  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Use the correct
	  build directory in the new minimal dll build
	  Make sure the dependency is the new VS2008 SP1 c runtime if
	  VS2008SP1 is installed. This prevents a obscure binding problem
	  in side-by-side installation scenarios

2009-06-23 06:35  taihei

	* src/libmpg123/frame.c: dither_table_init should be activated only
	  when OPT_DITHER is defined

2009-06-22 20:11  taihei

	* src/libmpg123/frame.c: dither table initialization is separated
	  out, and better frequency response of the noise

2009-06-22 17:28  taihei

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/optimize.h: run-time dither
	  noise generation: no more binary bloating!
	  
	  at this moment high pass TPDF noise is applied, but still there
	  will be a room for argument about the optimum shape of the noise.

2009-06-20 15:41  thor

	* configure.ac, src/libmpg123/parse.c: Some cleaning work for free
	  format:
	  
	  - Remove now defunct check for un-supported free format header.
	  - Initialize the header variable in the free format framesize
	  guesser.
	  - Also let the free format code fail early for non-seekable
	  unbuffered streams.
	  - Mark this as new lib version... new format support is a new
	  feature.
	  
	  FIXME: We need to ensure correct behaviour for feeder API
	  (MPG123_NEED_MORE).

2009-06-20 14:49  thor

	* src/libmpg123/parse.c: little typo

2009-06-20 14:46  thor

	* src/output/Makefile.am: add openal to the generator script in
	  Makefile.am

2009-06-20 14:08  taihei

	* configure.ac, src/common.c, src/output/Makefile.am,
	  src/output/openal.c: a new output module: OpenAL
	  currently tested on Linux and OSX

2009-06-20 13:07  taihei

	* src/common.c: print_header now shows bitrate of freeformat files
	  correctly

2009-06-20 06:16  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/synth.h: sorry,
	  the previous commit included some garbages

2009-06-20 06:11  taihei

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/parse.c,
	  src/libmpg123/synth.h: first attempt to support freeformat

2009-06-14 20:26  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Add a minimal
	  decoding only dll build.

2009-06-14 12:39  thor

	* NEWS, ports/Sony_PSP/Makefile.psp, ports/Sony_PSP/config.h:
	  update Sony PSP build files

2009-06-14 12:37  thor

	* configure.ac: we are working on 1.9.0

2009-06-14 12:37  thor

	* NEWS: import NEWS for 1.8.1

2009-06-14 12:13  thor

	* README: update README for accuracy and x86-64 stuff

2009-06-14 11:59  thor

	* configure.ac: Merge r2182: really fix configure with modules...

2009-06-14 11:11  taihei

	* src/libmpg123/synth_altivec.c: fix for the compilation failure on
	  older gcc

2009-06-13 10:40  thor

	* src/mpg123.c: Combine conflicting code for binpath and program
	  name extraction into one piece of code that works together. See
	  bug #2805663.

2009-06-11 09:29  thor

	* configure.ac: fixup of libltdl stuff with --enable-modules, that
	  had been broken...

2009-06-10 08:00  thor

	* src/libmpg123/mpg123.h.in: reminder about return codes also for
	  decoding routines specifically

2009-06-10 07:55  thor

	* NEWS, doc/examples/dumb_decoder.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: Fix MPG123_NEW_FORMAT behaviour ...
	  clients are not forced to call mpg123_getformat(), it is just a
	  one-time hint.

2009-06-08 17:51  taihei

	* src/libmpg123/l12_integer_tables.h,
	  src/libmpg123/l3_integer_tables.h: missing files for the previous
	  commit...

2009-06-08 17:48  taihei

	* src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/layer2.c, src/libmpg123/layer3.c,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/tabinit.c: -
	  introduced pre-calculated tables for integer decoders
	  run-time table initialization which includes many expensive FP
	  operations is a very heavy task for the CPUs without FPU
	  (sometimes takes more cpu time than decoding itself, the cause of
	  stuttering at startup). the binary size increases(about +32KB),
	  but significantly faster on those CPUs. undef PRECALC_TABLES
	  macro in mpg123lib_intern.h to suppress this behavior.
	  - faster decwin table initialization for integer decoders
	  we can't adopt pre-calculation for this table due to RVA, so
	  replaced some floating-point maths with fixed-point ones for
	  faster initialization.
	  - removed COS1 table from layer3.c, which is no longer used
	  anywhere.

2009-06-08 03:02  taihei

	* src/libmpg123/synth_stereo_x86_64_s32.S: a fix for the crash in
	  s32 stereo synth, on win64

2009-06-07 12:31  taihei

	* src/libmpg123/synth_arm.S, src/libmpg123/synth_arm_accurate.S:
	  ...and software pipelining

2009-06-07 11:43  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/synth_arm.S,
	  src/libmpg123/synth_arm_accurate.S: minor optimizations for arm
	  decoder

2009-06-06 20:51  thor

	* configure.ac: another attempt to keep up with lib version

2009-06-06 18:49  taihei

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/frame.c, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h, src/libmpg123/synth.c,
	  src/libmpg123/synth_arm.S, src/libmpg123/synth_arm_accurate.S,
	  src/libmpg123/tabinit.c: "full" asm optimized synths for ARM
	  processors

2009-06-05 15:34  taihei

	* src/libmpg123/synth_stereo_x86_64.S: fix for the 16bit stereo
	  synth bug, in win64

2009-06-04 16:43  taihei

	* configure.ac: slight change of the arm target name

2009-06-03 12:27  taihei

	* configure.ac: arm code works (confirmed on qemu), change the
	  default decoder for arm

2009-06-03 11:18  taihei

	* configure.ac, src/libmpg123/mpg123lib_intern.h: added asm
	  optimizations for ppc and arm, enabled with
	  --with-cpu={ppc|arm}_nofpu. ppc code is tested and works, but arm
	  code isn't tested yet.

2009-06-03 05:03  taihei

	* src/libmpg123/mpg123lib_intern.h: faster inline asm

2009-06-02 21:53  thor

	* NEWS: could not resist the lame pun

2009-06-02 21:32  thor

	* NEWS: note some NEWS for tomorriw

2009-06-02 18:37  thor

	* configure.ac: new lib version... there have been changes

2009-06-02 18:36  thor

	* NEWS: note OS/2 state

2009-06-02 16:48  taihei

	* src/libmpg123/mpg123lib_intern.h: use macro style inline asm

2009-06-01 19:43  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/sample.h: tuned
	  the fast fixed-point decoder; now fully compliant in layer3 test

2009-06-01 17:50  taihei

	* src/libmpg123/dct64.c, src/libmpg123/dct64_i386.c,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/sample.h,
	  src/libmpg123/synth.h, src/libmpg123/synth_ntom.h,
	  src/libmpg123/tabinit.c: introducing the same technique as the
	  MMX/SSE integer decoder. now limited accracy, but faster decoder
	  is used for the fixed-point decoders when the
	  "--enable-int-quality" switch is not specified.

2009-06-01 15:56  taihei

	* src/libmpg123/mpg123lib_intern.h: faster i386_nofpu decoder with
	  inline asm; about 20% faster on core2

2009-06-01 08:01  thor

	* configure.ac: more lib changes... now fully compliant integer
	  code

2009-06-01 07:53  taihei

	* src/libmpg123/mpg123lib_intern.h: more accurate double-to-int
	  rounding

2009-06-01 05:45  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/sample.h:
	  finally, fully compliant fixed point decoder

2009-05-31 18:57  taihei

	* src/libmpg123/dct64.c, src/libmpg123/dct64_i386.c,
	  src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/sample.h, src/libmpg123/tabinit.c: tuned integer
	  decoder again; significantly better than the previous one.

2009-05-31 17:05  thor

	* man1/mpg123.1, src/mpg123.c: The --gain parameter is deprecated
	  (works, but only there for backwards compatibility).
	  
	  Applied patch from Andreas Neustifter (with one added witty
	  bootnote in the man page).

2009-05-31 09:35  thor

	* configure.ac: increase version for the past integer decoder fixes

2009-05-31 04:46  taihei

	* src/libmpg123/mpg123lib_intern.h: fixed a bug in integer layer2
	  decoder; should be correct now.

2009-05-30 19:06  taihei

	* src/libmpg123/dct64.c, src/libmpg123/dct64_i386.c,
	  src/libmpg123/layer3.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/sample.h, src/libmpg123/tabinit.c: improve accuracy
	  of integer decoders

2009-05-30 15:49  thor

	* NEWS, src/audio.c, src/mpg123.c, src/mpg123app.h: re-enable the
	  gain parameter... neets testing on a system that actually
	  features hardware gain

2009-05-30 14:53  thor

	* configure.ac, src/libmpg123/layer3.c: increase library version,
	  plus one small piece of conditional code for REAL_IS_FIXED

2009-05-30 14:09  thor

	* src/audio.c, src/buffer.c: enable buffer to work with any audio
	  output type (that actually helped me debugging for the previous
	  commit)

2009-05-30 14:05  thor

	* NEWS, src/audio.c, src/buffer.c, src/xfermem.c, src/xfermem.h:
	  fix bug 2796802 (awaiting confirmation): we need to wait for the
	  buffer to be ready, not just let it loose

2009-05-30 07:11  taihei

	* src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/mpg123lib_intern.h: more
	  accurate fixed point decoder; still not perfect, but quite good.
	  also fixes totally broken fixed point layer 1/2 decoder.

2009-05-27 16:18  taihei

	* configure.ac, src/libmpg123/dct64_i386.c: fix for i386_nofpu
	  decoder; real and s32 output should be disabled for it, and
	  dct64_i386 should use REAL_MUL macro for multiplications

2009-05-26 06:26  thor

	* man1/mpg123.1: add space between --pitch and its parameter

2009-05-24 00:37  thor

	* configure.ac: that is a new lib version

2009-05-24 00:30  thor

	* configure.ac: provide means to enable buffer where system
	  whitelist fails (we do not have proper tests for the needed
	  features yet)

2009-05-23 11:48  taihei

	* src/libmpg123/dct64_x86_64.S, src/libmpg123/dct64_x86_64_float.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_accurate.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64.S,
	  src/libmpg123/synth_x86_64_accurate.S,
	  src/libmpg123/synth_x86_64_float.S,
	  src/libmpg123/synth_x86_64_s32.S: added support for windows x64
	  calling convention (why is it totally different from the standard
	  one? :p) in x86-64 asm functions; I'm not sure if this works
	  well, but I hope this helps...

2009-05-21 22:39  thor

	* Makefile.am, NEWS.libmpg123, doc/Makefile.am: merge changes from
	  1.8rc1 branch: Makefile.am updates, libmpg123 17.0.17 news

2009-05-21 20:32  thor

	* doc/libmpg123_speed.txt: update speed notes

2009-05-21 11:03  thor

	* doc/THANKS: at least some thanks to JonY

2009-05-21 10:56  thor

	* src/module.c, src/mpg123.c: proper fix for the no-path case, this
	  time

2009-05-21 10:08  thor

	* src/module.c: actually tell the complete current moddir to be
	  tested in debug output

2009-05-21 09:54  thor

	* src/module.c, src/mpg123.c: Try to handle empty binary path for
	  finding modules (windows needs it? -- we want testing).

2009-05-20 22:01  thor

	* TODO: Some TODOs are done.

2009-05-20 21:57  thor

	* doc/ACCURACY, doc/README.WIN32: doc update
	  
	  Remove outdated win32 README, update accuracy info.

2009-05-20 21:57  thor

	* doc/THANKS: More alphabetical, a small passage to cover people I
	  did not name.

2009-05-19 22:39  patr3ck

	* ports/MSVC++/config.h, src/libmpg123/sample.h: define __inline as
	  inline in config.h to make static inline declarations work as
	  sugested by sobukus

2009-05-19 22:38  thor

	* NEWS: An attempt to get the NEWS for 1.8.0 written down.

2009-05-19 22:38  thor

	* AUTHORS: be more specific about Taihei;-)

2009-05-19 21:33  thor

	* src/tests: ignore

2009-05-19 21:31  thor

	* xmms2-plugin: xmms2 plugin is in xmms2 upstream source

2009-05-19 21:14  thor

	* src/libmpg123/readers.c: also do nott check for anticipated file
	  end in the ICY reader...

2009-05-19 14:35  thor

	* src/libmpg123/readers.c: Do not anticipate file end, always wait
	  for read() indicating real EOF (hopefully fixes bug 2793677 with
	  embedded ID3v1).

2009-05-19 09:55  thor

	* src/mpg123.c: do nott included unnecessary headers in mpg123.c

2009-05-18 14:15  thor

	* src/libmpg123/mpg123lib_intern.h: load config.h earlier to make
	  the ABI_ALIGN_FUN work again, thanks to Leandro for spotting this
	  (still needs testing)

2009-05-18 08:21  taihei

	* src/libmpg123/synth_3dnow.S: supported accurate rounding for
	  3dnow decoder

2009-05-17 21:42  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Catch up with
	  Taihai's latest additions to SSE optimized decoding

2009-05-17 19:38  thor

	* configure.ac: there is no synth_stereo_sse.S

2009-05-17 13:29  thor

	* configure.ac: organize the --with-int-quality code... choose
	  either set of sources, not always both

2009-05-17 11:19  thor

	* src/libmpg123/Makefile.am: Enable RPATH builds for dithering
	  decoders by using full path to dnoise.sh. Just a note again, for
	  funny paths: Spaces in source path will blow up with autoconf. Do
	  not forget that.

2009-05-17 06:21  taihei

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/synth.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/synth_sse_accurate.S,
	  src/libmpg123/synth_sse_s32.S,
	  src/libmpg123/synth_stereo_sse_accurate.S,
	  src/libmpg123/synth_stereo_sse_s32.S,
	  src/libmpg123/synth_stereo_x86_64_accurate.S,
	  src/libmpg123/synth_x86_64_accurate.S: - added accurate 16bit
	  decoder for SSE and x86-64 -- should be used when
	  --enable-int-quality=yes is specified
	  - added optimized s32 synth for SSE

2009-05-17 00:36  thor

	* man1/mpg123.1, src/mpg123.c, src/mpg123app.h: add --preframes,
	  update documentation

2009-05-17 00:22  thor

	* src/libmpg123/readers.c: do not seek back to an index position
	  when we are already closer to the aim

2009-05-16 23:44  thor

	* configure.ac, src/libmpg123/libmpg123.c: Be smarter about
	  seeking.. prevent unnecessary back-seeks when we are on track
	  already.

2009-05-16 22:58  thor

	* src/libmpg123/format.c: reduce verbosity of format matching
	  code... people get irritated by mentioning of resampling where
	  there is no resampling

2009-05-16 22:26  thor

	* configure.ac, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/sample.h: compile-time choice for integer accuracy
	  
	  default is the truncation as before, as it's the fastest and
	  casual people won't notice, but there is
	  ./configure --enable-int-quality
	  to make integer conversion more proper and improve the accuracy
	  in the LSB.

2009-05-16 09:25  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/readers.c: Non-seekable streams can still go
	  forwards, that idea has been in the code, but not used.
	  
	  This is hard on the border for things one should not add during
	  stabilizing a release.
	  I know.

2009-05-16 09:23  thor

	* src/mpg123.c: Do not try to skip 0 frames, that can unnecessarily
	  break playback of non-seekable streams.

2009-05-16 09:17  thor

	* src/libmpg123/id3.c: fix ID3v2 RVA2 parsing of negative values,
	  see bug #2792417

2009-05-16 09:14  thor

	* configure.ac: for completeness, add int16_t

2009-05-14 15:49  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Add .S files and
	  mpg123.h.in to the project to make MSVC SVN plugins work
	  correctly. Suggested by TheVinn.

2009-05-14 14:43  patr3ck

	* src/libmpg123/mpg123lib_intern.h: I should have removed the
	  inline and leave the static in place.

2009-05-14 14:41  patr3ck

	* src/libmpg123/mpg123lib_intern.h: Removed static before inline.
	  It gave compile errors on MSVC++. Spotted and fix suggested by
	  TheVinn on IRC.

2009-05-14 07:25  taihei

	* src/libmpg123/mpg123lib_intern.h: faster accurate rounding

2009-05-13 07:47  taihei

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/synth_altivec.c:
	  REAL_TO_SHORT should round fp value to the nearest integer,
	  without truncation. This makes 16-bit integer output of the
	  generic (and altivec) decoder fully compliant with the standard
	  (but slower).
	  
	  ==== Layer 1 ====
	  layer 1 16bit compliance (unlikely...)
	  RMS=4.36437e-06 (PASS) maxdiff=7.62939e-06 (PASS)
	  layer 1 float compliance (hopefully fine)
	  RMS=1.97436e-08 (PASS) maxdiff=1.49012e-07 (PASS)
	  
	  ==== Layer 2 ====
	  layer 2 16bit compliance (unlikely...)
	  RMS=3.5121e-06 (PASS) maxdiff=7.62939e-06 (PASS)
	  layer 2 float compliance (hopefully fine)
	  RMS=1.78736e-08 (PASS) maxdiff=8.28877e-08 (PASS)
	  
	  ==== Layer 3 ====
	  layer 3 16bit compliance (unlikely...)
	  RMS=4.30092e-06 (PASS) maxdiff=7.689e-06 (PASS)
	  layer 3 float compliance (hopefully fine)
	  RMS=2.14814e-08 (PASS) maxdiff=1.67638e-07 (PASS)

2009-05-12 08:38  taihei

	* src/libmpg123/layer3.c: a fix for the HF cutoff problem

2009-05-12 07:10  thor

	* src/libmpg123/parse.c: document that I did test the halfspeed
	  stuff

2009-05-11 12:19  thor

	* NEWS, src/playlist.c: Wow, the last playlist fix disabled random
	  play! Man, you have to test that stuff...
	  
	  Now hopefully fine and also the randomness enhancement
	  documented.

2009-05-11 12:16  thor

	* NEWS.libmpg123: lib news... MPG123_PREFRAMES

2009-05-11 12:16  thor

	* configure.ac: fix nofpu decoder build (disable 32bit and float
	  output in configure already)

2009-05-10 23:36  thor

	* src/libmpg123/mpg123lib_intern.h, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h: fix configure for generic_nofpu

2009-05-10 22:17  thor

	* src/libmpg123/frame.c: Settling on preframes=4 per default, with
	  fixed upper limit of 2 for layer 1 and 2, as well as lower limit
	  1 for layer 3.

2009-05-10 21:56  thor

	* src/libmpg123/libmpg123.c: Reset frame buffers before seeks.
	  
	  That helps to get the first sample accurately... and generally.
	  Now I need 2 preframes for layer 1 and 2 compliance bitstreams, 4
	  for layer 3.

2009-05-10 21:46  thor

	* src/libmpg123/frame.c, src/tests/seek_accuracy.c: Resuming work
	  on seek accuracy.
	  
	  Layer 3 is mostly fine, layer 1 and 2 gives me creeps. They work
	  now basically, but also only with certain preframes values.
	  Also, getting the first sample again always fails.
	  Will try to reinit decoder for that case... or in any case...

2009-05-10 21:20  thor

	* src/libmpg123/getbits.h: Importing a C version of getbits. That
	  fixes layer1 decoding.
	  
	  I am not sure what exactly went wrong with the macro, but the C
	  code makes mpg123 a compliant layer 1 decoder again.
	  This should be no performance regression, at least it is none on
	  my system. The C code is still in the header, ready to be inlined
	  for the same result.
	  Maybe I will move all getbits macros to static C functions...

2009-05-10 21:17  thor

	* src/libmpg123/libmpg123.c: does not need getbits

2009-05-10 19:27  thor

	* configure.ac, src/libmpg123/parse.c: Fix the breakage that the
	  layer2 testing brought to light: The parser screamed header
	  change on changes between stereo modes.
	  
	  I got that check wrong... funny, that this doesn't jump on your
	  feet with real world files... that much, at least.
	  To elaborate a bit: The breakage meant too many decoder buffer
	  reinitializations during the stream, introducing some tickling,
	  and, of course, breaking seek sample value accuracy.

2009-05-04 09:07  thor

	* NEWS.libmpg123: working on the libmpg123 version jump NEWS

2009-05-04 09:06  thor

	* src/tests/seek_accuracy.c: more informative test report

2009-05-03 21:46  thor

	* NEWS: import the NEWS for the 1.7.x bugfix releases

2009-05-03 19:38  patr3ck

	* ports/MSVC++/2008/mpg123.sln: Switch default build from x86 to
	  generic.

2009-05-03 15:36  taihei

	* configure.ac: a fix for configure help message

2009-05-03 13:14  thor

	* configure.ac, src/libmpg123/optimize.c: move SSE up in the list
	  of decoders as shown to the outside workd

2009-05-02 07:33  thor

	* Makefile.am: include the CPU benchmark script in distribution

2009-05-01 16:08  taihei

	* configure.ac: disable modules automatically when libltdl not
	  found

2009-05-01 06:02  taihei

	* src/libmpg123/dct64_sse.S, src/libmpg123/dct64_sse_float.S,
	  src/libmpg123/synth_sse3d.h: a new dct64 with SSE optimization,
	  written from scratch

2009-05-01 00:06  thor

	* scripts/benchmark-cpu.pl: update the CPU benchmark... producing
	  some formatted text output (for plotting, for example)

2009-04-30 23:24  thor

	* configure.ac, src/libmpg123/optimize.c: Make SSE the first choice
	  for x86.
	  
	  It is generally faster than 3DNowExt on AMD CPUs that support
	  both (especially once Taihei brings in the improved dct64 for
	  SSE).
	  The optimized dct36 seems even to make it _slower_ for K7 and K8.
	  On K6 it is faster than plain dct36.
	  Need to check how it is on early K7 without SSE unit.

2009-04-30 14:50  thor

	* configure.ac: further fixing of configure... now runs with
	  --disable-shared again

2009-04-30 14:28  thor

	* configure.ac: check for sys/types.h explicitly

2009-04-30 14:21  thor

	* Makefile.am, src/Makefile.am: Remove legacy build system from
	  distribution, too.

2009-04-30 14:17  thor

	* INSTALL, MakeLegacy.sh, src/Makefile.legacy, src/Makefile.win32,
	  src/config.h.legacy: Legacy build system is gone for now.

2009-04-30 14:10  thor

	* configure.ac: Quickfix for configure... libtool uses $EGREP
	  without checking for it.
	  This is apparently collateral damage from libltdl removal ... and
	  it seems wrong having to check for that program manually.

2009-04-29 10:17  thor

	* src/libmpg123/optimize.c: Use the SSE-optimized real synths in
	  3DNowExt decoder when CPU can do SSE, too.
	  Still open is the question of SSE being faster on some CPUs that
	  can do 3DNowExt (namely AMD64).
	  AthlonXPs are a bit faster on 3DNowExt... but the margin is so
	  tigth that some tweaked optimization to the SSE code would
	  overcome it easily, I guess.

2009-04-29 10:13  thor

	* windows-builds.sh: x86-64, not x86_64

2009-04-28 22:02  patr3ck

	* src/libmpg123/layer2.c, src/libmpg123/layer3.c,
	  src/libmpg123/tabinit.c: Fix a few MSVC++ compiler warnings.

2009-04-28 21:44  patr3ck

	* ports/MSVC++/2008/libmpg123,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln: Add MSVC builds with combined,
	  runtime selected optimizations in Debug/Release Dll/Lib variants.
	  Dither optimizations are not yet included.

2009-04-28 21:38  patr3ck

	* ports/MSVC++/examples/feedseek.c: Make feedseek output more
	  verbose

2009-04-28 21:37  patr3ck

	* src/libmpg123/synth_i586_dither.S: Change fadd to fadds to make
	  yasm happy

2009-04-28 16:28  thor

	* windows-builds.sh: switch to manual libltdl copying for now...

2009-04-28 15:34  patr3ck

	* ports/MSVC++/2008/feedseek/feedseek.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln,
	  ports/MSVC++/2008/mpglib/mpglib.vcproj,
	  ports/MSVC++/2008/scan/scan.vcproj: Add more assembler optimized
	  builds in preparation for the combining OPT_MULTI build.
	  
	  We now have the following builds in MSVC++ 2008:
	  OPT_GENERIC (Debug/Release, Dll/Lib)
	  OPT_I386 (Debug/Release, Dll/Lib)
	  OPT_I586 (Debug/Release, Dll/Lib)
	  OPT_MMX (Debug/Release, Dll/Lib)
	  OPT_MULTI OPT_3DNOW (Debug/Release, Dll/Lib)
	  OPT_MULTI OPT_3DNOWEXT (Debug/Release, Dll/Lib)
	  OPT_SSE (Debug/Release, Dll/Lib)

2009-04-28 14:35  patr3ck

	* windows-builds.sh: Adapt 64bit cross-compiler settings

2009-04-27 23:49  thor

	* NEWS.libmpg123: do not forget...

2009-04-27 23:44  thor

	* Makefile.am, configure.ac, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/tests/seek_accuracy.c: Making the
	  preframes count (aka IGNORESHIFT) runtime-tunable via
	  MPG123_PREFRAMES paramter.
	  There is no command-line paramter for the mpg123 app yet.
	  
	  Also, increasing the default preframes count to 13, based on
	  observation of another Queens$
	  Perhaps I need to make the test check _every_ sample position...
	  anyhow:
	  
	  Think about the best default value for the 1.8.0 realease! 13 is
	  quite big, where 3 may be fine for th$
	  Slow machines would prefer 1 or 2, I guess. Of course mpg123
	  needs a command line parameter, too.

2009-04-27 23:25  thor

	* autogen.sh: Bye, bye libltdl part 2: autogen.sh

2009-04-27 23:25  thor

	* configure.ac, libltdl: Bye, bye, libtldl.
	  
	  Really, get it installed in your system or forget about it. It is
	  mostly harmful to have the libltdl as a copy in mpg123.
	  We seem to get rpms with libltdl in it where there is a libtool
	  rpm for that... needless nuisance. Get your libltdl and then
	  mpg123 -- it's Free!

2009-04-27 07:01  thor

	* configure.ac, src/libmpg123/frame.c: Increasing IGNORESHIFT to
	  stay sample-accurate on seeks also for some more tricky layer 3
	  files.
	  
	  I am still not sure what the theoretical/practical maximum number
	  of intermangled (via bit reservoir) frames is.

2009-04-27 06:55  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: Documenting
	  the fallacy of MPG123_UPSPEED and friends together with
	  sample-accurate seeking.

2009-04-27 06:53  thor

	* configure.ac: increase lib version for last fix

2009-04-27 06:53  thor

	* src/Makefile.am, src/tests, src/tests/seek_accuracy.c: Now
	  properly working with seek accuracy: There is a test!

2009-04-27 05:43  thor

	* src/libmpg123/libmpg123.c: Another thing broke with the
	  doublespeed fix: minimal-glitch seeking! Fixing that regression
	  from 1.6.x series.
	  
	  Now it should be as good/bad as before...

2009-04-22 19:48  patr3ck

	* src/libmpg123/parse.c: Discard bitreservoir of previous frames if
	  a resync is needed

2009-04-20 12:43  taihei

	* src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64_s32.S: a bit more optimum way for the
	  previous commit

2009-04-20 11:37  taihei

	* src/libmpg123/synth_altivec.c,
	  src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64_s32.S: Fixed optimized s32 synth
	  functions to detect and treat clipped samples more accurately;
	  positive overflow should be rounded to 2147483647

2009-04-18 16:20  taihei

	* configure.ac, src/audio.c, src/libmpg123/Makefile.am,
	  src/libmpg123/decode.h, src/libmpg123/optimize.c,
	  src/libmpg123/synth_altivec.c, src/libmpg123/synth_s32.c,
	  src/libmpg123/synth_stereo_x86_64_s32.S,
	  src/libmpg123/synth_x86_64_s32.S, src/wav.c: - Added x86-64 &
	  AltiVec optimizations for s32 output
	  - Added support for s32 output in wav writer module
	  - Cleaned up AltiVec synth functions

2009-04-18 08:09  taihei

	* src/output/coreaudio.c: updated coreaudio module to support float
	  and s32 output

2009-04-17 17:22  taihei

	* src/libmpg123/synth_stereo_x86_64.S: fixed an issue in clip
	  sample counting

2009-04-17 06:36  taihei

	* src/libmpg123/synth_altivec.c: Also fixed an alignment issue in
	  altivec stereo synths

2009-04-16 18:35  taihei

	* src/libmpg123/synth_stereo_sse_float.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_float.S: fixed stereo synth
	  functions to assume unaligned output buffers; a bit slower, but
	  safe

2009-04-16 09:40  patr3ck

	* ports/MSVC++/2008/feedseek/feedseek.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln,
	  ports/MSVC++/2008/mpglib/mpglib.vcproj,
	  ports/MSVC++/2008/scan/scan.vcproj: Update the MSVC++ SSE build
	  to include the new 32 bit float optimizations, this is only
	  working in the debug build at the moment
	  Add new Debug_SSE_Dll build
	  Remove the invalid "Debug Asm" build that should not be part of
	  the project files
	  Add debug symbols to the release builds where it was missing

2009-04-15 15:08  taihei

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_stereo_sse_float.S,
	  src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_x86_64.S, src/libmpg123/synth_x86_64_float.S:
	  Added stereo version of SSE float synth

2009-04-15 12:08  taihei

	* configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/dct64_sse_float.S,
	  src/libmpg123/dct64_x86_64_float.S, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_sse_float.S, src/libmpg123/tabinit.c: - Added
	  32-bit version of SSE optimized synth for float output
	  - Optimized x86-64 float dct64 a bit

2009-04-14 11:04  taihei

	* src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_float.S,
	  src/libmpg123/synth_x86_64.S, src/libmpg123/synth_x86_64_float.S:
	  optimized x86-64 synth a bit

2009-04-14 08:38  taihei

	* src/libmpg123/decode.h, src/libmpg123/optimize.c,
	  src/libmpg123/synth_altivec.c: added stereo optimized synth for
	  altvec

2009-04-13 20:28  thor

	* configure.ac, src/libmpg123/optimize.c: A single comma, its
	  absence causing trouble for standalone 3DNowExt build.

2009-04-13 00:45  thor

	* configure.ac: Another merge from Taihei's branch: MacOS build
	  fixes (configure).

2009-04-13 00:37  thor

	* INSTALL: note about incomplete configure (wrt minimal builds with
	  optimizations)

2009-04-13 00:30  thor

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/synth.c,
	  src/libmpg123/synth_real.c, src/libmpg123/synth_stereo_x86_64.S,
	  src/libmpg123/synth_stereo_x86_64_float.S: Merge from Taihei's
	  branch: The x86-64 stereo synths.
	  
	  The huge benefit is to be observed for the float stereo synth,
	  but it is also noticable for the 16bit one.
	  In any case: We are _fast_!

2009-04-13 00:04  thor

	* configure.ac: give this a unique library version

2009-04-13 00:03  thor

	* src/libmpg123/dct64_altivec.c, src/libmpg123/decode.h,
	  src/libmpg123/frame.c, src/libmpg123/optimize.c,
	  src/libmpg123/synth_altivec.c,
	  src/libmpg123/synth_x86_64_float.S, src/libmpg123/tabinit.c:
	  Merges from Taihei's branch:
	  
	  - modified decwin initialization code for float SSE and AltiVec
	  - improved float SSE synth
	  - improved AltiVec synth and dct64, including a new float output
	  function
	  
	  This includes adaptions to the improved synth selection
	  structure, so in effect the AltiVec code is untested currently.

2009-04-12 23:31  thor

	* configure.ac, src/libmpg123/decode.h, src/libmpg123/frame.h,
	  src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/optimize.c,
	  src/libmpg123/synth.c, src/libmpg123/synths.h: prepare for
	  Taihei's stereo optimizations
	  
	  ... using one generic stereo wrapper instead of lots of specific
	  ones.

2009-04-12 22:36  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/config.h, src/libmpg123/dct64_sse.S: MSVC SSE build
	  Move REAL_IS_FLOAT from project defines into config.h

2009-04-12 22:00  thor

	* configure.ac, src/libmpg123/optimize.c: fix / clean up active
	  decoder detection
	  
	  This helps the sse-only x86 build to work with float output...

2009-04-12 21:41  thor

	* configure.ac: yeah, there have been changes to libmpg123

2009-04-12 21:41  thor

	* Makefile.am: do not include test/ stuff anymore

2009-04-12 20:44  thor

	* test: moving the test stuff to its own place

2009-04-12 20:41  thor

	* src/libmpg123/Makefile.am, src/libmpg123/frame.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/synth.c, src/libmpg123/synth_8bit.c,
	  src/libmpg123/synth_8bit.h, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/synths.h: Restructure
	  the synth function choosing; removing a good deal of ugly code.
	  
	  After realizing that the synth function calls are via the pointer
	  in fr->synth (usually), the opt_synth_ macros have been
	  eliminated.
	  The frame struct now hosts a struct with arrays of all synth
	  functions that are available for the chosen decoder -- instead of
	  lots if individual pointer variables. That way, the code in
	  optimize.c could be simplified.
	  
	  Also, the changes for stereo synths are hopefully small, and even
	  the i486 code should then be able to be integrated in a x86
	  build; though one can debate on how much sense this makes.

2009-04-12 20:04  thor

	* test/compliance.sh, test/rmsdouble.c: update rmsdouble and
	  include script for instant ISO MPEG compliance testing

2009-04-12 19:46  thor

	* src/libmpg123/dct64_3dnowext.S, src/libmpg123/dct64_mmx.S,
	  src/libmpg123/mangle.h, src/libmpg123/synth_i586_dither.S: Remove
	  occurences of $ASM_NAME, use a fixed ASM_VALUE instead.

2009-04-12 19:12  thor

	* src/libmpg123/tabinit.c: explicit debug message for MMX tables

2009-04-12 19:11  thor

	* src/playlist.c: fix breakage with --loop introduced with my
	  changes to random mode

2009-04-09 07:44  thor

	* src/libmpg123/synth_sse3d.h: make proper comments out of the APP
	  markers, msvc did not like it

2009-04-09 07:29  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Use project instead
	  of solution relative path's to generate and compile asm files.

2009-04-09 00:06  patr3ck

	* ports/MSVC++/examples/feedseek.c: Undo the last commit for
	  feedseek.c, it should have not been included

2009-04-08 23:51  patr3ck

	* windows-builds.sh: Add missing in, spotted by jon_y

2009-04-08 23:27  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/examples/feedseek.c, ports/README: First asm build
	  for MSVC++ using the yasm compiler. Thanks go to jon_y for the
	  idea how to integrate this build into MSVC++.

2009-04-08 23:09  patr3ck

	* src/libmpg123/dct64_mmx.S: Replace all fistp/fist with
	  fistps/fists to make yasm happy, thanks go to Taihei Monma for
	  the solution suggestion

2009-04-08 20:07  patr3ck

	* src/output/win32.c: Don't swallow output buffers at the end of
	  playing an audio. One buffer is still not played.

2009-04-08 15:19  patr3ck

	* src/libmpg123/mangle.h: Add assembler-preprocessor support for
	  MSVC (courtesy of JonY).

2009-04-07 10:16  thor

	* src/playlist.c, src/playlist.h: Increasing perceived randomness
	  of random play by decreasing mathematical randomness (prevent
	  repetition of tracks within half of total playlist size).

2009-04-06 22:28  thor

	* windows-builds.sh: untested attempt to merge in the x86-64 cross
	  compilation script from JonY

2009-04-05 17:45  thor

	* src/libmpg123/dct64_x86_64_float.S,
	  src/libmpg123/synth_x86_64_float.S: add the missing assembler
	  files for floating point x86-64 SSE

2009-04-05 17:32  thor

	* src/libmpg123/id3.c: again, printf format for the unsigned
	  encoding

2009-04-05 17:31  thor

	* src/libmpg123/id3.c: proper format for unsigned encoding value

2009-04-05 16:41  thor

	* src/libmpg123/optimize.c: Oh, yeah... let the floating-point SSE
	  use the floating-point tables!
	  
	  The float output with x86-64 optimization works fine now, also
	  passes MPEG 1 layer 3 ISO conformity.
	  A note on that: Indeed, x86-64 looks a bit worse here than x86
	  (also the generic code) because of the switch from x87's internal
	  80 bits.

2009-04-05 16:32  thor

	* test/s16_double.c: faster s16_double too

2009-04-05 15:38  thor

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/synth_real.c: Add x86_64 decoder with float output
	  form Taihei.
	  
	  It is about 10% faster than generic, and not net properly working
	  (high-pitch noise in output).

2009-04-05 15:37  thor

	* test/f32_double.c, test/rmsdouble.c: Speed up the RMS and float
	  conversion stuff.

2009-04-05 14:04  thor

	* src/libmpg123/synth.c: code formatting

2009-04-05 12:25  thor

	* src/libmpg123/id3.c: fix potential invalid buffer access with
	  negative encoding values

2009-04-05 11:02  thor

	* configure.ac: increase lib patchlevel

2009-04-05 11:01  thor

	* src/libmpg123/libmpg123.c: prevent multiple needless
	  mpg123_init() work

2009-04-05 11:01  thor

	* src/libmpg123/frame.c: Fix weird performance issue by increasing
	  decwin alignment to 64 bytes, matching (effective) cacheline size
	  of current x86 CPUs.
	  
	  Have to wonder if
	  a) one should make this (compile time, run time?) tunable
	  b) system malloc() should actually take care of this.

2009-04-04 07:37  thor

	* src/libmpg123/id3.c: catch l==0 earlier in the UTF16 conversion;
	  this was a possible crash/overflow

2009-04-03 09:20  thor

	* src/control_generic.c: the same RVA fix for generic control

2009-04-03 09:12  thor

	* src/term.c: fix the silence on RVA change, stupid bug

2009-04-03 08:37  thor

	* NEWS: note x86-64

2009-04-03 08:30  thor

	* configure.ac: fix help message to mention correct x86-64 decoder
	  choice

2009-04-03 07:11  thor

	* src/libmpg123/synth_x86_64.S: a little fix from Taihei

2009-04-02 22:31  thor

	* AUTHORS, configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/dct64_x86_64.S, src/libmpg123/decode.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/synth.c, src/libmpg123/synth_x86_64.S,
	  src/libmpg123/tabinit.c: add shiny new x86-64 SSE optimizations
	  by Taihai Monma

2009-04-02 20:18  thor

	* src/libmpg123/frame.c, src/libmpg123/id3.c,
	  src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/parse.c, src/libmpg123/readers.c: by Patrick: add
	  various casts and type corrections to make compilers feel more
	  comfy

2009-03-29 23:10  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Add debug symbols

2009-03-29 23:05  patr3ck

	* ports/MSVC++/2008/mpglib/mpglib.vcproj: Disable warning 4996
	  (deprecated open/close etc)

2009-03-29 10:55  thor

	* NEWS, configure.ac: update version for next target, lib changed a
	  bit again, too

2009-03-29 10:53  thor

	* src/module.c: Optional environment variable MPG123_MODDIR to
	  replace the compiled-in PKGLIBDIR for finding modules... still, a
	  module build does not work from the source directory and that
	  sucks.

2009-03-29 10:26  patr3ck

	* src/libmpg123/synth_ntom.h: Fix a few C4018: signed/unsigned
	  mismatch warnings on MSVC

2009-03-27 07:10  thor

	* src/output/arts.c: Fix arts custom data type... use a proper
	  storage place of the correct type and size instead of ao->fn.
	  Also using arts_free now, what does not prevent the artsc lib
	  from leaking memory.
	  Well, arts is dead anyway.

2009-03-27 07:08  thor

	* src/audio.c: fix output types for WAV

2009-03-25 23:34  patr3ck

	* src/libmpg123/sample.h: Fix the C4146 compiler warnings as
	  suggested by Thomas

2009-03-25 18:09  thor

	* src/libmpg123/dnoise.sh: fix dither noise script portability
	  (Solaris)

2009-03-23 11:51  patr3ck

	* Makefile.am: Include the new feedseek.c to source distributions

2009-03-23 11:39  patr3ck

	* ports/MSVC++/2005/feedseek/feedseek.vcproj,
	  ports/MSVC++/2008/feedseek/feedseek.vcproj,
	  ports/MSVC++/examples/feedseek.c: Add unicode feedseek to MSVC++
	  2005/ 2008 projects.
	  Patch contributed by JonY (10walls@gmail.com).

2009-03-23 11:31  patr3ck

	* src/libmpg123/mpg123lib_intern.h: Add explicit cast in the
	  DOUBLE_TO_REAL and REAL_TO_SHORT macros as sugested by Thomas.
	  This fixes around 30 warnings on MSVC.

2009-03-23 11:08  thor

	* src/output/aix.c, src/output/jack.c, src/output/sun.c: remove
	  usage of the mpg123 param struct in modules... we need a proper
	  interface for that

2009-03-23 11:04  thor

	* src/libmpg123/sample.h: remove unneeded sample macro

2009-03-22 23:41  thor

	* configure.ac, src/libmpg123/decode.h, src/libmpg123/optimize.c:
	  hotfix for build without 8bit

2009-03-22 22:44  thor

	* configure.ac, src/libmpg123/layer3.c: less verbose

2009-03-22 08:55  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c: Make the combination of doublespeed
	  and halfspeed work as with 0.59r: -d 2 -h 2 is a noop again.
	  The other variant where that is every 2nd frame repeated is also
	  a valid interpretation, of course.

2009-03-21 15:40  thor

	* src/output/Makefile.am, src/output/coreaudio.c: include sfifo in
	  coreaudio like for the other modules that need it to reduce link
	  issues, extra flags not needed (hopefully)

2009-03-21 14:50  thor

	* src/libmpg123/optimize.c, src/output/Makefile.am: MacOS fixes by
	  Taihai Monma

2009-03-21 11:20  thor

	* NEWS, NEWS.libmpg123: news update

2009-03-21 11:13  thor

	* configure.ac, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c: Fix the decoding bug that surfaced
	  with the doublespeed action -- a set_pointer(512) has been
	  removed where it was needed when skipping frames.

2009-03-11 10:41  thor

	* NEWS: added NEWS about sndio

2009-03-11 10:12  thor

	* configure.ac: giving the lib a new verison, marking the first
	  libmpg123 with actually working MPG123_UPSPEED

2009-03-11 07:51  thor

	* NEWS, src/libmpg123/libmpg123.c: fix doublespeed paramter, was a
	  no-op in all 1.x mpg123 so far

2009-03-10 22:27  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln: Added dll builds
	  Removed i486 builds
	  Got rid of the many different output directories. Build results
	  can now be found in a Debug/Release directory

2009-03-10 22:05  thor

	* windows-builds.sh: .dll, not .so

2009-03-09 01:01  thor

	* configure.ac, src/libmpg123/libmpg123.c, src/mpg123.c: Prevent
	  error message for setting frame index when frame index is
	  disabled.
	  Now you only get the error when actually trying to set the index
	  size to something non-zero.

2009-03-09 00:48  thor

	* src/libmpg123/decode.h, src/libmpg123/mpg123lib_intern.h: fixed
	  point decoder builds again... OUT_REAL and OUT_S32 are always
	  needed

2009-03-09 00:47  thor

	* windows-builds.sh: trying to get the needed libltdl.dll into the
	  win32 binpacks

2009-03-05 09:50  thor

	* configure.ac: repair the modules switch, deleted too much earlier

2009-03-05 08:22  thor

	* configure.ac: do not disable modules on windows anymore

2009-03-05 08:20  thor

	* Makefile.am: include the msvc example stuff in distribution

2009-03-03 22:26  patr3ck

	* doc/examples/scan.c, ports/MSVC++/2008/scan/scan.vcproj,
	  ports/MSVC++/examples, ports/MSVC++/examples/scan.c: Split scan.c
	  into a general and a MSVC specific one to get rid of #ifdefs

2009-03-03 13:14  thor

	* NEWS: document sizes of libmpg123 with reduced features

2009-03-03 12:57  thor

	* NEWS, TODO: updated NEWS and TODO for immanent 1.7.0

2009-03-03 12:53  thor

	* configure.ac: Added --disable-messages.

2009-03-03 12:40  thor

	* configure.ac: patchlevel

2009-03-03 12:33  thor

	* src/libmpg123/format.c, src/module.c: (c) 2009

2009-03-03 12:32  thor

	* windows-builds.sh: Added plugin handling to the windows build
	  script.
	  Needs testing.

2009-03-03 11:57  thor

	* NEWS, src/module.c: More flexible search for plugin dirs, now
	  working on a list (added "plugins" relative to binary).

2009-03-02 14:11  patr3ck

	* doc/examples/scan.c,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln, ports/MSVC++/2008/scan,
	  ports/MSVC++/2008/scan/scan.vcproj, ports/MSVC++/mpg123.h,
	  ports/MSVC++/msvc.c: Handles which are opened by _topen must be
	  used with _read and _close functions
	  Added a MSVC++ scan project for the scan.c example

2009-03-02 13:57  thor

	* src/module.c: more module verbosity on error

2009-02-19 11:36  thor

	* src/libmpg123/Makefile.am, src/libmpg123/dct36_3dnow.S,
	  src/libmpg123/dct36_3dnow.sx, src/libmpg123/dct36_3dnowext.S,
	  src/libmpg123/dct36_3dnowext.sx, src/libmpg123/dct64_3dnow.S,
	  src/libmpg123/dct64_3dnow.sx, src/libmpg123/dct64_3dnowext.S,
	  src/libmpg123/dct64_3dnowext.sx, src/libmpg123/dct64_mmx.S,
	  src/libmpg123/dct64_mmx.sx, src/libmpg123/dct64_sse.S,
	  src/libmpg123/dct64_sse.sx, src/libmpg123/equalizer_3dnow.S,
	  src/libmpg123/equalizer_3dnow.sx, src/libmpg123/getcpuflags.S,
	  src/libmpg123/getcpuflags.sx, src/libmpg123/synth_3dnow.S,
	  src/libmpg123/synth_3dnow.sx, src/libmpg123/synth_3dnowext.S,
	  src/libmpg123/synth_3dnowext.sx, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586.sx, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_i586_dither.sx, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_mmx.sx, src/libmpg123/synth_sse.S,
	  src/libmpg123/synth_sse.sx, src/libmpg123/tabinit_mmx.S,
	  src/libmpg123/tabinit_mmx.sx: Revert the rename of .S to .sx.
	  This .sx ending only works with current gcc, older gccs choke
	  badly on the files, thinking there's some linker fodder.
	  While directly calling cpp on these files works fine,
	  libtool/automake insist on calling gcc -E, which does _not_ work.
	  What's the portable way to handle this? I am sick of this mess.
	  Users of MinGW please use csmake, that hoepfully detects the big
	  .S .
	  We do not support assembler optimizations on systems that cannot
	  handle .S (and the possible temporary file with .s).

2009-02-18 15:07  thor

	* autogen.sh, src/libmpg123/Makefile.am,
	  src/libmpg123/dct36_3dnow.S, src/libmpg123/dct36_3dnow.sx,
	  src/libmpg123/dct36_3dnowext.S, src/libmpg123/dct36_3dnowext.sx,
	  src/libmpg123/dct64_3dnow.S, src/libmpg123/dct64_3dnow.sx,
	  src/libmpg123/dct64_3dnowext.S, src/libmpg123/dct64_3dnowext.sx,
	  src/libmpg123/dct64_mmx.S, src/libmpg123/dct64_mmx.sx,
	  src/libmpg123/dct64_sse.S, src/libmpg123/dct64_sse.sx,
	  src/libmpg123/equalizer_3dnow.S,
	  src/libmpg123/equalizer_3dnow.sx, src/libmpg123/getcpuflags.S,
	  src/libmpg123/getcpuflags.sx, src/libmpg123/synth_3dnow.S,
	  src/libmpg123/synth_3dnow.sx, src/libmpg123/synth_3dnowext.S,
	  src/libmpg123/synth_3dnowext.sx, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586.sx, src/libmpg123/synth_i586_dither.S,
	  src/libmpg123/synth_i586_dither.sx, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_mmx.sx, src/libmpg123/synth_sse.S,
	  src/libmpg123/synth_sse.sx, src/libmpg123/tabinit_mmx.S,
	  src/libmpg123/tabinit_mmx.sx: Rename the .S files to .sx,
	  preventing trouble on non-case-sensitive platforms.
	  Now we also don't need the explicit .S preprocessing rule anymore
	  and thus automake-1.10 is no problem.

2009-02-17 10:10  thor

	* configure.ac: try to autodetect -lnsl and -lsocket (for solaris,
	  gethostbyname is() in one, socket() in the other)

2009-02-15 10:00  thor

	* NEWS, configure.ac, src/output/Makefile.am: Supposedly, modules
	  work out of the box under MinGW when one includes the
	  -no-undefined flag...

2009-02-15 00:55  thor

	* src/buffer.c, src/libmpg123/frame.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/optimize.c, src/libmpg123/parse.c, src/mpg123.c,
	  src/mpg123app.h, src/output/portaudio.c, src/output/pulse.c,
	  src/output/sdl.c: update some years to 2009

2009-02-15 00:53  thor

	* NEWS, man1/mpg123.1, src/buffer.c, src/mpg123.c, src/mpg123app.h:
	  add that preload tuning parameter

2009-02-14 19:38  thor

	* src/libmpg123/Makefile.am: re-enable RPATH builds, libmpg123.sym
	  is a local file now, being generated

2009-02-14 19:27  thor

	* configure.ac: add win32 to default audio help, sort
	  alphabetically

2009-02-14 19:09  thor

	* configure.ac: try to settle the socket library issue (note: one
	  could make it conditional on ipv6 usage)

2009-02-14 18:53  thor

	* configure.ac: Will not disable posix/callback input so soon...
	  not that much gain anyway

2009-02-14 18:53  thor

	* src/output/sdl.c: include windows.h for Sleep()

2009-02-14 18:44  thor

	* configure.ac, src/libmpg123/readers.c: Make the feeder/buffer
	  code disable-able.

2009-02-14 18:42  thor

	* src/output/win32.c: Try to fix the HWAVEOUT mess... it's no
	  integer!

2009-02-14 18:03  thor

	* configure.ac: Only enable the ABI alignment stuff on i386
	  arches... (together with the change in mpg123lib_intern.h from
	  last commit)

2009-02-14 18:02  thor

	* src/audio.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/optimize.c: C90 fixes

2009-02-14 17:50  thor

	* configure.ac, src/libmpg123/readers.c: prevent timeout reader
	  setup with user-replaced read function

2009-02-14 17:39  thor

	* configure.ac: yeah, bugfix happened, increment version

2009-02-14 17:39  thor

	* src/libmpg123/readers.c: Let the feed reader error out on open
	  when ICY interval is set.
	  It is not that trivial to support this and handle
	  MPG123_NEED_MORE properly.
	  I advise users to employ mpg123_replace_reader when custom I/O
	  and ICY is needed.
	  If that's not possible... well, gotta filter ICY yourself:-/

2009-02-14 17:19  thor

	* src/libmpg123/layer3.c, src/libmpg123/libmpg123.c: a bit less
	  default verbosity

2009-02-14 17:14  thor

	* src/Makefile.am, src/output/portaudio.c, src/output/sdl.c,
	  src/sfifo.c, src/sfifo.h: MAke the sfifo code statically local to
	  the few output modules that need it.

2009-02-14 16:43  thor

	* src/output/alsa.c, src/output/os2.c, src/output/pulse.c,
	  src/output/sgi.c, src/output/win32.c: internal module functions
	  are static, marking leftovers

2009-02-14 10:38  thor

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj: attempt to update
	  the project files for added sample.h

2009-02-14 10:34  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h: Reuse rawdecwin if
	  possible (realloc-like, like rawbuffs).

2009-02-14 10:13  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/optimize.c: Make sure
	  that frame_buffers is only called in the synth function setup,
	  where it's followed by make_decode_tables.
	  Also, changed the error of frame_buffers failing in
	  set_synth_functions to indicate buffer (memory) problem.

2009-02-14 10:06  thor

	* src/libmpg123/optimize.c: Most probably pinned bug 2472726.
	  I finally have been able to reproduce it with the help of
	  valgrind, which changed the memory management.
	  After a resync, the frame buffers get (re)allocated, in case of
	  the decwin, that's a free() of the old and immediately malloc()
	  of the new.
	  With normal glibc memory management that resulted in the same
	  block of memory than before being assigned (when the size did not
	  change).
	  Thus, the failure to call make_decode_tables on the new memory ws
	  hidden because the old values were still there.
	  
	  So, the easy fix is to call make_decode_tables everytime after
	  changing the frame buffers. Waiting for confirmation from the
	  Windows folks...

2009-02-14 10:00  thor

	* src/libmpg123/frame.c: error protection got not initialized

2009-02-14 09:59  thor

	* src/libmpg123/libmpg123.c: debug message format fixed

2009-02-13 15:41  thor

	* src/libmpg123/Makefile.am: also distribute the sample.h...

2009-02-13 15:40  thor

	* src/libmpg123/decode.h, src/libmpg123/sample.h,
	  src/libmpg123/synth.c, src/libmpg123/synth_8bit.c,
	  src/libmpg123/synth_altivec.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c: Extract the WRITE_SAMPLE macros out of
	  decode.h into sample.h,
	  only the synth functions need these.

2009-01-10 18:07  thor

	* src/output/jack.c: Add named connections to JACK output (the -a
	  parameter can now take a comma-separated list of output ports).
	  When you choose only one port, stereo output gets mixed down into
	  this one by jackd.

2009-01-10 17:21  thor

	* src/mpg123.c: That hint about resampling is not true anymore.

2009-01-10 16:38  thor

	* scripts/debugdef.pl, src/libmpg123/debug.h: Add new preprocessor
	  flags to disable error / warning messages.
	  That can save around 9K on libmpg123.

2009-01-10 16:37  thor

	* NEWS: also the news entry for the ntom fix

2009-01-10 16:36  thor

	* configure.ac, src/libmpg123/libmpg123.c: Include the fix (from
	  1.6.4) for ntom + seeking + frame fillup, and ntom consistency
	  with seeking as side effect.

2009-01-10 14:17  thor

	* src/libmpg123/layer3.c: Fix resampling modes for i486 (the
	  special optimization only applies to 1to1 synth).

2009-01-10 10:45  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/synth_i486.c: fix i486 decoder with the bo business

2009-01-10 10:18  thor

	* src/libmpg123/synth_altivec.c: fix altivec's fr->bo usage
	  (theoretically, need someone with an apple box to test)

2009-01-09 14:30  patr3ck

	* ports/MSVC++/2005/feedseek,
	  ports/MSVC++/2005/feedseek/feedseek.vcproj,
	  ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2005/mpg123.sln, ports/MSVC++/2005/mpglib,
	  ports/MSVC++/2005/mpglib/mpglib.vcproj,
	  ports/MSVC++/2008/feedseek/feedseek.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/mpg123.sln: VS2005 build environment catchup
	  including examples and release optimization settings.
	  Additionally fix a few VS2008 compiler settings along the way.

2008-12-29 22:36  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/Makefile.am,
	  src/libmpg123/decode.h, src/libmpg123/format.c,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/icy.h, src/libmpg123/icy2utf8.h,
	  src/libmpg123/id3.c, src/libmpg123/id3.h, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h, src/libmpg123/parse.c,
	  src/libmpg123/readers.c, src/libmpg123/synth.c,
	  src/libmpg123/synth_8bit.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/libmpg123/tabinit.c: Massive
	  commit. That's holiday season for you.
	  This one is all about reducing libmpg123 size via --disable
	  switches to configure.
	  id3v2 handling, icy, output formats, MPEG layers ... have fun!

2008-12-29 22:32  thor

	* src/legacy_module.c: typos

2008-12-20 16:35  thor

	* .: ignore changes in ChangeLog

2008-12-20 16:34  thor

	* NEWS: add notes for 1.6.3

2008-12-20 16:33  thor

	* configure.ac: again... a fix for configure default: really enable
	  fifo when autodetected

2008-12-19 19:19  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/mpg123.h: Add int32_t and uint32_t definitions to
	  MSVC++ mpg123.h

2008-12-15 10:00  thor

	* src/metaprint.c: Actually use the output stream argument of
	  print_icy (no user-visible change, though).

2008-12-14 19:12  thor

	* .: ignore

2008-12-14 19:07  thor

	* src/libmpg123: ignore

2008-12-14 19:05  thor

	* doc/examples: ignore

2008-12-14 19:04  thor

	* test/README: mention forkfaint

2008-12-14 19:02  thor

	* test/hex24_s32.c: hex 24bit ASCII -> native signed 32bit integer

2008-12-14 19:01  thor

	* test/README: Notes about test/

2008-12-14 18:23  thor

	* AUTHORS, configure.ac, src/Makefile.am, src/output/Makefile.am,
	  src/output/sndio.c: Adding sndio output, contributed by Christian
	  Weisgerber.
	  Not tested by self, lacking an OpenBSD install.

2008-12-12 14:46  thor

	* test/s16_double.c: note about s16 scaling

2008-12-12 14:46  thor

	* test/rmsdouble.c: Interpret the limits as already being relative
	  to full scale. Makes sense.

2008-12-12 14:33  thor

	* src/audio.c, src/audio.h, src/mpg123.c: Give proper help for
	  --encoding with list of encodings.
	  Also fixed s8 u8 nlen value to 2.

2008-12-12 14:12  thor

	* configure.ac, src/audio.c, src/config.h.legacy,
	  src/libmpg123/Makefile.am, src/libmpg123/decode.h,
	  src/libmpg123/format.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h, src/libmpg123/synth.c,
	  src/libmpg123/synth_8bit.c, src/libmpg123/synth_real.c,
	  src/libmpg123/synth_s32.c, src/mpg123.c, src/mpg123app.h,
	  src/output/alsa.c: A tale about output.
	  - Signed 32bit integer output (generic/i386).
	  - Postprocessing for unsigned 16 or 32 bit integer.
	  - Fixing 32bit integer encoding flags (sorry... but they didn't
	  do anything before anyway).
	  - Split synth stuff into some files according to output format.
	  Trying to be easier on compilers.
	  - Alsa output supports 32bit and float formats now.
	  - New mpg123 command line parameter to force a specific output
	  encoding (--encoding) ... not yet documented.

2008-12-12 14:07  thor

	* test/Makefile, test/s32_double.c: Also add signed 32bit handling.

2008-12-12 13:44  thor

	* test, test/Makefile, test/f32_double.c, test/hex24_double.c,
	  test/rms32.c, test/rmsdouble.c, test/s16_double.c: Some system
	  work for compliance testing.
	  I can reproduce
	  http://www.underbit.com/resources/mpeg/audio/compliance/ for
	  layer3 and generic decoder, the numbers.
	  Only, that I interpret the compliance restriction differently.
	  Anyhow: When using f32 output, mpg123 is clearly compliant. the
	  16bit truncation is a bit of a question.

2008-12-12 13:42  thor

	* test/1000Hz/work.sh: updated / corrected lame options

2008-12-10 19:18  thor

	* src/libmpg123/id3.c, src/libmpg123/mpg123.h.in: Hacking a variant
	  of the USLT idea from sf.net issue #1883610 .
	  Untested.

2008-12-10 16:48  thor

	* src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/libmpg123.c: Fix sf.net bug
	  #2413608: The new_format flag got lost when you close the track
	  without querying it.
	  Now the output format gets cleared on that occasion so that
	  format newness arises anew on next track.

2008-12-10 00:51  thor

	* src/term.c: remove unused variable

2008-12-10 00:51  thor

	* src/libmpg123/optimize.c: fix optimize.c, with leftover DEBUG,
	  too

2008-12-09 23:43  thor

	* configure.ac, src/libmpg123/mpg123.h.in,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h, src/term.c: -
	  WIP API change: mpg123_current_decoder returns a const char*, not
	  an index
	  - some cleaning up (can I really call it like that?) in
	  optimize.c
	  - fixing up single i586_dither build

2008-12-09 23:04  thor

	* src/libmpg123/synth_i586_dither.S: Fixing a bug with two faces in
	  i586 dither code: Wrong stack variable access for ditherindex and
	  dithernoise.
	  The latter has been new, the former must have been there from the
	  beginning but harmless.
	  Hm.. but how much of the noise has been used before?

2008-12-09 17:50  thor

	* src/libmpg123/decode.h, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h, src/libmpg123/synth.c,
	  src/libmpg123/synth.h: Adding 2to1 and 4to1 dithered synth with
	  generic code.
	  Also used for i586_dither decoder's downsampling.

2008-12-09 11:53  thor

	* configure.ac, src/libmpg123/decode.h, src/libmpg123/dnoise.sh,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_ntom.h:
	  More experiment: First steps to prepare outsourcing of the
	  dithernoise, adding a generic_dither decoder offering a portable
	  alternative to synth_1to1_i586_dither.

2008-11-30 14:39  thor

	* doc/examples/feedseek.c: fix a bit off_t versus size_t

2008-11-30 14:38  thor

	* doc/examples/Makefile: give it some space
	  Note: that simple makefile won't work with static linking.

2008-11-28 20:24  patr3ck

	* Makefile.am, doc/Makefile.am, doc/examples/Makefile: Add feedseek
	  example to makefile and distribution
	  Add new MSVC solution and project files to distribution

2008-11-28 17:29  patr3ck

	* ports/MSVC++/2008/mpg123.sln: Add MSVC++ solution file that holds
	  the library and example projects

2008-11-28 17:27  patr3ck

	* ports/MSVC++/2008/mpglib, ports/MSVC++/2008/mpglib/mpglib.vcproj:
	  add MSVC++ project file for mpglib example

2008-11-28 17:27  patr3ck

	* doc/examples/feedseek.c, ports/MSVC++/2008/feedseek,
	  ports/MSVC++/2008/feedseek/feedseek.vcproj: new programming
	  example fuzzy seeking in feeder mode

2008-11-27 22:58  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Add optimize flags
	  to the rest of the release builds, all release builds are now
	  tuned for speed

2008-11-27 22:55  patr3ck

	* doc/examples/mpglib.c: Make it compile under MSVC++

2008-11-25 23:57  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Enable some
	  compiler optimizations for the i486 release build

2008-11-21 13:25  thor

	* Makefile.am: add msvc.c to distribution

2008-11-18 00:44  patr3ck

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj: add REAL_IS_FLOAT
	  to all builds to make float output with MPG123_ENC_FLOAT_32
	  working

2008-11-17 20:40  patr3ck

	* src/libmpg123/libmpg123.c: mpg123_length now returns mpg123_tell
	  if nothing else works

2008-11-12 10:18  thor

	* Makefile.am, NEWS: added equalize.dat to the distribution, been
	  missing

2008-11-11 23:08  thor

	* src/libmpg123/libmpg123.c: not mh here

2008-11-11 23:05  thor

	* src/libmpg123/libmpg123.c: Restore buffer initialization for
	  mpg123 handle on initial mpg123_parnew()
	  The whole think with mpg123_parnew() / mpg123_decoder() /
	  decode_update() has to be cleaned up!

2008-11-11 23:04  thor

	* NEWS, configure.ac: import the 1.6.2 fix for IPv6 auto detection
	  in configure

2008-11-10 20:57  patr3ck

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Catch up to latest
	  code restructuring

2008-11-10 01:04  thor

	* src/libmpg123/format.c: remove that debugging line

2008-11-10 00:58  thor

	* src/libmpg123/synth_i486.c: Ah, alright, it was just a missing i
	  ... absynth_1to1_i486 instead of absynth_1to1_486!

2008-11-10 00:55  thor

	* src/Makefile.legacy: legacy built sort of working again; but also
	  has trouble with i486

2008-11-10 00:53  thor

	* src/libmpg123/optimize.c: code fixup for non-multi ... i486 still
	  broken strangely

2008-11-10 00:34  thor

	* NEWS: NEW sync and update

2008-11-09 23:55  thor

	* configure.ac, src/libmpg123/Makefile.am: build system fixup for
	  the synth_ rename

2008-11-09 23:47  thor

	* src/libmpg123/synth_float.c: removed synth_float.c, it's in
	  synth.c

2008-11-09 23:45  thor

	* configure.ac: remove bashisms, thanks to Christian Weisgerber

2008-11-09 23:30  thor

	* src/libmpg123/decode_3dnow.S, src/libmpg123/decode_3dnowext.S,
	  src/libmpg123/decode_float.c, src/libmpg123/decode_i586.S,
	  src/libmpg123/decode_i586_dither.S, src/libmpg123/decode_mmx.S,
	  src/libmpg123/decode_sse.S, src/libmpg123/decode_sse3d.h,
	  src/libmpg123/synth_3dnow.S, src/libmpg123/synth_3dnowext.S,
	  src/libmpg123/synth_float.c, src/libmpg123/synth_i586.S,
	  src/libmpg123/synth_i586_dither.S, src/libmpg123/synth_mmx.S,
	  src/libmpg123/synth_sse.S, src/libmpg123/synth_sse3d.h: Complete
	  the rename of decode_ files to synth_ files.
	  They contain synth functions.

2008-11-09 23:30  thor

	* src/libmpg123/optimize.c: oh, some random keypress went in...

2008-11-09 23:26  thor

	* src/libmpg123/optimize.c: missed a ;

2008-11-09 23:22  thor

	* src/libmpg123/synth_1to1.h: synth_1to1.h is gone

2008-11-09 23:20  thor

	* src/libmpg123/decode.h: update copyright on decode.h

2008-11-09 23:19  thor

	* src/libmpg123/decode_2to1.c, src/libmpg123/decode_4to1.c: Removed
	  more obsolete decode_*, they are gone into synth.c and associated
	  headers.

2008-11-09 23:18  thor

	* src/libmpg123/decode_ntom.c: removed decode_ntom.c

2008-11-09 23:18  thor

	* src/libmpg123/format.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/parse.c, src/libmpg123/parse.h: Move the
	  sample<->byte conversion to format.c .

2008-11-09 23:12  thor

	* src/libmpg123/format.c: Don't offer float for fixed build.

2008-11-09 23:12  thor

	* NEWS.libmpg123: updating for 12.0.12

2008-11-09 23:08  thor

	* src/libmpg123/Makefile.am: synth_8bit been missing

2008-11-09 23:05  thor

	* src/output/jack.c: Update the JACK output to also work with float
	  samples as JACK likes it.

2008-11-09 23:05  thor

	* src/mpg123.c: - const char* for decoder names
	  - added --float option (will be documented...)

2008-11-09 23:04  thor

	* src/term.c, src/term.h: Add a key to check for currently active
	  decoder.

2008-11-09 23:02  thor

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/compat.h,
	  src/libmpg123/decode.c, src/libmpg123/decode.h,
	  src/libmpg123/decode_altivec.c, src/libmpg123/decode_i386.c,
	  src/libmpg123/decode_i486.c, src/libmpg123/format.c,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/index.c, src/libmpg123/layer1.c,
	  src/libmpg123/layer2.c, src/libmpg123/layer3.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/libmpg123.sym.in,
	  src/libmpg123/mpg123.h.in, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/optimize.c, src/libmpg123/optimize.h,
	  src/libmpg123/parse.c, src/libmpg123/parse.h,
	  src/libmpg123/synth.c, src/libmpg123/synth.h,
	  src/libmpg123/synth_1to1.h, src/libmpg123/synth_2to1.h,
	  src/libmpg123/synth_4to1.h, src/libmpg123/synth_8bit.h,
	  src/libmpg123/synth_altivec.c, src/libmpg123/synth_i486.c,
	  src/libmpg123/synth_mono.h, src/libmpg123/synth_ntom.h,
	  src/libmpg123/tabinit.c: Bigg-O-Commit: Began with cleaning up
	  layer3 ... ended in long-due overhaul of the whole synth
	  functions and optimization cruft.
	  A lot more is now how it is supposed to be:
	  - Every decoder supports all formats / resamplings, though the
	  optimization only kicks in for certain modes (1to1 16bit, 8bit).
	  - Formats include floating point output in every non-fixed-math
	  build (Yay!).
	  - Redundant code has been merged into the synth* headers.
	  - A possible downside: compiling synth.c is a bit of work, may
	  split that again into synth, synth_8bit, etc.
	  
	  One has to do some side-by-side comparison with 1.6.x with
	  respect to output and speed.
	  I could be that one should re-insert some optimized dct64 in some
	  places (apart from synth_1to1).
	  
	  Well, I hope things are a bit cleaner now... though I don't claim
	  they're less complicated;-)

2008-11-09 22:55  thor

	* NEWS: some notes

2008-11-09 22:22  patr3ck

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Add ntom.c to
	  VC2008 project file

2008-11-07 12:09  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/parse.c: remove
	  unreachable code

2008-11-07 12:09  thor

	* src/output/esd.c: Make sure to include config.h early enough.

2008-11-07 12:08  thor

	* autogen.sh: portable sh in autogen.sh

2008-11-07 12:08  thor

	* configure.ac: only use alignment machinery for decoders where it
	  may be useful; the sun compiler complained

2008-11-07 08:54  thor

	* NEWS, src/libmpg123/decode.h, src/libmpg123/format.c: Deactivate
	  unsigned 16bit. It is not handled.
	  Either this deactivation or a converter wrapped into libmpg123
	  will go into 1.6.1 .

2008-11-07 08:53  thor

	* src/libmpg123/layer3.c: Cleanup: reformat layer3.c to consistent
	  style (consistent by my rules;-).

2008-11-06 09:59  thor

	* NEWS, configure.ac, src/common.c, src/control_generic.c,
	  src/libmpg123/compat.h: After seeing that control_generic.c
	  forgot to cast off_t to long for a printf, realized that this is
	  the time to add proper large type printing.
	  We try to use PRIiMAX and friends if possible, else fallback to
	  long.

2008-11-06 09:46  thor

	* configure.ac, src/Makefile.am, src/libmpg123/Makefile.am,
	  src/libmpg123/decode.c, src/libmpg123/decode.h,
	  src/libmpg123/decode_2to1.c, src/libmpg123/decode_4to1.c,
	  src/libmpg123/decode_altivec.c, src/libmpg123/decode_float.c,
	  src/libmpg123/decode_i386.c, src/libmpg123/decode_ntom.c,
	  src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/ntom.c, src/libmpg123/optimize.c,
	  src/libmpg123/optimize.h, src/libmpg123/parse.c,
	  src/libmpg123/parse.h, src/libmpg123/synth_1to1.h,
	  src/libmpg123/synth_2to1.h, src/libmpg123/synth_4to1.h,
	  src/libmpg123/synth_ntom.h, src/libmpg123/tabinit.c,
	  src/mpg123.c, src/mpg123app.h, src/wav.c, src/wavhead.h: I am
	  insane. I really am. Here comes a first hack at a comined build
	  with floating point output.

2008-11-05 02:07  thor

	* configure.ac: at least a little increment in version for
	  development

2008-11-05 01:23  thor

	* doc/examples/mpglib.c, doc/examples/scan.c: include style

2008-11-04 23:45  thor

	* NEWS: Last notes for 1.6.0!

2008-11-04 18:02  thor

	* configure.ac: closing a quote, un-breaking the build again

2008-11-04 16:44  thor

	* configure.ac: configure cleanup; safer tests and another bugfix
	  for fifo (like ipv6 and network before)

2008-11-04 16:26  thor

	* configure.ac: fix network and ipv6 configuration handling, thanks
	  to Thorsten Glaser for pointers

2008-11-04 16:09  thor

	* src/libmpg123/dct64_3dnowext.S, src/libmpg123/dct64_sse.S: fix
	  remaining #APP / #NO_APP

2008-11-04 09:38  thor

	* src/libmpg123: ignore

2008-11-04 09:34  thor

	* configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123lib_intern.h: Work on alignment issues...
	  - Made the actual check easier on compilers (old gcc will not
	  align too small blocks).
	  - Do not use the useless check when using gcc-4.2+.
	  - Some drive-by configure.ac refinement.

2008-11-03 10:36  thor

	* configure.ac, src/libmpg123/libmpg123.c: By default enable the
	  stack alignment check now. The fail case is too serious.
	  Also, it is enhanced to detect a bad build of libmpg123 itself:
	  When you give gcc -mpreferred-stack-boundary=2, it will not
	  handle __attribute__((aligned(16))) variables correctly.
	  I consider this alone to be a bug, but that may be subject to
	  discussion.
	  What is clearly a bug in gcc-4.3.1: The check fails to detect
	  stack misalignment there!
	  The % 16 is apparently optimized to zero at compile time... while
	  at runtime the result is wrong.
	  This depends on some optimization included in -O1 already, or
	  worse, a combination of some (I could not make out a single
	  option that is causing it).
	  Anyhow, gcc-3.3 and gcc-3.4 handle that fine -- at least they
	  detect the misalignment.

2008-11-03 00:39  thor

	* src/libmpg123/dct36_3dnowext.S: fix broken comments (it's
	  preprocessed now!)

2008-11-03 00:32  thor

	* src/output/esd.c: include some headers in esd.c for netbsd

2008-11-03 00:21  thor

	* configure.ac: better BSD detection

2008-11-02 23:26  thor

	* configure.ac: Weird quoting to preserve the [^0-9] as it is
	  needed, M4 swallowed the brackets.

2008-11-02 22:46  thor

	* configure.ac: only use numeric file offset bit values

2008-11-02 22:11  thor

	* configure.ac, src/control_generic.c, src/libmpg123/compat.h,
	  src/libmpg123/libmpg123.sym, src/libmpg123/libmpg123.sym.in,
	  src/libmpg123/mpg123.h.in: More work on largefile support.
	  Now we have some hacks that, at least on systems that deal with
	  _FILE_OFFSET_BITS, prevent mixture of non-largefile and largefile
	  program/library.

2008-11-02 21:27  thor

	* src/libmpg123/frame.c: intialize fr->down_sample; prevents
	  irritating error messages with debugging

2008-11-02 15:25  thor

	* src/libmpg123/parse.c: fix a seeking weirdness; audio_start has
	  been overwritten due to resyncs

2008-11-02 13:35  thor

	* src/libmpg123/frame.c: More verbosity to a theoretically
	  impossible error message that I nevertheless saw in a log from
	  Patrick.
	  What is the deal with fr->down_sample there?

2008-10-28 09:13  thor

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj: patch from Patrick:
	  update the MSVC++ 2005 project

2008-10-28 09:07  thor

	* src/mpg123.c: Quick hack to have --no-seekbuffer to disable the
	  http stream buffering.
	  Not sure if that will stay, it's for Serge to debug something.

2008-10-27 15:48  thor

	* ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/mpg123.h, ports/MSVC++/msvc.c: Integrate new patch
	  from Patrick: Open unicode files for MSVC++.

2008-10-27 15:39  thor

	* src/libmpg123/readers.c: complete the "cannot open file" error
	  msg

2008-10-26 10:40  thor

	* xmms2-plugin/mpg123/mpg123.c: Add the line for fuzzy seeking to
	  the (outdated, actually) xmms2 plugin.

2008-10-26 10:36  thor

	* src/libmpg123/readers.c: (cosmetic) Return MPG123_ERR instead of
	  the return value from open() directly.
	  It's still -1, as always...

2008-10-24 19:09  thor

	* configure.ac, src/libmpg123/index.c, src/libmpg123/index.h:
	  Optimized index a little, not that it really matters.
	  The next frame number to put into is cached.

2008-10-24 10:06  thor

	* src/audio.h, src/mpg123app.h: Header fix, audio.h needs mpg123.h,
	  mpg123app does not need module.h .

2008-10-24 09:34  thor

	* MakeLegacy.sh, configure.ac, src/Makefile.legacy, src/audio.h,
	  src/common.h, src/config.h.legacy, src/httpget.h,
	  src/libmpg123/compat.h, src/libmpg123/icy.h,
	  src/libmpg123/mpg123lib_intern.h, src/local.h, src/metaprint.c,
	  src/metaprint.h, src/module.h, src/mpg123app.h, src/playlist.h,
	  src/term.h: Sort out header issues, merge more stuff into
	  compat.h.
	  Also, reactivate legacy build.

2008-10-24 08:34  thor

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj: Convert the MSVC
	  project files to DOS line ending, as they started out.
	  My patch program always strips the trailing CRs ... supposedly a
	  different patch format (unified) would help?

2008-10-24 08:32  thor

	* ports/MSVC++/2005/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj: MSVC updates from
	  Patrick, mainly additon of index.c and some build cleanup.

2008-10-23 00:04  thor

	* NEWS, NEWS.libmpg123, configure.ac: doc update, lib version
	  update

2008-10-22 23:58  thor

	* src/libmpg123/Makefile.am, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/index.c,
	  src/libmpg123/index.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/parse.c, src/mpg123.c,
	  src/mpg123app.h: When frame index is enabled, it's size is now
	  runtime-tunable.
	  Along with that, the associated code has found it's own place.
	  
	  The main API header got some comment refinements in addition to
	  the necessary changes.

2008-10-22 23:56  thor

	* configure.ac: - add largefile support detection in configure
	  This will define _FILE_OFFSET_BITS and stuff like that.
	  Users of the lib should be aware of that...
	  - always define INDEX_SIZE

2008-10-22 23:50  thor

	* src/control_generic.c: remove unused variable

2008-10-22 23:49  thor

	* src/libmpg123/compat.h, src/libmpg123/mpg123lib_intern.h:
	  compat.h is the place for system headers

2008-10-22 23:48  thor

	* src/libmpg123/readers.c: lessen default verbosity in reader

2008-10-21 22:10  thor

	* NEWS, configure.ac, src/libmpg123/parse.c: enable frame index
	  also for non-seekable streams ... among that: the feeder, that
	  can seek but differently

2008-10-19 10:44  thor

	* configure.ac, src/libmpg123/frame.c, src/libmpg123/parse.c: Add
	  handling of stream size given by Xing header; that one indeed has
	  been missing.
	  Also warn if it differs significantly from determined file size.

2008-10-19 00:59  thor

	* configure.ac, src/libmpg123/frame.c: A bit more safety with fuzzy
	  seeking, also being paranoid about positive file length with VBR
	  table.

2008-10-18 18:15  thor

	* NEWS, NEWS.libmpg123, src/control_generic.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/libmpg123.sym,
	  src/libmpg123/mpg123.h.in, src/term.c: Adding mpg123_getstate to
	  query things, like "is the current position accurate?".

2008-10-18 18:13  thor

	* src/libmpg123/frame.c: use TRUE, not 1

2008-10-18 12:20  thor

	* man1/mpg123.1: manpage update

2008-10-18 12:05  thor

	* NEWS: NEWS for 1.6.0 ... final?

2008-10-18 12:02  thor

	* configure.ac, src/libmpg123/libmpg123.c: Prevent gapless stuff
	  from fiddling while we don't have an accurate position.
	  ...also updating the patchlevel of the lib for that.

2008-10-18 00:05  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/parse.c: Add usage of the Xing TOC to the fuzzy
	  seeking.
	  Also, trying to silence the resync

2008-10-17 09:24  thor

	* NEWS.libmpg123, configure.ac, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/mpg123.h.in,
	  src/libmpg123/parse.c, src/mpg123.c: first guess at fuzzy
	  seeking, using mean framesize as estimate

2008-10-15 09:50  thor

	* windows-builds.sh: Save the readme & co with .txt extension for
	  Windows binary packages.

2008-10-15 08:51  thor

	* windows-builds.sh: again, the hopyfully working version of the
	  script

2008-10-15 08:19  thor

	* src/libmpg123/libmpg123.c: revert the debugging stuff in
	  libmpg123.c; it is not for the repo

2008-10-15 08:17  thor

	* src/libmpg123/libmpg123.c, windows-builds.sh: still a missing
	  adaption of the windows script... hopefully complete now

2008-10-15 00:52  thor

	* INSTALL: another hint for windows (the SSE stack alignment issue)

2008-10-15 00:47  thor

	* INSTALL: hint about win32 binaries

2008-10-15 00:43  thor

	* windows-builds.sh: fix a path there

2008-10-15 00:12  thor

	* Makefile.am, windows-builds.sh: also distribute the build script

2008-10-15 00:10  thor

	* windows-builds.sh: an attempt to have automated windows builds in
	  here

2008-10-13 09:06  thor

	* ports/MSVC++/config.h: do not forget these important features:
	  gapless and seek index

2008-10-11 21:40  thor

	* ports/README: another note for the MSVCers

2008-10-11 16:03  thor

	* Makefile.am: add new ports stuff to distfiles

2008-10-11 15:59  thor

	* NEWS: a bit of credit

2008-10-11 15:57  thor

	* NEWS: doc update

2008-10-11 15:50  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym, src/libmpg123/mpg123.h.in: adding
	  mpg123_tell_stream to get the current input offset

2008-10-11 15:29  thor

	* NEWS, ports/README: doc update for MSVC++ projects

2008-10-11 15:17  thor

	* ports/MSVC++/2005, ports/MSVC++/2005/libmpg123,
	  ports/MSVC++/2005/libmpg123/libmpg123.vcproj, ports/MSVC++/2008,
	  ports/MSVC++/2008/libmpg123,
	  ports/MSVC++/2008/libmpg123/libmpg123.vcproj,
	  ports/MSVC++/config.h: adding MSVC projects by Patrick Dehne

2008-10-11 14:17  thor

	* ports/README: update ports README for MSVC++

2008-10-11 14:14  thor

	* ports/mpg123_msvc.h: don't need that anymore

2008-10-11 14:13  thor

	* ports/MSVC++/mpg123.h: Add a mpg123.h wrapper header to be used
	  by all MSVC++ builds.

2008-10-11 14:10  thor

	* ports/MSVC++/CMP3Stream, ports/MSVC++/CMP3Stream/INCLUDE,
	  ports/MSVC++/CMP3Stream/README, ports/MSVC++/CMP3Stream/SOURCE,
	  ports/MSVC++/CMP3Stream/libMPG123, ports/MSVC++/INCLUDE,
	  ports/MSVC++/README, ports/MSVC++/SOURCE, ports/MSVC++/libMPG123:
	  Move the MSVC++ wrapper class to a subdirectory, preparing for
	  the new MSVC++ projects to come.

2008-10-11 13:49  thor

	* src/libmpg123/mpg123.h.in: make mpg123.h.in directly includable
	  with -DMPG123_NO_CONFIGURE

2008-10-11 13:23  thor

	* src/libmpg123/readers.c: MSVC++ needs io.h in readers.c .

2008-10-11 12:21  thor

	* src/term.c: Fix a funny regression in the loopy pause: We were
	  going backwards in time one frame at a time.

2008-10-11 12:14  thor

	* man1/mpg123.1: An attempt to clarify the terminal control with
	  respect to pausing.
	  ...in the course of that, don't mention the "pause" that is a
	  loop.

2008-10-11 12:04  thor

	* AUTHORS, NEWS, configure.ac, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/layer3.c: Integrate bit
	  reservoir patch from Patrick Dehne, fixing playback of badly cut
	  MPEG layer 3 streams.

2008-10-09 11:08  thor

	* src/local.c: UTF-8 env check also using LC_ALL and LC_CTYPE

2008-10-09 10:57  thor

	* src/libmpg123/icy2utf8.c: icy2utf8: comment typo and additions to
	  test

2008-10-08 08:32  thor

	* NEWS, src/local.c, src/mpg123.c, src/mpg123app.h: Added --utf8.

2008-10-08 08:20  thor

	* AUTHORS, NEWS: doc update

2008-10-08 08:20  thor

	* configure.ac, src/Makefile.am, src/local.c, src/local.h,
	  src/mpg123.c, src/mpg123app.h: More elaborate check for UTF-8
	  locale, with setlocale and nl_langinfo.
	  In the course of applying that, moved this locale code out into
	  its own realm.
	  Structure.

2008-10-08 08:18  thor

	* src/libmpg123/icy2utf8.c: Do only convert stuff that is not
	  already UTF-8. There are streams that send UTF-8 ICY metadata...

2008-10-08 08:16  thor

	* configure.ac, src/getlopt.c, src/libmpg123/compat.c,
	  src/libmpg123/compat.h: Moved that replacement strdup to
	  commpat.c, also check for it instead of assuming some specific
	  system.

2008-10-02 13:49  thor

	* NEWS, configure.ac, src/libmpg123/decode_2to1.c,
	  src/libmpg123/decode_4to1.c, src/libmpg123/decode_ntom.c: fix
	  resampling modes for integer decoding (just use REAL_MUL,
	  stupid!)

2008-10-02 13:35  thor

	* src/libmpg123/libmpg123.c: now really fix the expected samples
	  from a frame (did not work for flexible resampling)

2008-10-02 13:06  thor

	* configure.ac, src/libmpg123/libmpg123.c: Fix the broken frame
	  filler for resampling modes (look for output sample count per
	  frame, not input).

2008-10-02 12:45  thor

	* NEWS: some news for 1.6.0

2008-10-02 12:45  thor

	* configure.ac: gah, confusion with libversion again... not ., :!

2008-10-02 12:35  thor

	* doc/README.remote: update remote control docu

2008-10-02 12:34  thor

	* src/Makefile.am, src/control_generic.c, src/equalizer.c,
	  src/mpg123.c, src/mpg123app.h: Adding EQFILE and SHOWEQ to remote
	  control, factoring out the equalizer file loading for that.
	  Realizing that the equalizer file reading did not even work with
	  the example equalize.dat and fixing this (really ignore comment
	  lines).

2008-10-02 11:55  thor

	* NEWS.libmpg123, configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym, src/libmpg123/mpg123.h.in: added
	  mpg123_geteq()

2008-10-02 11:53  thor

	* src/libmpg123/mpg123lib_intern.h: added REAL_TO_DOUBLE and... a
	  using (long) in DOUBLE_TO_REAL for fixed (integer) real... seems
	  right, theoretically

2008-10-02 00:58  thor

	* NEWS: an attempt to update the NEWS

2008-10-02 00:54  thor

	* configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: More parameter safety (checks for NULL
	  pointers users may give).

2008-10-02 00:41  thor

	* configure.ac, src/libmpg123/libmpg123.c: cleanup error return of
	  mpg123_index

2008-10-02 00:39  thor

	* configure.ac, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/parse.c: Wrap
	  INDEX_SIZE=0 around extra #define to prevent compilers from
	  chokin on zero-sized arrays.

2008-10-01 20:27  thor

	* configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: Multiple issues at once (sorry):
	  - fill up broken frames (with zeros) that would otherwise screw
	  up the relation between sample offset and frame offset, breaking
	  seeks
	  - prevent reporting of negative positions
	  - deny seek if file position is screwed up
	  - some more caution with user-provided pointers to store values
	  (check for NULL)

2008-10-01 20:23  thor

	* src/resolver.c: remove an unused variable

2008-10-01 20:18  thor

	* src/libmpg123/frame.c: be prepared to find first header again
	  when there is no seek table, fresh and clean

2008-10-01 20:11  thor

	* configure.ac: version will be 1.6.0 because of added features of
	  control interface

2008-10-01 20:10  thor

	* configure.ac: be prepared to find first header again when there
	  is no seek table, fresh and clean

2008-10-01 20:04  thor

	* TODO: note about possible multiplied ID3v2 parsing

2008-10-01 19:29  thor

	* test/1000Hz/work.sh: use --no-gapless

2008-10-01 19:29  thor

	* ChangeLog: typo

2008-09-30 17:25  thor

	* src/control_generic.c, src/mpg123.c, src/mpg123app.h: adding
	  sample and scan commands to remote interface, also --keep-open

2008-09-17 13:58  thor

	* src/libmpg123/Makefile.am, src/libmpg123/dnoise.c,
	  src/libmpg123/dnoise.dat, src/libmpg123/dnoise.sh: turn dnoise.c
	  into a data file with a converter script; much saner this way

2008-09-17 13:45  thor

	* configure.ac: fixes for picky autoconf-2.62 ... it picked up the
	  spaces around variable names (actually only the space _after_) as
	  part of the variable name.
	  Great job to make me waste my time with such cruft again!!

2008-09-03 11:07  thor

	* NEWS, configure.ac: document updates

2008-09-03 11:05  thor

	* src/libmpg123/libmpg123.c: make mpg123_getformat check for NULL
	  pointers

2008-09-03 11:03  thor

	* src/libmpg123/mpg123.h.in: Clean up mpg123_channels:
	  MPG123_LEFT|MPG123_RIGHT is now a member of the enum, at least
	  per value.
	  C++ still wants to have a specific symbol instead of the binary |
	  ...

2008-09-03 10:38  thor

	* configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/reader.h,
	  src/libmpg123/readers.c: use const char* file paths for open()

2008-08-29 06:47  thor

	* configure.ac: update library version

2008-08-22 08:43  thor

	* src/libmpg123/libmpg123.sym: add the missing export symbol for
	  mpg123_set_filesize

2008-08-21 17:18  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: Work on bug #2064322, adding
	  mpg123_set_filesize() and controlling mpg123_length() a bit.
	  Arbitrary negative length values should be a thing of the past
	  now.

2008-08-20 09:34  thor

	* configure.ac: version will be 1.5.1

2008-08-20 09:28  thor

	* NEWS, configure.ac, src/libmpg123/dct64_sse.S: Making SSE decoder
	  thread safe (bug #2053181).
	  The local b1 and b2 variables are now handled on the stack, which
	  interestingly also seems to be slightly faster on my machine.

2008-08-19 18:20  thor

	* src/libmpg123/mpg123.h.in: API doc: make mpg123_init/exit calling
	  with threads more clear

2008-08-10 18:40  thor

	* NEWS, man1/mpg123.1: update docs

2008-08-10 18:39  thor

	* src/mpg123.c: add --no-resync to replace --resync in future

2008-08-10 18:21  thor

	* src/wav.c: Make wav/cdr/au output properly work with the special
	  file "-", aka. stdout.
	  Not closing it, not repeating headers.

2008-08-03 20:04  thor

	* src/libmpg123/dct36_3dnow.S, src/libmpg123/dct36_3dnowext.S,
	  src/libmpg123/dct64_3dnow.S, src/libmpg123/dct64_3dnowext.S,
	  src/libmpg123/dct64_mmx.S, src/libmpg123/dct64_sse.S,
	  src/libmpg123/decode_3dnow.S, src/libmpg123/decode_3dnowext.S,
	  src/libmpg123/decode_i586.S, src/libmpg123/decode_i586_dither.S,
	  src/libmpg123/decode_mmx.S, src/libmpg123/decode_sse.S,
	  src/libmpg123/equalizer_3dnow.S, src/libmpg123/getcpuflags.S,
	  src/libmpg123/tabinit_mmx.S: following gentoo advice... marking
	  stacks as non-exec for gcc

2008-08-03 08:43  thor

	* src/control_generic.c: fix help of loadpaused command

2008-08-02 11:54  thor

	* src/libmpg123/Makefile.am: include ic2utf8.h in distribution

2008-08-02 11:48  thor

	* src/resolver.c: remove the fixed DEBUG

2008-08-02 11:41  thor

	* NEWS: updated 1.5.0 NEWS

2008-08-02 11:40  thor

	* src/resolver.c: Also make the initial connection use the timeout
	  (would block forever otherwise...).

2008-08-02 11:39  thor

	* src/libmpg123/readers.c: Do the nonblock switching properly,
	  without clearing other flags.

2008-08-02 10:40  thor

	* AUTHORS, NEWS, NEWS.libmpg123, configure.ac, src/Makefile.am,
	  src/httpget.c, src/id3print.c, src/id3print.h,
	  src/libmpg123/Makefile.am, src/libmpg123/icy2utf8.c,
	  src/libmpg123/icy2utf8.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym, src/libmpg123/mpg123.h.in,
	  src/metaprint.c, src/metaprint.h, src/mpg123.c, src/term.c: Added
	  the ICY decoding from Thorsten Glaser (of course wrapped it a bit
	  in mpg123 mungo;-).

2008-08-02 09:19  thor

	* src/libmpg123/reader.h, src/libmpg123/readers.c: preserve the
	  constness of input buffers

2008-08-02 09:10  thor

	* NEWS: NEWS updated for 1.5.0

2008-08-02 08:55  thor

	* src/libmpg123/layer3.c, src/libmpg123/parse.c: - remove
	  varmodesupport
	  - consistent indendation in parse.c
	  - dead code removed in parse.c

2008-08-02 08:36  thor

	* src/libmpg123/parse.c: Remove that line that stored the (bogus,
	  anyway) peak value a float number from an arbitrary buffer.
	  At least on the Wii (PowerPC), this triggered a problem due to
	  unaligned floating point operation.

2008-08-02 08:33  thor

	* src/libmpg123/mpg123.h.in, src/libmpg123/parse.c, src/mpg123.c,
	  src/mpg123app.h: Remove --force-resync again; the ICY resync mess
	  has been caused by that bug of mine...

2008-07-11 21:38  thor

	* NEWS, src/output/alsa.c: Try to resume ALSA devices after
	  suspend...

2008-07-09 08:41  thor

	* doc/doxyhead.xhtml: ...you should proofread that before the first
	  commit.
	  Anyway, added note about compatibility.

2008-07-09 08:37  thor

	* doc/doxyhead.xhtml: Eh... put that note below the mpg123
	  linkbar...

2008-07-09 08:35  thor

	* doc/doxyhead.xhtml: Added note about API being from development
	  verison.

2008-07-09 01:35  thor

	* configure.ac: Put environment CFLAGS/CPPFLAGS _after_ the
	  generated ones, to give the user the last word.

2008-07-04 08:01  thor

	* NEWS, NEWS.libmpg123, configure.ac, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym, src/libmpg123/mpg123.h.in: Added
	  mpg123_feed() and made it take a const pointer as input buffer
	  (mpg123_decode, too).

2008-07-01 09:52  thor

	* src/httpget.c: added audio/mpegurl

2008-07-01 08:56  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/mpg123.h.in, src/libmpg123/parse.c, src/mpg123.c,
	  src/mpg123app.h: added --force-resync (I think it will vanish
	  soon again), by-the-way cleanup of unused fr->do_recover

2008-07-01 08:30  thor

	* NEWS, src/mpg123.c, src/mpg123app.h, src/playlist.c: Added
	  --ignore-mime.

2008-07-01 01:39  thor

	* src/httpget.c, src/mpg123.c: Remove further NETWORK blocks to
	  make it actually work for generic systems.

2008-07-01 01:20  thor

	* src/resolver.c: Give note about kind of connection being tried to
	  established (old IPv4 code, new code).

2008-07-01 01:17  thor

	* configure.ac, src/httpget.c, src/resolver.c: Give the network
	  code a dedicated configure and preprocessor switch; checking for
	  the lot of headers in configure.
	  One step further to eliminate the host OS recognition stuff.

2008-06-30 23:44  thor

	* NEWS, configure.ac, src/resolver.c: ... IPv6! Totally untested!

2008-06-30 23:41  thor

	* src/httpget.c: Re-enable the host request header (debugging...);
	  make verbosity about HTTP communication runtime-switchable.

2008-06-30 23:32  thor

	* src/httpget.c: remove a debugging line

2008-06-30 22:56  thor

	* NEWS, src/httpget.c, src/httpget.h, src/mpg123.c,
	  src/mpg123app.h, src/playlist.c, src/resolver.c: proxy fixup

2008-06-30 21:22  thor

	* NEWS: news for 1.5.0 ...

2008-06-30 21:22  thor

	* src/Makefile.am, src/httpget.c, src/httpget.h, src/resolver.c,
	  src/resolver.h: Reworked the HTTP code!
	  Apart from now using mpg123_string all around (which should at
	  least be a bit safer), the lowlevel network code is separated
	  into resolver.c .
	  This should ease the to-come IPv6 changes.

2008-06-30 21:20  thor

	* configure.ac: The new libmpg123 version

2008-06-30 21:20  thor

	* NEWS.libmpg123, src/libmpg123/libmpg123.sym,
	  src/libmpg123/mpg123.h.in, src/libmpg123/stringbuf.c: Extending
	  libmpg123's string API with substrings and growing; doc update.

2008-06-30 21:14  thor

	* src/mpg123.c: verbose error message on http_open failure

2008-06-30 20:36  thor

	* src/libmpg123/id3.c: Wondering why that didn't hit earlier: A
	  bogus null-termination of the "lang" field in comments.

2008-06-30 20:22  thor

	* src/audio.h: export print_capabilities officially

2008-06-29 10:49  thor

	* configure.ac, src/libmpg123/mpg123.h.in,
	  src/libmpg123/stringbuf.c: Safety: make the char* arguments to
	  mpg123_add_string and mpg123_set_string const char* .

2008-06-29 09:01  thor

	* src/mpg123.c: Try to be more helpful on output format errors;
	  especially cdr.

2008-06-15 20:35  thor

	* ports/Sony_PSP/README, ports/Sony_PSP/readers.c.patch: Update of
	  PSP port to current toolchain, by noapic.

2008-05-23 09:04  thor

	* src/libmpg123/libmpg123.c: Add more alignment checking.

2008-05-20 18:56  thor

	* Makefile.am, ports/README, ports/mpg123_msvc.h: add that msvc
	  header

2008-05-18 09:27  thor

	* src/libmpg123/mpg123.h.in: Oh, that missing error code in
	  mpg123.h

2008-05-18 08:24  thor

	* src/libmpg123/libmpg123.c: A li'l attempt to detect misaligned
	  stack in debug build.

2008-05-18 07:42  thor

	* NEWS: now really the news about 1.4.3 stuff

2008-05-18 07:19  thor

	* AUTHORS, src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/optimize.c, src/libmpg123/parse.c,
	  src/libmpg123/stringbuf.c: Import the ABI / stack alignment fixes
	  from tag 1.4.3 (rev 1484).

2008-05-18 07:15  thor

	* NEWS: news for 1.4.3

2008-05-13 20:35  thor

	* src/libmpg123/id3.c: RVA notice clarification.

2008-05-13 20:34  thor

	* src/output/win32.c: Make win32 output use the channel count to
	  support mono playback (from 1.4.3 tag).

2008-04-29 20:03  thor

	* src/libmpg123/frame.c, src/libmpg123/libmpg123.c: Fixing the
	  return value of mpg123_tell(), and thus the return value of
	  mpg123_seek() as well as the working of relative seeks.
	  The buffer offset missed a conversion from bytes to samples. This
	  should fix bug 1947373.

2008-04-28 22:51  njh

	* misc/ruby-mpg123.rb: Added ruby class for controlling mpg123

2008-04-28 09:36  thor

	* src/libmpg123/getcpuflags.S, src/libmpg123/getcpuflags.h: A fix
	  for bogus 3DNow detection on CPUs that do not support the
	  extended flag query.
	  Not yet verified on the CPU in question (IDT C6).

2008-04-20 13:19  thor

	* NEWS, src/libmpg123/readers.c, src/mpg123.c: import build fixes
	  from 1.4.2

2008-04-20 07:50  thor

	* src/control_generic.c, src/libmpg123/readers.c: One precaution
	  and one bugfix with header inclusion oder: readers.c didn't see
	  config.h before conditionally including system headers.
	  This only made trouble on Cygwin so far, apparently.

2008-04-14 06:52  thor

	* src/libmpg123/mpg123.h.in: Further clarification in encoding doc.

2008-04-14 06:48  thor

	* src/libmpg123/mpg123.h.in: clarify testing situation with floats

2008-04-14 06:43  thor

	* src/libmpg123/format.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: Silently drop not supported formats in
	  mpg123_format(), no outright failure.

2008-04-14 06:42  thor

	* src/libmpg123/frame.c: fix printf for float

2008-04-14 00:07  thor

	* configure.ac, src/audio.c, src/libmpg123/format.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/mpg123lib_intern.h: Working on float output
	  support. Tested only 32bit float, but added API definitions for
	  64bit float and 32bit integers, too.

2008-04-07 23:04  thor

	* NEWS, configure.ac: Calling this 1.4.1.

2008-04-07 23:03  thor

	* src/mpg123.c: Fix terminal again... there was a term_restore()
	  left where it should not be.
	  This was the quick-shot regression bug 1936548

2008-04-06 23:41  thor

	* src/audio.c: Fix that info line... forgot the name!

2008-04-06 23:30  thor

	* NEWS: The forgotten NEWS update for 1.4.0 .

2008-04-06 22:58  thor

	* src/audio.c: More useful output module error message.

2008-04-06 22:48  thor

	* src/output/alsa.c: Make ALSA silent when desired (probing).

2008-04-06 22:25  thor

	* src/output/alsa.c, src/output/oss.c: Make OSS and Alsa (partly
	  silent) when probing.
	  Alsa needs some change to make the library silent...

2008-04-06 22:24  thor

	* src/audio.c: clear the quietness flag after probing output

2008-04-06 22:11  thor

	* src/audio.c, src/audio.h: - Fix nasty segfault when no working
	  module was found (ao = NULL !!!).
	  - Introduce silent init for probing.

2008-04-06 21:35  thor

	* src/output/arts.c: Fail correctly when there is no arts.

2008-04-06 20:50  thor

	* src/libmpg123/readers.c: A bit more EOF safety in skip_bytes;
	  clearness.

2008-04-04 11:59  thor

	* src/libmpg123/readers.c: Avoid a size 0 read in ICY parser...
	  that triggered EOF now.

2008-04-04 10:26  thor

	* src/mpg123.c: Enable interrupt within loop where the track
	  loading failes (which would be annoying with --loop -1, in
	  particular), further thoughts about cleanup of that SIGINT
	  business.

2008-04-04 09:46  thor

	* src/libmpg123/readers.c: fixing an endless loop in ICY reader
	  when stream actually ends in EOF and not with an error... duh

2008-04-01 19:55  thor

	* NEWS, configure.ac, man1/mpg123.1: Update stuff for 1.4.0
	  release.

2008-04-01 19:54  thor

	* src/libmpg123/readers.c: Cleanup with regard to error messages.

2008-04-01 19:51  thor

	* src/libmpg123/dnoise.c: Add that f to the float constants...
	  makes some compilers happy.

2008-03-21 22:04  thor

	* configure.ac: Now building the list of all (useful) compiled
	  modules into mpg123 as default list to try.
	  That finally does "just play" whether I got alsa or oss drivers
	  loaded without fuzz (apart from alsa error messages).

2008-03-21 21:46  thor

	* src/audio.c: Following the idea of
	  http://cvs.pld-linux.org/cgi-bin/cvsweb.cgi/SOURCES/mpg123-no-la.patch
	  (bug 1910500):
	  Implement a search for working output modules, extending the
	  original idea to a runtime check (opening the device).
	  Now you can give mpg123 a list of output modules from which it
	  chooses the first working one.

2008-03-21 21:44  thor

	* src/module.c: Name the module in loading error message.

2008-03-21 21:34  thor

	* src/playlist.c: Need time.h .

2008-03-21 21:31  thor

	* src/output/oss.c: Last time: debug.h!

2008-03-21 21:29  thor

	* src/output/jack.c: Here, too, include debug.h .

2008-03-21 21:29  thor

	* src/output/aix.c, src/output/alib.c, src/output/alsa.c,
	  src/output/alsa05.c, src/output/arts.c, src/output/coreaudio.c,
	  src/output/dummy.c, src/output/esd.c, src/output/hp.c,
	  src/output/libao.c, src/output/mint.c, src/output/nas.c,
	  src/output/os2.c, src/output/portaudio.c, src/output/sdl.c,
	  src/output/sgi.c, src/output/sun.c, src/output/win32.c: include
	  debug.h explicitly

2008-03-21 20:19  thor

	* src/output/dummy.c: Don't warn on dummy output usage... may be
	  intentional.

2008-03-20 13:55  thor

	* src/audio.c, src/buffer.c, src/common.c, src/control_generic.c,
	  src/getlopt.c, src/httpget.c, src/id3print.c,
	  src/legacy_module.c, src/libmpg123/decode_ntom.c,
	  src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/id3.c, src/libmpg123/layer3.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/parse.c, src/libmpg123/readers.c,
	  src/libmpg123/stringbuf.c, src/libmpg123/system.c,
	  src/libmpg123/tabinit.c, src/module.c, src/mpg123.c,
	  src/mpg123app.h, src/playlist.c, src/term.c, src/wav.c,
	  src/xfermem.c: Update some copyright years.

2008-03-20 13:51  thor

	* src/audio.c, src/buffer.c, src/common.c, src/control_generic.c,
	  src/getlopt.c, src/httpget.c, src/id3print.c,
	  src/legacy_module.c, src/libmpg123/decode_ntom.c,
	  src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/id3.c, src/libmpg123/layer3.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/parse.c, src/libmpg123/readers.c,
	  src/libmpg123/stringbuf.c, src/libmpg123/system.c,
	  src/libmpg123/tabinit.c, src/module.c, src/mpg123.c,
	  src/mpg123app.h, src/playlist.c, src/term.c, src/wav.c,
	  src/xfermem.c: Ensure that debug.h is included after any system
	  headers.
	  There may be funny conflicts with my generic macro names.

2008-03-19 23:52  thor

	* src/libmpg123/readers.c: Be paranoid, include the headers for
	  select() even when not needed on my system.

2008-03-19 23:46  thor

	* src/common.c, src/control_generic.c, src/libmpg123/parse.c,
	  src/libmpg123/readers.c, src/mpg123.c, src/mpg123app.h,
	  src/playlist.c, src/term.c, src/xfermem.c: Removed some
	  unnecessary #includes; centralized some in mpg123app.h
	  Still not sure about where readers.c gets its definition for
	  select() from.

2008-03-19 23:23  thor

	* src/libmpg123/dnoise.c: Making dnoise a bit smaller by omitting
	  leading zeros.
	  Still, wondering if computation at runtime would be such a bad
	  thing.

2008-03-11 22:26  thor

	* xmms2-plugin/mpg123/mpg123.c: Style fixes in xmms2 plugin +
	  removal of metadata handling.

2008-03-08 20:37  thor

	* NEWS, configure.ac: We're at 1.3.1 and have some NEWS (backmerge
	  from the tag).

2008-03-08 20:06  thor

	* src/term.c: A note about the limit of terminal controlled pitch.

2008-03-08 19:50  thor

	* src/output/alsa.c: Omit the xfer_align call only when alsa lib is
	  at least 1.0.16, where the function is deprecated.
	  This is no guarantee for --enable-nagging builds to succeed; it
	  just happens to work now on my laptop with alsa-lib 1.0.16.
	  It doesn't work on that other box with 1.0.15, where the alloca
	  fun triggers a warning.
	  Anyhow, hope to fix bug 1908603 for the poor souls with old alsa
	  libs (old meaning: half a year old) where the xfer_align setting
	  may be crucial.

2008-03-08 19:40  thor

	* src/libmpg123/readers.c: superfluous debugging code

2008-03-08 08:58  thor

	* src/audio.c, src/audio.h, src/mpg123.c, src/mpg123app.h,
	  src/term.c, src/term.h: Reacting to a wish list item... and
	  adding a kinda cool feature there:
	  A --pitch parameter as well as interactive terminal control for
	  playback speed control via the output (hardware) sample rate.
	  I first considered using the software "resampling" of libmpg123
	  but this way it has the best possible quality and the least cpu
	  impact (that is, basically none;-).
	  It is the mpg123 way!
	  Plus, if your hardware doesn't support many rates or you really,
	  really want your CPU do the work, just use an output module like
	  alsa with default (plughw) device or portaudio that will do the
	  resampling in software.
	  That being said... I just found out that my laptop's sound chip
	  can actually do a bit more than 48000Hz;-)

2008-03-08 08:52  thor

	* src/term.c: Also apply the terminal verbosity setting to the
	  library.

2008-03-02 22:31  thor

	* Makefile.am: omit dirs from Makefile.am

2008-03-02 22:23  thor

	* INSTALL, Makefile.am, NEWS, ports, ports/MSVC++,
	  ports/MSVC++/INCLUDE, ports/MSVC++/INCLUDE/CORE,
	  ports/MSVC++/INCLUDE/CORE/CORE_FileIn.H,
	  ports/MSVC++/INCLUDE/CORE/SourceFilter_MP3.H,
	  ports/MSVC++/INCLUDE/IIEP_Def.H,
	  ports/MSVC++/INCLUDE/IIEP_FileIn.H, ports/MSVC++/README,
	  ports/MSVC++/SOURCE, ports/MSVC++/SOURCE/CORE_FileIn.CPP,
	  ports/MSVC++/SOURCE/CORE_Log.CPP,
	  ports/MSVC++/SOURCE/CORE_Mutex.CPP,
	  ports/MSVC++/SOURCE/SourceFilter_MP3Stream.CPP,
	  ports/MSVC++/libMPG123,
	  ports/MSVC++/libMPG123/PLACE_LIBMPG123_SOURCES_HERE,
	  ports/MSVC++/libMPG123/libMPG123.vcproj, ports/README,
	  ports/Sony_PSP, ports/Sony_PSP/Makefile.psp,
	  ports/Sony_PSP/README, ports/Sony_PSP/config.h,
	  ports/Sony_PSP/readers.c.patch, ports/mpg123_.pas: Including the
	  ports/bindings that threatened to collect dust in my mailbox.

2008-03-02 22:22  thor

	* NEWS: More news for 1.3.0.

2008-03-02 21:34  thor

	* NEWS, TODO, src/libmpg123/id3.c: Fix that memory leak.

2008-03-02 17:04  thor

	* NEWS, NEWS.libmpg123: News for 1.3.0.

2008-03-02 16:56  thor

	* ., configure.ac, src/libmpg123/mpg123.h.in,
	  src/libmpg123/reader.h, src/libmpg123/readers.c, src/mpg123.c:
	  This is my weekend again... hacking to make http streaming work
	  better.
	  - Added MPG123_SEEKBUFFER flag, triggering re-use of the feeder
	  bufferchain code to enable some peek-ahead on non-seekable
	  streams.
	  - During hacking and finally found where the ICY code went wrong
	  (especially seen with big buffer):
	  The ICY reader didn't care for read() returning some but less
	  than the wanted bytes. Shame on me!
	  
	  A test looks good for now... going to close that memleak and make
	  1.3.0 tonight.

2008-03-02 14:02  thor

	* xmms2-plugin/mpg123/mpg123.c: Big diff just for whitespace in
	  "function (parm)", xmms2 coding style.

2008-03-02 13:49  thor

	* xmms2-plugin/mpg123/mpg123.c: adding xmms magic to make streaming
	  work

2008-03-02 13:27  thor

	* src/libmpg123/parse.c: - Report zero time/frames left for
	  non-seekable streams (without warning).
	  - Ensure that you at least get MPG123_ERR_READER when read_frame
	  goes wrong (error: no error is too confusing;-).

2008-03-02 01:02  thor

	* TODO: Added note about that memleak.

2008-03-02 00:58  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/parse.c,
	  src/libmpg123/reader.h, src/libmpg123/readers.c: Spell out the
	  buffer chain which was embedded in the feeder code; going to
	  re-use it as input buffer for supporting frame sync check wich
	  peek-ahead for non-seeable streams.

2008-03-02 00:55  thor

	* src/output/alsa.c: There's a deprecated ALSA API function...
	  shrugging and removing the call. Still gives sound, eh?

2008-03-01 14:01  thor

	* src/libmpg123/id3.c, src/term.c: Code niceness fixes.

2008-03-01 13:11  thor

	* TODO_1.0: That TODO is outdated.

2008-03-01 10:19  thor

	* src/libmpg123/layer3.c: Make that mask shift in
	  III_dequantize_sample safe (from mhipp rev 43).

2008-03-01 10:14  thor

	* src/libmpg123/layer3.c: The "r0c/r1c > 22 fix" from mhipp rev 51.

2008-03-01 10:07  thor

	* src/libmpg123/layer3.c: Importing the layer table change from
	  mhipp rev 51; that fixes the sizzling of bug 1895025.

2008-03-01 10:03  thor

	* src/libmpg123/id3.c: Another safeguard against too _large_
	  claimed frame sizes.

2008-02-29 22:32  thor

	* src/libmpg123/id3.c: Fixing a crash in the ID3v2 parser with
	  _really_ small (invalid) comment/text frame length values.

2008-02-26 09:02  thor

	* configure.ac, man1/mpg123.1, src/mpg123.c, src/mpg123app.h:
	  adding --smooth, which is a new user-visible feature, so heading
	  for 1.3.0

2008-02-25 23:29  thor

	* NEWS: update NEWS for a possible 1.2.2 release

2008-02-25 23:25  thor

	* src/mpg123.c: ICY stuff: Always clear htd on open_track, print
	  ICY-NAME and ICY-URL after loading as mpg123-0.6x did it.

2008-02-25 23:24  thor

	* src/libmpg123/parse.c: Gah, forgot a { , breaking compilation for
	  the last few days.

2008-02-20 10:02  thor

	* configure.ac: May become version 1.2.2 (maybe will add the smooth
	  buffer feature for less interrupted streaming reconnects).

2008-02-20 10:00  thor

	* configure.ac, src/libmpg123/parse.c: libmpg123 1.3.1: Don't try
	  to resync on ICY streams (mpg123 --loop -1 does a good job on
	  unreliable connections, reconnect to server instead of fiddling
	  helplessly in the data.

2008-02-19 22:26  thor

	* NEWS, configure.ac: Preparing for 1.2.1 release.

2008-02-19 11:48  thor

	* src/mpg123.c: Fixing the loosing of freshness for a track when we
	  seem to jump over the start_frame for some reason.
	  This was the cause for no verbose info being printed for some
	  internet streams... stream was always treated as fresh file
	  (before reaching first frame to be actually played).
	  Now isn't there some bug behind that in libmpg123 that causes the
	  first frame number for mpg123 to be 2, for example, instead of 0?

2008-02-11 01:58  thor

	* src/audio.c: Add an output write loop to handle SIGSTOP/CONT
	  operation (bug 1890563).

2008-02-08 10:07  thor

	* src/libmpg123/parse.c: A hack to loosen stream check
	  strictness... discarding the first header on resync.
	  That at least enables playback of the test file of bug 1889051
	  ... but may introduce other false positives again.
	  Actually, the problem of 1889051 is a false positive for the fist
	  header; which _passes_ the text for a following valid header
	  after that frame.
	  What a coincidence... Should I test for the next 2 frames?
	  MPlayer doesn't show the short distortion that mpg123 shows in
	  decoding the first (invalid, but strangely decodable) frame.
	  
	  Guess the best to do is to finally rewrite that frame
	  reading/searching function to be more consistent and tunable for
	  - bytes of junk to skip
	  - resync limit (we have that already)
	  - number of frames/headers readahead for assuring a valid stream
	  
	  I would like to have a 1.2.1 release with just the last bugfix
	  (endless loop in resync) and perhaps a variant of the current
	  hack after I spent some more thought and testing on it (does
	  mpg123 still pass the nasty test files that made me make the
	  resync that strickt?).
	  Then, for 1.3.0, the tunable resync should enter the scene.

2008-02-07 17:12  thor

	* NEWS, configure.ac, src/libmpg123/parse.c: fix resync with free
	  format headers in there... header_check did not fail for them,
	  though we do not support free format

2008-02-03 12:57  thor

	* AUTHORS: complete name of Michael in AUTHORS

2008-01-31 21:21  thor

	* NEWS, src/common.c: OK, another late change for 1.2.0 ... fix
	  mpg123 -v on Win32 (an #ifndef missing for select() on stderr).

2008-01-30 23:52  thor

	* AUTHORS, Makefile.am, NEWS, NEWS.libmpg123, doc/THANKS,
	  man1/mpg123.1: The documentation stuff for 1.2.0 ... forgot it
	  earlier.

2008-01-30 22:48  thor

	* autogen.sh, configure.ac: Fixing build on Win32 with correct
	  buffer disabling in configure and also generating the mpg123.spec
	  directly in autogen.sh (prevent regeneration by configure).
	  This is version 1.2.0 of mpg123...

2008-01-30 22:44  thor

	* src/mpg123.c: Let the library paremeter error message indicate
	  the parameter setting that failed by number.

2008-01-27 18:47  thor

	* NEWS.libmpg123: A separate file to have overview on libmpg123
	  changes.

2008-01-27 18:36  thor

	* src/libmpg123/frame.h, src/libmpg123/optimize.h: Ahem, _now_
	  remove the redundant optimize stuff from frame.h .

2008-01-27 18:35  thor

	* src/mpg123.c: Regression fix: Ignore premature end of audio
	  flushing when we got SIGINT (that showed in error/quit with OSS
	  output on Ctrl+C instead of going to next track).

2008-01-27 13:55  thor

	* Makefile.am, mpg123.spec.in: RPM stuff:
	  - Do not distribute the preliminary fedora spec file... it's
	  outdated and any additional spec file confuses rpmbuild.
	  - Remove specific BuildPrereq for making it "just work" on SuSE
	  (in case the unnamed prereq is met...).
	  - Do not force default output to alsa, as alsa may not be built!
	  Automatic selection works (worst case on linux is OSS).

2008-01-27 12:38  thor

	* ., mpg123.spec.in: Really adding that spec file.

2008-01-27 12:33  thor

	* Makefile.am, configure.ac: Add Michael's generic mpg123.spec.in .

2008-01-27 12:32  thor

	* src/audio.c: Initialize ao->is_open also for fake modules.

2008-01-27 10:16  thor

	* configure.ac: Replace AC_TYPE_ macros with direct calls to
	  AC_CHECK_TYPE, to get some easy compatibility with older
	  autoconf.

2008-01-27 10:14  thor

	* src/libmpg123/Makefile.am: Adding i486 files to Makefile.am so
	  that they are indeed in the distribution (bug 1879274).

2008-01-27 10:08  thor

	* configure.ac, src/libmpg123/decode_i386.c, src/libmpg123/frame.h,
	  src/libmpg123/optimize.h: Fix i486 build for not claiming i386
	  decoder support, removing the redundant optimization definitions
	  from frame.h along the way.

2008-01-26 15:33  thor

	* configure.ac, doc/examples/scan.c, src/libmpg123/Makefile.am,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/parse.c, src/mpg123.c, src/mpg123app.h:
	  Initializing framesize (as pointed out by "Gates Fan").
	  Adding resync limit as tunable parameter, with possible setting
	  to -1 to scan through all available data for next valid MPEG
	  frame.

2008-01-26 14:44  thor

	* src/Makefile.am: %-style patterns rules are a GNU make
	  extension... so make it compatible.

2008-01-18 13:36  thor

	* Makefile.am: adding autogen.sh to distribution

2008-01-16 17:31  thor

	* Makefile.am: remove dead entries for rpm spec

2008-01-16 17:17  thor

	* rpm/fedora4/mpg123-1.0.1.spec: another RPM spec fix

2008-01-16 17:16  thor

	* rpm/fedora4/mpg123-1.0.1-3.spec, rpm/fedora4/mpg123-1.0.1.spec:
	  another one

2008-01-16 17:15  thor

	* rpm/fedora4/mpg123-1.0.1-2.spec, rpm/fedora4/mpg123-1.0.1.spec:
	  Putting the versions together.

2008-01-16 17:14  thor

	* configure.ac: Accept --with-audio=foo,bar,bang just as well as
	  --with-audio="foo bar bang".

2008-01-16 17:13  thor

	* configure.ac, src/Makefile.am: Remove the special handling of
	  pkglibdir in configure.ac and let the Makefile define PKGLIBDIR
	  instead in AM_CPPFLAGS.
	  That is less error prone and lets the automagic properly work out
	  pkglibdir.
	  Hopefully it fixes the RPM build problems on fedora... not
	  entirely sure what kind of build they actually do.

2008-01-16 11:06  thor

	* Makefile.am, configure.ac: The next dev vesion... with the
	  forgotten rpm spec files...

2008-01-15 02:19  thor

	* NEWS, README, configure.ac: Prepare for 1.1.0 release.

2008-01-15 02:13  thor

	* rpm, rpm/fedora4, rpm/fedora4/README,
	  rpm/fedora4/mpg123-1.0.1-2.spec, rpm/fedora4/mpg123-1.0.1-3.spec,
	  rpm/fedora4/mpg123-1.0.1.spec: Store Michael's (not Hipp;-)
	  attempts at fedore RPMs.

2008-01-13 14:34  thor

	* src/mpg123.c: Soften the -q option: Now you are able to increase
	  verbosity after -q again:
	  mpg123 -v -v -v -q
	  is silent, while
	  mpg123 -v -v -q -v
	  still gives progress display.

2008-01-01 16:19  thor

	* src/term.c, src/term.h: A tribute to the commands that can
	  obliterate your screen (or the idea of running mpg123 -q -C):
	  - key for printing ID3 tag info ([t])
	  - key for printing MPEG frame header info ([m])

2008-01-01 16:06  thor

	* src/mpg123.c: Allow enabling of progress display in terminal even
	  when -q was given on command line.

2008-01-01 15:41  thor

	* src/mpg123.c, src/mpg123app.h, src/playlist.c, src/playlist.h,
	  src/term.c, src/term.h: More fun at the terminal:
	  - key for going to previous track ([d], because it's left of [f]
	  usually... this is a place where a config file makes sense).
	  - key for printing current playlist
	  - some modifications in main player and playlist code to support
	  this

2007-12-30 16:31  thor

	* src/libmpg123/id3.c: Really stop tag parsing when reaching
	  padding. Immediately.

2007-12-30 16:11  thor

	* src/libmpg123/id3.c: More quietness in id3.c .

2007-12-30 15:57  thor

	* src/libmpg123/id3.c, src/libmpg123/parse.c: More robust ID3v2
	  support; On parse error in tag, the parsing of the tag just stops
	  -- not the MPEG parsing!
	  The tag parsing function shall now return:
	  <0 for read errors only (possibly just need feed)
	  0 for unparseable tag (no new info)
	  >0 for at least some successfully parsed info (even partial)

2007-12-28 19:16  thor

	* NEWS, src/libmpg123/parse.c: - more on demand verbosity in parser
	  (lame/xing/info tag)
	  - update NEWS for next feature release

2007-12-28 18:18  thor

	* xmms2-plugin/mpg123/mpg123.c: Cleaning up the XMMS2 plugin a
	  bit... preparing for submitting it to them.

2007-12-28 14:32  thor

	* configure.ac: Introducing a scheme: The SVN trunk is the
	  development version for 1.1.0 release (1.1.0-dev).

2007-12-28 14:31  thor

	* NEWS, src/audio.c, src/module.c: Merge more module loader safety
	  changes from 1.0.1 release:
	  - Check for failure of getting working dir or module dir.
	  - Fix the module loading error check in audio.c to catch it at
	  the right time.

2007-12-28 13:57  thor

	* src/module.c: What a bug! The increased path buffer has not been
	  stored in the path buffer pointer!
	  Of course that's causing sf.net bug 1859413.
	  So I finally got the view on my blatant mistake as a late
	  christmas gift.

2007-12-23 13:58  thor

	* src/output/arts.c: the missing source!

2007-12-23 13:38  thor

	* AUTHORS, configure.ac, src/output/Makefile.am: Work on the next
	  version begins... initial aRts support now.

2007-12-23 11:32  thor

	* NEWS: Late NEWS.

2007-12-23 11:31  thor

	* src/Makefile.am, src/output/Makefile.am: Late fix: Make VPATH
	  builds find the mpg123.h in the build directory.

2007-12-23 11:03  thor

	* NEWS, configure.ac: Going to be 1.0.0!

2007-12-23 11:03  thor

	* man1/mpg123.1: Updated the man page with some command line
	  parameters.

2007-12-23 10:35  thor

	* doc/README.remote, src/control_generic.c: Update remote control
	  doc and push version of interface to v3.

2007-12-23 10:08  thor

	* configure.ac: Streamline the (experimental) floating point
	  decoder by dropping modules as no normal output modules supports
	  float as of now.

2007-12-23 09:52  thor

	* configure.ac: Initialize pkgconfig before using in configure,
	  fixes some configs (unsurprisingly)...

2007-12-23 09:47  thor

	* configure.ac: Fix copy'n'pase artifact in configure help output
	  (sse_alone).

2007-12-20 22:26  thor

	* src/output/pulse.c: Ooops, in case of error, something erroneous
	  should be returned by pulse_write().

2007-12-20 22:20  thor

	* src/output/pulse.c: Fix pulseaudio write function's return value
	  and, while being there also the initial open with default audio
	  format.

2007-12-18 10:30  thor

	* NEWS, configure.ac: Going to be 1.0rc3 with updated NEWS.

2007-12-18 10:25  thor

	* src/libmpg123/parse.c, src/libmpg123/tabinit.c: Some cleanup
	  regarding QUIETness.

2007-12-18 10:18  thor

	* src/libmpg123/getbits.c: Remove that file, it's unused and
	  distracts.

2007-12-18 10:14  thor

	* src/libmpg123/id3.c: More verbosity on level 4: Tell about ID3
	  encodings.

2007-12-18 10:14  thor

	* AUTHORS: Added ravenexp for reworked win32 output.

2007-12-13 01:10  thor

	* configure.ac: Disable buffer when compiling CoreAudio directly
	  into binary (not as module).

2007-12-10 00:51  thor

	* configure.ac: It's rc3-dev now ... release on 3rd advent? ;-)

2007-12-10 00:51  thor

	* TODO: Again: Try to note stuff to do _later_. 1.0 is first.

2007-12-10 00:50  thor

	* src/output/jack.c: Fixing that one... The capabilities inquiry
	  does not work when the open function fails out on the first one
	  where native audio settings are required via format=-1 etc.!

2007-12-09 15:12  thor

	* configure.ac: Naming it 1.0rc2.

2007-12-09 15:01  thor

	* Makefile.am, NEWS, src/audio.c, src/audio.h, src/buffer.c,
	  src/mpg123.c, src/xfermem.c, test/forkfaint.c: Completed the
	  output abstraction (also in buffer; also unified closing of
	  output stuff with exit_output).
	  Made mpg123 check for errors in output (while writing - so after
	  _opening_ was successful) so that it does't rage-decode in
	  invalid files/pipes.

2007-12-09 13:01  thor

	* src/mpg123.c: Those { } were imortant!

2007-12-09 12:48  thor

	* src/mpg123.c: Include windows.h for Sleep().

2007-12-09 12:47  thor

	* configure.ac: Disable modules per default on windows.

2007-12-09 03:12  thor

	* src/audio.c: test and fix DNOXFERMEM

2007-12-09 03:07  thor

	* src/audio.c, src/mpg123.c, src/mpg123app.h, src/wav.c: Glue the
	  wav/au/cdr and stdout writers to the module structure; allowing
	  integration with audio capabilities and easier handling in mpg123
	  code.
	  Plus, they now work again after my output changes had ruled them
	  out;-)

2007-12-08 15:10  thor

	* NEWS: more news for 1.0rc2

2007-12-08 14:47  thor

	* src/id3print.c: Wile being very overly careful on empty ID3v2
	  data, I prevented ID3v1 from filling gaps!
	  Now we have a synthesis again.

2007-12-08 14:35  thor

	* src/libmpg123/decode_ntom.c: Switch to SAFE_NTOM since I really
	  have seen the bad things that happen with 32bits integer
	  multiplication in the short formula.
	  I had the good code there... on 64bit arch, one may switch back
	  to the unsafe formula, but it remains theoretically unsafe.

2007-12-08 13:31  thor

	* src/audio.c, src/buffer.c: Buffer now says "Hey" now on succesful
	  startup and the main process checks for that.
	  A bad audio module setting now has the expected result... abort
	  at the correct place.

2007-12-08 13:19  thor

	* src/control_generic.c, src/mpg123.c: cleanup

2007-12-08 13:15  thor

	* src/audio.c: remove that debugging line

2007-12-08 13:14  thor

	* src/audio.c: Fix forced rate audio format detection... result up
	  to now was _no_ support detection at all because of comparison of
	  size_t with -1.
	  Why the heck doesn't -Wall point me at this?

2007-12-08 05:01  thor

	* NEWS: More changes noted... hope to tag this 1.0rc2 tomorrow.
	  This rc then really should only get fixes...

2007-12-08 04:58  thor

	* src/control_generic.c: Added TAG command for retrieving the whole
	  lot of ID3v2 (and ID3v1 again) data.
	  Updated help text, applied the @H { ... @H } grouping like
	  introduced for the TAG.

2007-12-08 04:09  thor

	* src/control_generic.c: Print full ID3v1.1 info and, a tad more
	  interesting, some ID3v2 data.

2007-12-08 04:07  thor

	* src/libmpg123/libmpg123.c: The seek functions now all try to init
	  the track; so that for example
	  
	  mpg123_seek(mh, 0, SEEK_SET)
	  
	  Can be used to scan to the first frame, possibly finding ID3v2
	  and Lame tag info.

2007-12-08 03:24  thor

	* NEWS: news for 1.0rc2

2007-12-08 03:11  thor

	* src/audio.c, src/audio.h, src/mpg123.c: complete the --delay

2007-12-08 03:00  thor

	* src/term.c: some debugging removed

2007-12-08 02:51  thor

	* TODO_1.0: Yes, the buffer stuff has been improved... that leaves
	  only the platform testing/fixing and that parallel make thing on
	  the list.

2007-12-08 02:50  thor

	* TODO_1.1: Yeah, funny. Tried to have the discipline to plan stuff
	  for 1.1 before 1.0 is out.
	  The improved buffer interaction is there. Now.

2007-12-08 02:48  thor

	* src/term.c: Remove the forced DEBUG. Done with that.

2007-12-08 02:46  thor

	* src/mpg123.c, src/term.c: Fix buffer behaviour with seeking, in
	  the only way that seemed workable:
	  When you press a seek key in buffer mode, the buffer is stopped
	  and you can seek in peace to your position (makes most sense to
	  have verbosity turned on).
	  After reaching the position, you have to press the stop/un-stop
	  key to restart playback.
	  
	  Seeking wile listening to the bits passing by is really, really
	  non-trivial with the buffer because of the timing between
	  keypress repeats and the buffer refilling.
	  When you want it really interactive, you don't want to have the
	  buffer in between...
	  I think the current solution is close to a local optimum for
	  this, it's the tradeoff you have to do.
	  Even seeking _inside_ the buffer won't help seeking backwards, as
	  the refill would kick in in the same way.

2007-12-08 01:20  thor

	* src/mpg123.c: Need to check command line parameters and possibly
	  give usage _before_ starting the output.

2007-12-08 01:16  thor

	* src/audio.c, src/buffer.c, src/buffer.h, src/control_generic.c,
	  src/mpg123.c, src/mpg123app.h, src/term.c, src/xfermem.c,
	  src/xfermem.h: More communicative buffer and normalized usage of
	  which.
	  No nastly killing or SIGSTOP anymore; buffer either plays or
	  waits for commands, including termination.
	  This fixes the terminal behaviour with track skip and seek when
	  stopped:
	  The buffer can be resynced while being stopped, so no forced
	  restart of playback on track skip anymore.
	  
	  The only nagging usability issue remaining with the buffer is the
	  inability to seek while playing.
	  Refilling of the buffer effects in fast-forward only.

2007-12-08 01:11  thor

	* src/libmpg123/stringbuf.c: remove a debugging line

2007-12-07 23:02  thor

	* src/output/portaudio.c: A typo broke portaudio18 for me... the
	  undefined function was just a little compiler warning; dynamic
	  modules are a bit ignorant there.
	  V18 works now (again), v19 is bitching on my box, but I have a
	  report that it works for someone else.

2007-12-07 04:18  thor

	* TODO_1.1: differe todo, now more on term.c with buffer

2007-12-07 03:43  thor

	* src/output/portaudio.c: More compatibility hacking is needed for
	  portaudio19... there are some differing definitions.
	  The detection in configure works, the conditional compilation,
	  too -- but only portaudio v19 itself gives me the creeps.
	  v18 works normally, v19 just wants to block or segfault on my
	  box.
	  The segfaul is _inside_ portaudio:-/

2007-12-07 02:57  thor

	* src/audio.c, src/audio.h, src/buffer.c, src/mpg123.c,
	  src/xfermem.h: Some audio handling rework, mainly to clean up the
	  mess with the buffer.
	  The initial reason was to install safeguards against multiple
	  ao->close() operations, which was done, too.
	  Now either the buffer or the main mpg123 process touch the audio
	  devices; in the buffered case the main program querying the
	  buffer process for audio capabilities.
	  That and some other potential bug(s) fixed.
	  
	  This is too much movement in a release candidate, but it is
	  necessary - we want some quality for 1.0!

2007-12-07 02:53  thor

	* src/id3print.c: Do the check for NULL source string earlier; it
	  is not that serious since mpg123_copy_string checks for that,
	  though.

2007-12-07 02:48  thor

	* src/libmpg123/id3.c: More safety for ID3 links: null them on
	  every id3_link run (do not rely on a new track being loaded).

2007-12-07 02:43  thor

	* src/libmpg123/id3.c, src/libmpg123/stringbuf.c: ID3
	  initialization was missing comment = NULL ... that could have
	  nasty consequences, an invalid pointer being presented if a new
	  track didn't overwrite it.

2007-12-07 02:15  thor

	* README: Some lines about the beginning.

2007-12-06 22:22  thor

	* src/audio.c: There was an initial mpg123_replace buffer there.
	  Not good.

2007-12-06 22:07  thor

	* TODO_1.1, configure.ac, man1/mpg123.1, src/mpg123.c,
	  src/mpg123app.h, src/output/portaudio.c: accidential group commit
	  of half-baken stuff...
	  - fragments of --delay
	  - portaudio v18 and v19 handling
	  - thinking about safeguarding audio output close (portaudio
	  segfauls when close is done twice)
	  - TODO for 1.1: buffer+audio rework

2007-12-06 21:53  thor

	* src/audio.c: remove unused defines

2007-12-05 01:27  thor

	* configure.ac, src/output/Makefile.am, src/output/esd.c,
	  src/output/esound.c: Renamed esound.c to esd.c again, as that's
	  the name it is referred to in places and also to keep the old
	  --with-audio=esd (everyone calls it ESD, perhaps only ESD people
	  themselves say ESounD...).
	  Also, to keep all audio output code in the distribution and to
	  ease testing/fixing, I added 6 unsupported output module configs
	  to configure.ac / Makefile.am.
	  Of course, that part of configure/build is not tested...

2007-12-04 22:33  thor

	* xmms2-plugin/mpg123/mpg123.c: Update the XMMS2 plugin for the
	  mpg123_rates change.

2007-12-04 22:31  thor

	* INSTALL, NEWS, README: Trying to update the docs a bit.

2007-12-04 21:37  thor

	* NEWS: got old news from 0.68

2007-12-04 21:37  thor

	* src/audio.c: stray debugging line

2007-12-04 16:01  thor

	* autogen.sh, configure.ac, src/audio.c, src/libmpg123/format.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/mpg123lib_intern.h,
	  src/mpg123app.h: Worked on the win32 crash... found out that the
	  access to the exported (?!) array mpg123_rates[] and/or
	  mpg123_encodings[] blows with the DLL.
	  Exporting functions to access the arrays instead seems to work;
	  and is generally the better way, perhaps.
	  So there is an API change from mpg123_rates[] to
	  mpg123_rates(const long **, size_t *) and likewise for
	  mpg123_encodings.
	  Along with the win32 hacking I actually enabled the EXPORT define
	  stuff, but this made no difference anyway (I guess libtool just
	  uses libmpg123.sym and that's it).
	  
	  Another issue, interwoven but unrelated (sorry...) is the hacking
	  of autotool stuff to omit C++, F77 compiler tests that libtool
	  macros trigger.
	  A future version of libtool shall be fixed and won't need these
	  hacks.

2007-12-04 10:54  thor

	* src/output/win32.c: That lay around for a while: proper returning
	  out of win32 write function.

2007-12-04 10:54  thor

	* src/mpg123app.h: Be more friendly to win32: unistd.h can be
	  there; use the check for signal.h

2007-12-04 10:53  thor

	* configure.ac: prepare for rc1 ... though still win32 trouble
	  there

2007-12-04 10:53  thor

	* src/playlist.c: move this index variable inside the block it is
	  needed in (was a compile warning on win32)

2007-12-03 14:38  thor

	* src/id3print.c: Oh, my. I didn't test in non-UTF shell ... now
	  the utf8ascii in
	  id3print.c copies with NULL source.
	  Perhaps I should really just let these pointers point to an empty
	  string when there is no info?
	  Even if there is an empty string, the fill should be >0 because
	  of the
	  closing zero.
	  So a string with p[0] = 0, size=1 and fill=0 could be a safe
	  alternative
	  to NULL...

2007-12-02 21:37  thor

	* src/libmpg123/id3.c: Just choose the last comment if no generic
	  comment is there.

2007-12-02 20:24  thor

	* xmms2-plugin/mpg123/mpg123.c: Fix the xmms2 plugin for changed
	  ID3v2 API.

2007-12-02 15:35  thor

	* ., doc, src/libmpg123, test: more ignores

2007-12-02 15:29  thor

	* doc/examples: ignore binaries

2007-12-02 15:29  thor

	* m4: removed that empty m4/

2007-12-02 15:28  thor

	* Makefile.am, autogen.sh, configure.ac, m4/ac_c_const.m4: OK,
	  tackled this differently.
	  Hacking of -Wno-error into CFLAGS doesn't really work (not
	  properly, at least)... and also the exiting working with CFLAGS
	  that influence the foolowing tests in configure was not good.
	  Now we are a bit more careful with the mods (also redirecting
	  -DSTUFF to CPPFLAGS instead of CFLAGS) and there is a blocker
	  check at beginning.
	  configure will just fail when there is -Werror in the flags,
	  because it is really bad with several tests.
	  Note that this also implies that make distcheck will always fail
	  in this controlled way when run after a configure that generated
	  CFLAGS with -Werror.
	  These generated CFLAGS are carried over to the configure run in
	  the distcheck dir... dunno if and how one could change that.

2007-12-02 13:17  thor

	* Makefile.am, autogen.sh, m4, m4/ac_c_const.m4: For now including
	  a private copy of AC_C_CONST that works with -Wall -Werror
	  -pedantic ... I don't know if I break the test for some obscure
	  compiler, but for now it's only the jack module that really
	  depends on this test to work - and that won't be used on old and
	  obscure systems.

2007-12-02 01:09  thor

	* doc/Makefile.am: adding some distfiles

2007-12-02 00:52  thor

	* src/libmpg123/libmpg123.c: Code conformity: There was a
	  declaration in code.

2007-12-02 00:52  thor

	* configure.ac: Separate --enable-debug from the developer CFLAGS
	  (-Wall -Werror -pedantic).
	  Some user should be able to get debugging stuff without being
	  bothered with our ISO C conformity or whatnot.
	  The full set of complaints and failues is available via
	  --enable-nagging .

2007-12-02 00:41  thor

	* src/libmpg123/id3.c: remove that debugging line

2007-12-02 00:17  thor

	* src/libmpg123/id3.c: Oops! Now the ID3v2.2 hack is complete with
	  the 3-bytes-to-long macro actually taking only 3 bytes.

2007-12-02 00:15  thor

	* src/libmpg123/id3.c: Hacked ID3v2.2 support... mapping text
	  frames to ID3v2.3 .
	  The old RVA frame is not supported (it's a bit ill-defined,
	  anyway, beginning with "What do the values mean?").
	  Important: This is not tested as I am unable to get my hands on a
	  v2.2 tagged file atm...
	  I have once encountered one on someone else's Mac where iTunes
	  created such cruft.

2007-12-02 00:12  thor

	* src/libmpg123/mpg123.h.in: Note about ID3v1.1 .

2007-12-02 00:02  thor

	* doc/examples/id3dump.c: Do not leave the data fields modified
	  after print_lines - that screwed raw tag display.

2007-12-01 22:19  thor

	* doc/examples/id3dump.c: last clean up for today.

2007-12-01 22:17  thor

	* doc/examples/id3dump.c: Oh, man... surprising how many errors you
	  can make in such a simple program.
	  While cleaning up, I found the innocent lang[3] = 0 on a variable
	  defined as char lang[3] ... just now made the program segfault.
	  Coders, you have to keep your eyes open!

2007-12-01 22:02  thor

	* doc/examples/id3dump.c: Baah! That loop was even with the wrong
	  limit! Will vanish now anyway.

2007-12-01 22:02  thor

	* doc/examples/id3dump.c: remove leftovers

2007-12-01 22:01  thor

	* doc/examples/id3dump.c: Simplify v1 printing... that looping was
	  too clever - and didn't save code lines!

2007-12-01 21:42  thor

	* doc/examples/id3dump.c, src/id3print.c, src/libmpg123/id3.c,
	  src/libmpg123/id3.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/libmpg123/stringbuf.c: Some things
	  relating to ID3v2 handling:
	  - the named entries for artist, album, etc in struct mpg123_id3v2
	  are now pointers...
	  - ... into the new arrays of ID3v2 text, comment and extra (TXXX)
	  data
	  - That makes a lot more info directly accessible; which id3dump
	  now does access
	  - adapted id3print.c to the pointer thing (by dropping some & ;-)
	  - mpg123_copy_string() now produces an empty string (_not_ "")
	  when copying from NULL
	  
	  id3.c got a bit of structure, but the main parsing function is
	  still to bloated.
	  In general, I hope this change of ID3v2 handling makes sense.
	  You have more data plus the possibility to easily loop through
	  the entries...

2007-12-01 17:24  thor

	* doc/examples/Makefile, doc/examples/id3dump.c, src/id3print.c,
	  src/libmpg123/id3.c, src/libmpg123/mpg123.h.in,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/stringbuf.c: Made
	  ID3 code store all comments in a list (API change in mpg123_id3v2
	  struct!) and while doing that seen what I did wrong last time: I
	  ignored the encoding of the description field.

2007-12-01 14:08  thor

	* src/libmpg123/format.c, src/libmpg123/libmpg123.c:
	  mpg123_format() now also intiializes the track if necessary.
	  Waiting for MPG123_NEW_FORMAT to happen on read can be lame when
	  you really want to know it in advance.

2007-12-01 13:30  thor

	* doc/examples/mpg123_to_wav.c: move that comment into cleanup
	  itself

2007-12-01 13:27  thor

	* doc/examples/mpg123_to_wav.c: mpg123_to_wav with some more care.

2007-11-30 23:51  thor

	* doc/doxy_examples.c, doc/doxygen.conf: id3dump.c example file was
	  missing...

2007-11-30 23:20  thor

	* doc/doxy_examples.c, doc/doxygen.conf, doc/examples/mpglib.c:
	  Include the examples in API doc.

2007-11-30 22:09  thor

	* src/libmpg123/mpg123.h.in: a bit better english

2007-11-30 22:08  thor

	* src/libmpg123/mpg123.h.in: a list for the SEEK_*

2007-11-30 22:05  thor

	* configure.ac: 1.0rc0 now ... shall be 1.0rc1 soon.

2007-11-30 22:04  thor

	* doc/html, doc/man: Know these dirs, ignore their contents.

2007-11-30 22:04  thor

	* TODO_1.0: A lot less here:
	  - buffer crash fixed
	  - jump bug fixed
	  - make distcheck worked!

2007-11-30 22:03  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/parse.c: Fix the broken
	  first jump in remote control: mpg123_timeframe() needs to
	  initialize the track for returning something non zero.

2007-11-30 22:00  thor

	* src/libmpg123/mpg123.h.in: More functions possibly return message
	  codes...

2007-11-30 21:59  thor

	* src/mpg123.c, src/xfermem.c, src/xfermem.h: Fix the buffer crash:
	  replacing the libmpg123 buffer is no good idea when libmpg123 has
	  no idea of it being a ring buffer!
	  Now we decode normally and copy the data from mpg123 to the
	  buffer in a more appropriate manner.

2007-11-30 08:51  thor

	* src/libmpg123/mpg123.h.in: make the /todos TODOs again... should
	  vanish on release

2007-11-30 02:38  thor

	* doc/doxygen.conf, doc/doxyhead.xhtml: Fitted the doxygen stuff
	  into the website; a hacked doxygen.css does the trick.

2007-11-30 02:01  thor

	* doc/doxygen.conf: we want SSI

2007-11-30 01:59  thor

	* src/libmpg123/mpg123.h.in: that todo is official...

2007-11-30 01:58  thor

	* doc/doxygen.conf, doc/doxyhead.xhtml: Use a header to fit into
	  mpg123 website.

2007-11-30 01:48  thor

	* src/libmpg123/mpg123.h.in: just a dot

2007-11-30 01:48  thor

	* src/libmpg123/mpg123.h.in: a space line less

2007-11-30 01:46  thor

	* src/libmpg123/mpg123.h.in: a space line less

2007-11-30 01:44  thor

	* src/libmpg123/mpg123.h.in: fix the low level group

2007-11-30 01:39  thor

	* doc/doxygen.conf: Create more man ... perhaps now one can think
	  about installing all pages that start with mpg123_ (or MPG123_
	  for the constants, even?).

2007-11-30 01:21  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: A good deal
	  of changes of mpg123.h documentation; functional change is
	  integration of status messages with error codes (also in
	  mpg123_strerror()).

2007-11-29 09:15  thor

	* Makefile.am: include makedll.sh in distribution

2007-11-28 23:39  thor

	* TODO_1.0: More thought on the Solaris/buffer/? segfault.

2007-11-28 23:29  thor

	* TODO_1.0: I had parallel make run fail and the following single
	  run being OK...

2007-11-28 23:28  thor

	* src/libmpg123/libmpg123.c: mpg123_index shall return MPG123_OK
	  when it's OK.

2007-11-28 23:27  thor

	* makedll.sh: disbale modules for dll build, as they won't do on
	  windows anyway.

2007-11-28 18:57  thor

	* TODO_1.0: more on the segfault on solaris... more likely buffer
	  bug

2007-11-28 18:18  thor

	* TODO_1.0: A bug noted in solaris (presumably a generic bug in
	  random playback),
	  note about make distcheck.

2007-11-28 15:39  thor

	* Makefile.am, configure.ac, doc/Makefile.am: fixing make dist for
	  doc/

2007-11-28 12:11  thor

	* doc/examples/scan.c: Just swapping headers to confirm that
	  stdio.h is not needed for mpg123.h anymore.

2007-11-28 12:10  thor

	* src/libmpg123/mpg123.h.in: We don't need stdio.h anymore (the
	  print function is gone).

2007-11-28 12:08  thor

	* src/libmpg123/frame.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/libmpg123.sym, src/libmpg123/mpg123.h.in,
	  src/term.c: Fix the index stuff... libmpg123 API now contains
	  mpg123_index instead of mpg123_print_index and mpg123 does the
	  printing itself.

2007-11-28 11:16  thor

	* src/libmpg123/mpg123.h.in: We have RVA and volume handling,
	  remove these TODO lines, though adding a remark about preamp
	  (easy to do).

2007-11-28 11:14  thor

	* TODO_1.0: We need to get the buffer audio handling straight some
	  time ... dunno if that's for 1.0 .

2007-11-28 11:12  thor

	* TODO_1.0: Updated that - less TODO overall, but control_generic.c
	  needs a look.

2007-11-28 11:07  thor

	* src/libmpg123/mpg123.h.in: comment cosmetics

2007-11-28 11:06  thor

	* src/libmpg123/mpg123.h.in: MPG123_ENC_ANY doesn't need itself for
	  the definition.

2007-11-28 11:02  thor

	* src/libmpg123/mpg123.h.in: more precise comments for
	  mpg123_init() and mpg123_exit()

2007-11-28 10:52  thor

	* src/control_generic.c, src/mpg123.c: Make remote control work
	  again; there was stray audio handling code still there.

2007-11-28 10:42  thor

	* src/libmpg123/frame.h, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/parse.c: Enable
	  the build without GAPLESS again.

2007-11-28 10:10  thor

	* man1/mpg123.1, src/libmpg123/frame.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in, src/mpg123.c: - enable gapless mode
	  per default in library
	  - add parameter operation to remove flags
	  - mpg123 --no-gapless is now needed to get non-gapless decoding
	  (the good thing is the default now;-)
	  - removed references to GAPLESS macro in mpg123 application

2007-11-28 10:09  thor

	* doc/examples/id3dump.c, doc/examples/mpglib.c,
	  doc/examples/scan.c: more usage info

2007-11-28 10:06  thor

	* doc/examples/scan.c: usage for scan

2007-11-28 09:35  thor

	* doc/examples/Makefile, doc/examples/id3dump.c,
	  doc/examples/mpglib.c, doc/examples/scan.c, src/Makefile.am,
	  src/id3dump.c, src/mpglib.c, src/scan.c: Move example programs
	  from src/ to doc/examples/ .

2007-11-28 09:35  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h.in: Fix build
	  with latest changes to mpg123.h.

2007-11-28 09:34  thor

	* doc/examples/mpg123_to_wav.c: get a newline at the end.

2007-11-28 08:41  thor

	* src/scan.c: Add a note about error checking, fix description and
	  include stdio.h .

2007-11-28 08:35  thor

	* src/id3dump.c: The little tool to dump ID3 tag information of
	  files. Was used in testing, may be useful in general - at least
	  shall serve as example.

2007-11-28 00:06  njh

	* src/libmpg123/mpg123.h.in: Seperated functions out into different
	  named groups/sections/modules

2007-11-28 00:05  njh

	* doc/doxygen.conf: Don't include the full paths of files

2007-11-27 08:59  thor

	* src/libmpg123/icy.c, src/libmpg123/icy.h,
	  src/libmpg123/readers.c, src/libmpg123/stringbuf.c: Omit some
	  redundant and unconditional header includes.

2007-11-27 08:58  thor

	* src/libmpg123/mpg123lib_intern.h: Don't need to include that
	  header here anymore.

2007-11-27 08:57  thor

	* src/libmpg123/mpg123.h.in: Some small comment changes, notably
	  correcting the description of the rate parameter in the format
	  functions.

2007-11-27 00:07  njh

	* doc/examples/Makefile, doc/examples/mpg123_to_wav.c: My very poor
	  first attempt at a mp3 to wav converter (but it works!).
	  Needs a lot of error handling added.

2007-11-26 01:35  njh

	* doc/doxygen.conf, doc/examples, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h.in: Documented lots more of the libmpg123
	  API using Doxygen

2007-11-25 13:01  thor

	* src/libmpg123/system.c: Add a note about the outdatedness of
	  system.c .

2007-11-25 00:53  njh

	* configure.ac, src/libmpg123/Makefile.am, src/libmpg123/mpg123.h,
	  src/libmpg123/mpg123.h.in: A custom mpg123.h is now generated by
	  configure.
	  It will only #include the system headers available on the current
	  system.

2007-11-24 03:59  thor

	* src/id3print.c, src/id3print.h, src/libmpg123/compat.c,
	  src/libmpg123/compat.h, src/libmpg123/dnoise.c,
	  src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/frame.h, src/libmpg123/getcpuflags.h,
	  src/libmpg123/icy.c, src/libmpg123/id3.c, src/libmpg123/id3.h,
	  src/libmpg123/mangle.h, src/libmpg123/mpg123.h,
	  src/libmpg123/mpg123lib_intern.h, src/libmpg123/parse.h,
	  src/libmpg123/reader.h, src/libmpg123/testcpu.c,
	  src/libmpg123/true.h, src/mpglib.c, src/scan.c: A bunch of
	  cosmetics, mostly license plate.

2007-11-24 03:58  thor

	* src/Makefile.am: Another dangerous hack to pretend revursive make
	  handling dependencies correctly for libmpg123/ ...

2007-11-24 03:38  thor

	* src/libmpg123/Makefile.am: Make testcpu compile again.

2007-11-23 21:07  thor

	* Makefile.am, src/libmpg123/mpg123.h: doc/ has nothing to build
	  for now and some space less in mpg123.h

2007-11-23 21:06  thor

	* src/output/Makefile.am: Prevent empty lib/mpg123 on installation
	  when modules were disabled.

2007-11-23 21:05  thor

	* src/Makefile.am: Make the non-module build with shared lib
	  work... hacking the generation of the output object file as
	  recursive make call into the src/Makefile.am since the build
	  system would try to build the dependency on the output object
	  from src/, which doesn't work.

2007-11-23 21:03  thor

	* configure.ac: Make it possible to --disable-modules but still
	  retain the shared libmpg123 (disabled modules don't imply
	  disabled shared lib anymore).

2007-11-23 21:02  thor

	* src/libmpg123/id3.c: Fix a crash with zero-sized text frames
	  (duh!) after ravenexp gave the hint.
	  Also, make reading of a test tag from ravenexp work... the BOM of
	  a UTF16 comment was preceeded by a null byte (triggering the
	  crash, actually).

2007-11-22 07:27  thor

	* src/audio.c, src/libmpg123/format.c, src/libmpg123/mpg123.h: API
	  cleanup: format functions always take plain rates and encodings,
	  not mpg123 indices.

2007-11-22 00:43  thor

	* src/output/win32.c: A new version of the win32 output, this time
	  allowing arbitrary writes.
	  Gives sound.

2007-11-22 00:43  njh

	* Makefile.am, doc/Makefile.am, doc/doxygen.conf, doc/html,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h: Started
	  working on Doxygen documentation

2007-11-21 01:20  njh

	* Makefile.am, configure.ac, libmpg123.pc.in: Added pkg-config
	  file, to help other tools use libmpg123 easily

2007-11-21 01:00  njh

	* src/libmpg123/libmpg123.c: Fix for warning on Linux PPC/gcc 4.1.2

2007-11-21 00:11  njh

	* src/libmpg123/decode_altivec.c, src/libmpg123/optimize.h: Updated
	  Altivec decoder to use new style, based on decoder.c

2007-11-20 23:09  njh

	* src/common.c, src/control_generic.c, src/libmpg123/frame.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/parse.c,
	  src/libmpg123/readers.c, src/mpg123.c: Added casts to various
	  printf to make it compile on Darwin

2007-11-20 21:56  thor

	* src/output/win32.c: A semicolon was needed.

2007-11-20 20:24  thor

	* scripts/debugdef.pl, src/libmpg123/debug.h: Added ereturn macro
	  for the frequent
	  if(some_error_condition)
	  {
	  error("blablabla");
	  return error;
	  }

2007-11-20 20:23  thor

	* src/output/win32.c: Bug-fixing update from ravenexp; buffer size
	  issues still have to be sorted out...

2007-11-19 09:04  thor

	* test/rms16.c: Now computing the RMS with normalization of the
	  difference to the input amplitude range.
	  The former way of just normalizing to 32768 wasn't that bright an
	  idea, I think.

2007-11-18 02:45  thor

	* src/libmpg123/dct64_vector.c: A general idea of vectorizing
	  dct64... still unsure if I should convert existing SSE to AMD64
	  or do it from scratch.

2007-11-18 02:44  thor

	* src/libmpg123/dct64_sse64.S, src/libmpg123/decode_sse64.S: These
	  were added accidentally on last commit... along with dct64_2.c,
	  but that one may stay for a while...

2007-11-18 02:41  thor

	* autogen.sh, src/libmpg123/dct64_2.c, src/libmpg123/dct64_sse64.S,
	  src/libmpg123/decode_sse64.S, src/output/oss.c: Build tool
	  borkage... resort to hardcoding use of automake-1.9 for
	  LTCCASCOMPILE ... adding note about libtool-1.5.24 being bad in a
	  different way that I don't yet know to handle properly.

2007-11-18 02:26  thor

	* configure.ac, src/module.c, src/mpg123.c, src/mpg123app.h:
	  Reshape the module code a bit; intention was to support loading
	  modules from location relative to mpg123 binary -- to make it
	  work on Windows as it is common there.
	  I doesn't work on Windows, though, and I don't feel able to fix
	  our build system to make it work.
	  The changes _do_ enable relative loading on Linux, provided one
	  hacks the .la files to _not_ contain hardcoded absolute paths.
	  Also, some cleanup happened, so the changes go in, although their
	  use is limited.

2007-11-17 20:40  thor

	* src/libmpg123/frame.c: more alignment

2007-11-17 20:39  thor

	* configure.ac, src/output/win32.c: Refreshed Win32 output;
	  reworked by ravenex.

2007-11-16 07:30  thor

	* src/libmpg123/Makefile.am: We really want LTCCASCOMPILE there,
	  LTCPPASCOMPILE being a strange ill-effect of using automake-1.10!
	  With automake-1.9, LTCCASCOMPILE is the thing.

2007-11-14 07:16  thor

	* src/libmpg123/Makefile.am: Use $(LTCPPASCOMPILE)
	  $(DEFAULT_INCLUDES) for .S -> .lo ... does that help Windows with
	  the not found config.h?

2007-11-14 07:03  thor

	* src/Makefile.am: Add OUTPUT_OBJ to mpg123_DEPENDENCIES ... that
	  at least triggers a relink of mpg123 when the object changed in
	  static linking mode.

2007-11-13 19:25  thor

	* src/mpg123.c: timeout not on WIN32, forgot an #ifndef ...

2007-11-12 21:02  thor

	* src/mpg123.c, src/mpg123app.h: Added --index option; run
	  mpg123_scan() on every track before playback; perhaps that helps
	  the guy with unreliable IDE to precache files as a side effect.

2007-11-10 15:37  thor

	* src/id3print.c, src/mpg123.c, src/mpg123app.h: Re-enable the
	  UTF-8 -> ASCII filtering, but hack a little check in that just
	  prints the UTF-8 strings when $LANG contains "UTF-8".
	  It's not proper but it works for me;-)

2007-11-09 22:51  thor

	* src/Makefile.legacy: Also remove decode_mmxsse from the makefile.

2007-11-09 22:50  thor

	* src/libmpg123/decode_mmxsse.S: That one is dead.

2007-11-09 22:50  thor

	* src/Makefile.legacy: Fix stupid syntax errors in linux-help.

2007-11-09 13:14  thor

	* scripts/exportsym.pl, src/libmpg123/libmpg123.sym: Made a script
	  for filtering out the EXPORTed symbols and ran that instead of
	  caring myself for inclusion of mpg123_fmt and what else I forgot.

2007-11-09 00:37  thor

	* src/libmpg123/libmpg123.c: Thanks again to John Stamp for
	  pointing me at these forgotten NULL checks.

2007-11-09 00:32  thor

	* src/libmpg123/format.c, src/libmpg123/frame.c,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h: The handling
	  of separate parameter objects has been completed for output
	  format settings (mpg123_fmt() and friends added); now also fixing
	  a subtle bug where the defaults for output format would have been
	  at random.
	  mpg123_format_all() and then copying the uninitialized bits from
	  the parameter object did not have the desired effect... better
	  now;-)
	  Thanks go to John Stamp to find this out with last.fm; mpg123
	  itself, setting format support _after_ handle creation, didn't
	  see that.

2007-11-08 15:33  thor

	* src/mpglib.c: update mpglib a bit...

2007-11-08 15:17  thor

	* src/libmpg123/libmpg123.c: Make sure the decoded bytes count is
	  set to zero when mpg123_decode() returns something like
	  MPG123_NEW_FORMAT!

2007-11-08 03:30  thor

	* src/audio.c, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/mpg123.c: - Allow NULL for "choose default decoder" in
	  mpg123_decoder().
	  - Actually disabled need for that in mpg123 through using
	  param.cpu in initial handle setup.
	  The forced rate check had to go in before that (from audio.c) to
	  ensure we get a fallback decoder when needed.

2007-11-08 03:08  thor

	* src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/parse.c: Some feeble steps to support free
	  format... just broken down some barrier; not yet added the
	  framesize parser.

2007-11-08 03:08  thor

	* xmms2-plugin/mpg123/mpg123.c: Also here, use the rate instead of
	  the index.

2007-11-08 03:06  thor

	* src/audio.c, src/libmpg123/format.c, src/libmpg123/mpg123.h:
	  mpg123_format() now just takes the actual _rate_ instead of the
	  rate index. Makes more sense to applications.

2007-11-06 14:18  thor

	* configure.ac, src/playlist.c: use random() instead of rand() when
	  available

2007-11-06 13:55  thor

	* src/playlist.c: Fix the shuffle according to bug 1777621.

2007-11-06 13:09  thor

	* src/mpg123.c: Hack a call to split_dir_file() to clean up the hep
	  properly - valgrind now has nothing to complain about possible
	  memory leaks.
	  That is, it has nothing to complain for mpg123 -s file.mp3 >
	  /dev/null; it has quite some issues with ALSA:-(

2007-11-06 13:01  thor

	* src/libmpg123/frame.c: Initialize the r_read and r_lseek fields
	  to NULL.

2007-11-06 10:46  thor

	* src/libmpg123/frame.c: Clean up the frame init/reset mess a bit,
	  preventing frame_buffers_reset before the buffers have been
	  allocated (d'oh\!). That should take care of bug 1825734.

2007-11-04 21:19  thor

	* src/libmpg123/Makefile.am: Does this INCLUDES help win32?

2007-11-04 21:19  thor

	* src/libmpg123/layer3.c: More () to make pedantic gcc happy.

2007-10-29 16:35  thor

	* src/output/sun.c: No LINEAR8 enconding on solaris... until I hear
	  it working somewhere (wasn't nice to my ears on a Ray).
	  Also, make that format test loop over the entries we actually
	  have, not just 4 always (that point got a regression during
	  output plugin merge, I suppose).

2007-10-29 16:32  thor

	* src/Makefile.legacy: Glitch in solaris Makefile entry ... -fast
	  was joined to $(CFLAGS).

2007-10-29 16:31  thor

	* src/Makefile.am: No depending on -lltdl ... we'd rather need to
	  depend on ../libltdl/libltdl.la, but not when it is already
	  installed...

2007-10-29 16:30  thor

	* src/libmpg123/format.c: Fix the format check - not just any bit,
	  _every_ bit of the format must be in the support mask!

2007-10-28 22:30  thor

	* src/libmpg123/layer3.c: Remove the dead code.

2007-10-28 22:08  thor

	* src/libmpg123/layer3.c: Michael Hipp found the already many
	  year-old fix for the MPEG 2.5 issue of bug 1807964!
	  Actually, this comment in layer3.c seems to have been prophetic:
	  
	  /* check this again for 2.5 and sfreq=8 */
	  
	  Now that block works better. It also works slower, though. Gotta
	  see if I can optimize this if/else tree.

2007-10-28 16:37  thor

	* src/output/sun.c: Put the parameter setting in there again...
	  will it work now on Solaris?

2007-10-27 08:35  thor

	* MakeLegacy.sh, src/Makefile.legacy, src/config.h.legacy: Make
	  legacy build use MAKE variable for the make program to use
	  (default is "make", but you may need MAKE=gmake ./MakeLegacy.sh).
	  Also, adding to the solaris build entry (some defined) and
	  HAVE_SIGNAL_H per default on in config.h.legacy.
	  Not sure if we should put all the system specific defines into
	  Makefile.legacy or in separate config.h files .

2007-10-27 08:29  thor

	* src/output/sun.c: Make sun output compile again - but it does not
	  work yet.

2007-10-27 08:28  thor

	* src/module.c: Portability: stat() for file type instead of using
	  non-standard dirent field.

2007-10-27 08:28  thor

	* src/legacy_module.c: No C++ comments.

2007-10-25 23:52  thor

	* src/common.c: Remove one of these !defined(GENERIC) for a
	  positive header check for signal.h .

2007-10-25 23:40  thor

	* src/mpg123app.h: framenum is off_t

2007-10-25 22:41  thor

	* src/libmpg123/Makefile.am, src/output/esd.c, src/output/esound.c:
	  Yay! Even `make distcheck` succeeds now after making path of
	  libmpg123.sym absolute.

2007-10-25 22:33  thor

	* src: ignore

2007-10-25 22:32  thor

	* src/output: even more ignore

2007-10-25 22:31  thor

	* src/libmpg123: more ignore

2007-10-25 22:31  thor

	* .: ignore

2007-10-25 22:30  thor

	* libltdl: ignore

2007-10-25 22:28  thor

	* src/mpg123.c, src/playlist.c: Re-enable STDIN playback via
	  special filename "-" and fix a file descriptor leak along with
	  that.

2007-10-25 22:10  thor

	* Makefile.am, configure.ac, src/Makefile.am,
	  src/output/Makefile.am: Serious autotool hacking. By now you
	  should be able to get
	  - a standard dynamic build with shared lib and auto-detected
	  modules
	  - a dynamic build with a selected range of modules (--with-audio)
	  - the default audio module you want via --with-default-audio
	  - a one-static-module build with shared lib (--disable-modules)
	  - a one-static-module build with static lib (--disable-modules
	  --disable-shared)
	  - a fully static build (-static in LDFLAGS when running
	  configure)
	  
	  The static-module builds skip the libltdl configure step.
	  This just took some days of headache and yelling at
	  autotools/libtool...

2007-10-24 16:13  thor

	* src/audio.c, src/audio.h, src/buffer.c, src/mpg123.c,
	  src/output/Makefile.am, src/output/alsa.c: Fix an alsa (not just
	  there, I guess) crash by making sure the ao->userptr and ao->fn
	  get cleared after close in close_output.
	  Also removed direct uses of ao->close in mpg123.c and buffer.c .

2007-10-24 16:12  thor

	* src/Makefile.legacy: Honor CPPFLAGS!

2007-10-24 15:33  thor

	* MakeLegacy.sh: Only overwrite config.h when it changed. Makes it
	  possible not to always rebuild everything.

2007-10-22 23:33  thor

	* Makefile.am, TODO_1.0, autogen.sh, src/Makefile.am,
	  src/output/Makefile.am: Ideally, we would support modules on
	  systems without installed libltdl via the included copy... which
	  needed some hacking to actually make it into the dist tarball.
	  this is not really resolved until I saw a working build on some
	  system apart from GNU/Linux (and Nick's MacOSX), where you
	  usually have libltdl.

2007-10-22 21:44  thor

	* makedll.sh: Ease Win32 DLL creation with MinGW32 a bit.

2007-10-22 20:30  thor

	* Makefile.am: distribute the rms16 program

2007-10-22 11:07  thor

	* TODO_1.0: We still got something to do...

2007-10-22 10:56  thor

	* doc/BUGS: Old list of bugs was outdated, BUGS now just points to
	  the tracker.

2007-10-22 10:54  thor

	* test/rms16.c: Less verbose rms16.

2007-10-22 10:14  thor

	* src/libmpg123/libmpg123.c: Make mpg123_decode work with &done ==
	  NULL . Segfault is never good.

2007-10-22 07:46  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/libmpg123.sym,
	  src/libmpg123/mpg123.h, src/libmpg123/reader.h,
	  src/libmpg123/readers.c: Add possibility to replace the read and
	  lseek functions.
	  That is needed to support non-supported methods of opening a
	  file:
	  You open the thing, give some integer to open_fd, your read/lseek
	  get called with that integer (aka. "file descriptor") to perform
	  their task.
	  The downside is, now I actually added callbacks to libmpg123...
	  didn't plan to:-/

2007-10-20 10:07  thor

	* src/libmpg123/tabinit.c, src/libmpg123/tabinit_mmx.S: Move
	  costab_mmxsse[] into assembly to stop MinGW stumbling over
	  ALIGNED(32) (must be a bug limiting at 16).
	  In assembler everything is fine with ALIGN32.

2007-10-18 22:22  thor

	* src/Makefile.am: distributing the legacy_module.c, too

2007-10-18 20:46  thor

	* src/libmpg123/frame.c, src/libmpg123/libmpg123.c,
	  src/libmpg123/mpg123.h: Normalize the encoding macros,
	  MPG123_ENC_8 now working just like MPG123_ENC_16.
	  Normalize return values: int mpg123_read();

2007-10-17 23:55  thor

	* src/Makefile.am, src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/libmpg123.sym,
	  src/libmpg123/mpg123.h, src/scan.c: Support for getting
	  (estimated) track length and for scanning through file to get
	  accurate length.
	  A proper LAME tag contains proper info, but you never know...

2007-10-17 23:45  thor

	* src/libmpg123/reader.h, src/libmpg123/readers.c: A safety reader
	  that just bounces back requests ... it is better than segfaulting
	  on call of NULL functions.

2007-10-17 23:17  thor

	* src/libmpg123/Makefile.am: it depends on libmpg132.sym

2007-10-16 22:14  thor

	* src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h,
	  src/libmpg123/readers.c: Fix strerror list (a comma was missing),
	  add an error for file access problem.

2007-10-16 21:49  thor

	* src/libmpg123/frame.c: No timeout on win32...

2007-10-16 20:49  thor

	* src/mpg123.c: Hacking the frame header info not messing with
	  verbose terminal display anymore, via a track freshness:
	  - ensures that the progress line is printed _after_ play_frame()
	  got first real data
	  - ensures that play_frame() does not repeat the header info when
	  the track is rewound

2007-10-16 20:23  thor

	* src/Makefile.legacy: ensure use of CPPFLAGS

2007-10-16 20:18  thor

	* src/mpg123.c, src/term.c, src/term.h: Fix term.c to work with the
	  opinter ao.
	  Much better now: I can play and seek, change tracks.
	  Seeking indeed sounds better now, without the distortion (the
	  library does some extra work now to ensure that).

2007-10-16 20:02  thor

	* src/mpg123.c: Always enable the --test-cpu and --list-cpu
	  switches m even if there is only one decoder.

2007-10-16 19:56  thor

	* src/httpget.c: Give non-http enabled builds the debunk_mime
	  function; that spares us cluttering playlist.c with #ifdefs.

2007-10-16 19:56  thor

	* src/Makefile.legacy, src/legacy_module.c: A bit of legacy
	  building.

2007-10-16 17:33  thor

	* src/output/alib.c: Include lib headers via <>, not ""; makes the
	  gcc dep generator work for legacy makefile.

2007-10-16 03:33  thor

	* src/term.c: Wodnering about the segfault when changing to next
	  track on terminal... for sure something simple... a next day.

2007-10-16 03:23  thor

	* src/output/Makefile.am: Help VPATH?

2007-10-16 02:50  thor

	* src/libmpg123/Makefile.am: re-include DK's VPATH fix for the asm
	  build rule... which still doesn't help the basic borkedness with
	  make distcheck.
	  -I../../src doesn't seem to help finding the most basic headers!

2007-10-16 02:45  thor

	* src/libmpg123/format.c, src/libmpg123/frame.c, src/mpg123.c: The
	  frame reset was missing crucial bits.
	  Now mpg123 fails gracefully when wanting to play stuff when no
	  audio interface is avalable.

2007-10-16 02:39  thor

	* src/Makefile.am, src/audio.c, src/audio.h, src/httpget.c,
	  src/libmpg123/Makefile.am, src/libmpg123/compat.c,
	  src/libmpg123/frame.c, src/libmpg123/frame.h,
	  src/libmpg123/libmpg123.c, src/libmpg123/mpg123.h,
	  src/libmpg123/reader.h, src/libmpg123/readers.c,
	  src/libmpg123/stringbuf.c, src/libmpg123/tabinit.c, src/mpg123.c,
	  src/output/Makefile.am, src/wav.c: A state of source that builds.
	  I am testing...

2007-10-16 02:19  thor

	* src/httpget.h: Header protection macro had a typo...

2007-10-16 02:14  thor

	* src/control_generic.c: Resolving a leftover conflict.

2007-10-16 01:32  thor

	* configure.ac, src/Makefile.am: First attempt to make it build
	  again.

2007-10-16 01:22  thor

	* test: Moving the basic test stuff to the main trunk.

2007-10-16 01:21  thor

	* Makefile.am: Also distribute the added doc.

2007-10-16 01:19  thor

	* doc/ACCURACY, doc/libmpg123_speed.txt: Some docs I added in the
	  lib branch.

2007-10-16 01:19  thor

	* xmms2-plugin: Moving the xmms2-plugin to mainline.

2007-10-16 01:11  thor

	* src/libmpg123/compat.c, src/libmpg123/compat.h,
	  src/libmpg123/mpg123lib_intern.h: The outsourced compatibility
	  functions.

2007-10-16 01:10  thor

	* src/mpglib.c: Adding the mpglib-style example program again.

2007-10-16 01:08  thor

	* src/audio.c, src/audio.h, src/output/aix.c, src/output/alib.c,
	  src/output/alsa.c, src/output/alsa05.c, src/output/coreaudio.c,
	  src/output/dummy.c, src/output/esd.c, src/output/hp.c,
	  src/output/jack.c, src/output/libao.c, src/output/mint.c,
	  src/output/nas.c, src/output/os2.c, src/output/oss.c,
	  src/output/portaudio.c, src/output/pulse.c, src/output/sdl.c,
	  src/output/sgi.c, src/output/sun.c, src/output/win32.c: An
	  attempt to mass-convert the output stuff with respect to audio
	  encoding constants and the changed main header.

2007-10-16 01:04  thor

	* src/common.c, src/common.h: One last mentioning of struct frame
	  was there...

2007-10-16 00:59  thor

	* src/genre.c, src/genre.h: The genres better organized.

2007-10-16 00:59  thor

	* src/layer3.h: *poof*

2007-10-16 00:52  thor

	* src/audio.c, src/audio.h, src/buffer.c, src/common.c,
	  src/common.h, src/control_generic.c, src/dct36_3dnow.S,
	  src/dct36_3dnowext.S, src/dct64.c, src/dct64_3dnow.S,
	  src/dct64_3dnowext.S, src/dct64_altivec.c, src/dct64_i386.c,
	  src/dct64_i486.c, src/dct64_mmx.S, src/dct64_sse.S, src/debug.h,
	  src/decode.c, src/decode.h, src/decode_2to1.c,
	  src/decode_3dnow.S, src/decode_4to1.c, src/decode_altivec.c,
	  src/decode_i386.c, src/decode_i486.c, src/decode_i586.S,
	  src/decode_i586_dither.S, src/decode_mmx.S, src/decode_mmxsse.S,
	  src/decode_ntom.c, src/dnoise.c, src/equalizer.c,
	  src/equalizer_3dnow.S, src/getbits.c, src/getbits.h,
	  src/getcpuflags.S, src/getcpuflags.h, src/httpget.c,
	  src/httpget.h, src/huffman.h, src/icy.c, src/icy.h, src/id3.c,
	  src/id3.h, src/id3print.c, src/id3print.h, src/l2tables.h,
	  src/layer1.c, src/layer2.c, src/layer3.c,
	  src/libmpg123/dct64_altivec.c, src/libmpg123/decode_altivec.c,
	  src/libmpg123/layer1.c, src/libmpg123/layer2.c,
	  src/libmpg123/layer3.c, src/libmpg123/mpg123lib_intern.h,
	  src/libmpg123/optimize.h, src/libmpg123/parse.c,
	  src/libmpg123/reader.h, src/libmpg123/readers.c,
	  src/libmpg123/tabinit.c, src/mangle.h, src/module.c,
	  src/mpg123.c, src/mpg123.h, src/mpg123app.h, src/optimize.c,
	  src/optimize.h, src/playlist.c, src/playlist.h, src/readers.c,
	  src/stringbuf.c, src/stringbuf.h, src/system.c, src/tabinit.c,
	  src/tabinit_mmx.S, src/term.c, src/term.h, src/testcpu.c,
	  src/wav.c, src/xfermem.c, src/xfermem.h: One big step of the
	  messy part of libmpg123 merge.
	  The hard code mixes should be done, easy code mixes to follow...
	  then the fun with the build system.

2007-10-16 00:13  thor

	* src/libmpg123/system.c: Just language.

2007-10-14 22:32  thor

	* src/libmpg123: Moving in the library source from the mpg123lib
	  branch.

2007-09-19 14:34  njh

	* src/output/aix.c, src/output/alib.c, src/output/alsa05.c,
	  src/output/coreaudio.c, src/output/dummy.c, src/output/hp.c,
	  src/output/jack.c, src/output/libao.c, src/output/mint.c,
	  src/output/nas.c, src/output/os2.c, src/output/oss.c,
	  src/output/portaudio.c, src/output/sdl.c, src/output/sgi.c,
	  src/output/sun.c, src/output/win32.c: Cleaned up output modules
	  some more:
	  - All modules now contain module init code
	  - Removed fprintf and replaced with debug/warning/error macros
	  - Converted spaces to tabs

2007-09-18 13:31  njh

	* src/output/portaudio.c, src/output/sdl.c: Moved global variables
	  to ao->userptr.
	  Now shuts down libraries properly when module is de-initialised.

2007-09-18 13:29  njh

	* src/sfifo.c: Fix to prevent double-free.

2007-09-18 12:37  thor

	* src/audio.c: -v -v now also prints the audio driver name.

2007-09-18 12:36  thor

	* src/output/nas.c: Add a cast in debugging line to make pedantic
	  gcc happy.

2007-09-15 23:36  thor

	* src/audio.c, src/audio.h, src/output/aix.c, src/output/hp.c,
	  src/output/sun.c: When we start defining some module API, it is a
	  bad idea to rely on the mpg123-global param struct.
	  So, I pushed the output flags back into a proper data field in
	  the audio output struct and give a copy of param.output_flags to
	  it when opening an output.
	  In the same place, I apply param.output_device to ao->device ...
	  it looks to me as it was intended that way to make -o
	  module:device really work.
	  

2007-09-15 23:24  thor

	* src/audio.h, src/mpg123.c, src/mpg123.h, src/output/aix.c,
	  src/output/hp.c, src/output/sun.c: Integrate legacy -o h -o l -o
	  s with new-style -o module[:device] .
	  When there is a one-letter argument, the legacy flag is set -
	  else, it is a module spec.
	  This implies a minimum length of a module name: 2 characters. I
	  think that shall be no problem for any sane module name.
	  Along with the option processing change, the output flag was put
	  into the parameter struct, as it has to be set _before_ the audio
	  structure is allocated.

2007-09-13 12:45  njh

	* src/audio.c, src/audio.h, src/common.c, src/control_generic.c,
	  src/layer1.c, src/layer2.c, src/layer3.c, src/mpg123.c,
	  src/mpg123.h: Now closing audio output module properly
	  Moved more relavent code into audio.c

2007-09-11 14:27  njh

	* src/legacy_module.c: Added --list-modules message for legacy
	  build

2007-09-11 14:25  njh

	* src/module.c, src/module.h: Changed all occurrences of
	  http://mpg123.de to http://mpg123.org (for consistency)

2007-09-11 14:12  njh

	* src/mpg123.c: Added back command-line option to choose the output
	  module

2007-09-11 13:43  njh

	* src/module.c: Added API version checking

2007-09-11 13:43  njh

	* src/audio.c, src/module.c, src/output/alsa.c: Fixes to make Linux
	  compile

2007-09-11 13:35  njh

	* src/output/pulse.c: Forgot to import this code from the branch

2007-09-11 09:23  njh

	* autogen.sh, configure.ac: Libtool is required to build modules
	  (and ranlib is obseleted)

2007-09-10 23:37  njh

	* src/legacy_module.c, src/module.c, src/output/sun.c: config.h
	  gets included by mpg123.h these days

2007-09-10 23:23  njh

	* configure.ac, libltdl, src/Makefile.am, src/Makefile.legacy,
	  src/audio.c, src/audio.h, src/audio_aix.c, src/audio_alib.c,
	  src/audio_alsa.c, src/audio_alsa05.c, src/audio_coreaudio.c,
	  src/audio_dummy.c, src/audio_esd.c, src/audio_hp.c,
	  src/audio_jack.c, src/audio_libao.c, src/audio_mint.c,
	  src/audio_nas.c, src/audio_os2.c, src/audio_oss.c,
	  src/audio_portaudio.c, src/audio_sdl.c, src/audio_sgi.c,
	  src/audio_sun.c, src/audio_win32.c, src/buffer.c, src/common.c,
	  src/common.h, src/control_generic.c, src/layer1.c, src/layer2.c,
	  src/layer3.c, src/layer3.h, src/legacy_module.c, src/module.c,
	  src/module.h, src/mpg123.c, src/mpg123.h, src/output,
	  src/output/Makefile.am, src/output/aix.c, src/output/alib.c,
	  src/output/alsa.c, src/output/alsa05.c, src/output/coreaudio.c,
	  src/output/dummy.c, src/output/esd.c, src/output/hp.c,
	  src/output/jack.c, src/output/libao.c, src/output/mint.c,
	  src/output/nas.c, src/output/os2.c, src/output/oss.c,
	  src/output/portaudio.c, src/output/sdl.c, src/output/sgi.c,
	  src/output/sun.c, src/output/win32.c, src/term.c, src/term.h,
	  src/wav.c: Finished hacking in loadable output module support
	  from branch "njh-outputplugin".
	  Legacy support allows statically compiling in a single module.
	  Still needs some work, but a quick test on my MacBook worked :)

2007-08-27 21:33  thor

	* src/Makefile.am, src/httpget.c, src/httpget.h, src/mpg123.c,
	  src/mpg123.h, src/playlist.c, src/readers.c: A reaction to bug
	  1782603; centralizing the MIME stuff in httpget.c and adding some
	  aliases.

2007-08-06 23:23  thor

	* NEWS: Little update to NEWS.

2007-08-06 23:04  thor

	* README, man1/mpg123.1: - --long-help mentioned in README
	  - updated man page for --loop and --timeout

2007-08-06 22:52  thor

	* INSTALL: INSTALL updates inspired by Winston.

2007-08-06 22:38  thor

	* src/system.c: Well, this file is inactive atm., but we still can
	  fix some language.

2007-08-06 22:31  thor

	* src/config.h.legacy: More positive suggestions for integer types
	  in config.h.legacy.

2007-08-06 22:19  thor

	* configure.ac, src/Makefile.am: Combine MMX, SSE, 3DNowExt with
	  fallback decoders and add the _alone cpu builds.

2007-08-06 21:12  thor

	* AUTHORS, doc/THANKS: update contributors and supporters

2007-08-06 20:45  thor

	* AUTHORS: Reorder the maintainer eras in AUTHORS to go into the
	  past when scrolling down the file.

2007-08-03 23:06  thor

	* src/common.c: little header cleanup in common.c

2007-08-03 13:09  thor

	* src/mpg123.h: mpg123.h cleanup, removing old stuff that's not
	  needed.

2007-08-02 19:48  thor

	* configure.ac, src/common.c, src/mpg123.h: Sort out some integer
	  type header stuff... central in mpg123.h .

2007-08-02 16:18  thor

	* src/id3.c: Short is 16 bit, no need for inttypes.h in id3.c .

2007-08-01 15:28  thor

	* src/dct64_altivec.c, src/decode_altivec.c, src/layer1.c,
	  src/layer2.c, src/layer3.c, src/optimize.h, src/tabinit.c:
	  ALIGN(16) -> ALIGNED(16), as there is already such a macro on
	  MacOSX.

2007-08-01 15:03  thor

	* src/dct64_altivec.c, src/decode_altivec.c, src/layer1.c,
	  src/layer2.c, src/layer3.c, src/optimize.h, src/tabinit.c: Change
	  alignment macro name to ALIGN() and applying it everywhere where
	  alignment is needed in C code.
	  That fixes MacOSX build (the aligned() macro messed up left over
	  __attribute__((aligned(16))) ...).

2007-07-28 00:58  thor

	* src/control_generic.c, src/mpg123.c: Let the control interface be
	  at least built and in principle activated under Win32; while it
	  doesn't work because of select() being limited to sockets.

2007-07-28 00:57  thor

	* src/readers.c: Need sys/time.h!

2007-07-28 00:46  thor

	* src/Makefile.legacy: SunOS not having strerror ...?

2007-07-28 00:15  thor

	* src/mpg123.c, src/mpg123.h, src/readers.c: Hide the timeout code
	  (using select()) from Win32 to make that build work again.

2007-07-27 23:35  thor

	* src/Makefile.legacy: -DNO_RT for SunOS

2007-07-27 23:32  thor

	* configure.ac, src/config.h.legacy, src/mpg123.c, src/mpg123.h:
	  Another hint from Winston: be prepared for missing strerror.

2007-07-27 23:23  thor

	* configure.ac: Going to be 0.67 .

2007-07-27 23:22  thor

	* configure.ac, src/Makefile.legacy, src/audio.c, src/audio_aix.c,
	  src/audio_alib.c, src/audio_alsa05.c, src/audio_coreaudio.c,
	  src/audio_hp.c, src/audio_jack.c, src/audio_nas.c,
	  src/audio_oss.c, src/audio_portaudio.c, src/audio_sdl.c,
	  src/audio_sgi.c, src/audio_sun.c, src/audio_win32.c,
	  src/buffer.c, src/common.c, src/common.h, src/config.h.legacy,
	  src/control_generic.c, src/decode.c, src/decode_2to1.c,
	  src/decode_4to1.c, src/decode_altivec.c, src/decode_i386.c,
	  src/decode_i486.c, src/decode_ntom.c, src/httpget.c, src/id3.c,
	  src/layer3.c, src/mpg123.c, src/mpg123.h, src/playlist.c,
	  src/readers.c, src/stringbuf.c, src/system.c, src/tabinit.c,
	  src/term.c, src/wav.c, src/xfermem.c: A commit motivated by SunOS
	  veteran Winston. He gave SunOS 4.1.2 with gcc 2.7.0 a spin.
	  
	  A commit that looks bigger than it is. Most files only got header
	  #includes removed that are handled in mpg123.h .
	  Then there are the corresponding changes in mpg123.h; together
	  with the addition of safe_realloc for ancient systems.
	  The ugly need for snprintf in make_remote_header() has been
	  avoided by changing this one into print_remote_header().
	  The Question of size_t, ssize_t and off_t is handled in configure
	  now; respectively in config.h.legacy .

2007-07-27 22:28  thor

	* NEWS: Preparing NEWS for 0.67 .

2007-07-25 20:05  thor

	* src/Makefile.am: Let 'make clean' clean *.a files, too.

2007-07-12 21:51  thor

	* src/audio.c: Enable flexible rate for stdout decoding, too.

2007-07-12 21:34  thor

	* src/control_generic.c: We can use the external one from mpg123.c,
	  should even, perhaps.

2007-07-01 08:21  thor

	* src/id3.c: Hah! Now UTF8 filtering to ASCII finally works thanks
	  to Mika Tiainen.

2007-06-30 18:47  thor

	* src/common.c: Notes in audio_flush() about it not being relevant
	  for buffered decoding.
	  Strangely, there is this write call for DECODE_BUFFER... I think
	  that should be different...
	  I am not sure about how safe the buffer code is. I don't claim to
	  understand it, though.

2007-06-30 15:44  thor

	* src/common.c: I was one frame off; -k 1 was a no-op since the
	  first frame number was incremented to 1 too soon.
	  Now the fresh frame number is -1 before read_frame and 0 for the
	  first frame after that.
	  The funny part is, that the buggy variant agrees with 0.59r and
	  the corrected has a shift of 1 frame for many mp3 files:
	  0.59r does not recognize the LAME tag and plays a frame of
	  silence instead.
	  So, now it should be correct, albeit differing from old mpg123.

2007-06-28 13:15  thor

	* src/mpg123.c: a ) in help output

2007-06-28 13:07  thor

	* src/mpg123.c, src/mpg123.h, src/playlist.c, src/playlist.h:
	  --loop: Specify loop count for tracks; <0 triggers endless loop;
	  good for persistent internet streaming with unreliable connection
	  and --timeout

2007-06-28 12:07  thor

	* src/mpg123.c, src/mpg123.h, src/readers.c: --timeout <n>:
	  Possibility to end playback on a stream that doesn't give data
	  for <n> seconds.
	  I hope this helps the guy of ROM 106.5FM with the non-static
	  internet connection.

2007-06-12 00:28  thor

	* src/Makefile.am: DK pointed this fix out to not break compiles
	  into separate object dirs: use more flags for cpp on .S files.

2007-06-12 00:25  thor

	* src/mpg123.c: Add a missing Y for the setpriority paranoia.

2007-06-04 23:22  thor

	* ., src: ignore autogenerated stuff

2007-06-04 23:02  thor

	* configure.ac, src/dct64_sse.S, src/layer1.c, src/layer2.c,
	  src/layer3.c, src/mangle.h, src/optimize.h: If
	  __attribute__((aligned(16))) works, replace all left movups with
	  movaps for dct64_sse, following a patch by Zuxy Meng posted to
	  MPlayer list.
	  On my Pentium-M that seems to gain about 1% of performance, while
	  the other opts seem to profit from the alignment, too.

2007-06-04 21:31  thor

	* src/audio.c, src/audio_aix.c, src/audio_alib.c, src/audio_alsa.c,
	  src/audio_alsa05.c, src/audio_coreaudio.c, src/audio_dummy.c,
	  src/audio_esd.c, src/audio_hp.c, src/audio_jack.c,
	  src/audio_libao.c, src/audio_mint.c, src/audio_nas.c,
	  src/audio_os2.c, src/audio_oss.c, src/audio_portaudio.c,
	  src/audio_sdl.c, src/audio_sgi.c, src/audio_sun.c,
	  src/audio_win32.c, src/buffer.c, src/common.c,
	  src/control_generic.c, src/dct64.c, src/dct64_altivec.c,
	  src/dct64_i386.c, src/dct64_i486.c, src/debug.h, src/decode.c,
	  src/decode_2to1.c, src/decode_4to1.c, src/decode_altivec.c,
	  src/decode_i386.c, src/decode_i486.c, src/decode_ntom.c,
	  src/equalizer.c, src/getbits.c, src/httpget.c, src/id3.c,
	  src/layer1.c, src/layer2.c, src/layer3.c, src/mpg123.c,
	  src/mpg123.h, src/optimize.c, src/playlist.c, src/readers.c,
	  src/system.c, src/tabinit.c, src/term.c, src/wav.c,
	  src/xfermem.c: Include config.h and debug.h centrally in
	  mpg132.h, remove redundant includes.

2007-06-04 20:10  thor

	* src/optimize.c: Show decoder options in their priority order.

2007-06-04 20:07  thor

	* man1/mpg123.1: Update the man page date.

2007-06-04 19:53  thor

	* scripts/benchmark-cpu.pl: Modify the script to use the actually
	  supported decoders.

2007-06-04 14:10  njh

	* scripts/benchmark-cpu.pl: Perl script to benchmark each of
	  mpg123's CPU optimisations

2007-06-03 23:41  thor

	* NEWS: news for 0.66

2007-06-03 23:28  thor

	* src/optimize.c, src/optimize.h: complete the forced / flexible
	  rate fallback for 3DNowExt->3DNow

2007-06-03 23:06  thor

	* src/optimize.c: Do the pentium fallback for forced/flexible rate
	  also from 3DNowExt.
	  I guess the root lies in MMX...

2007-06-03 20:57  thor

	* src/config.h.legacy: define some HAVE_*_H to make some legacy
	  builds build again

2007-06-03 20:11  thor

	* README: little README update/fix

2007-06-01 09:54  thor

	* configure.ac, doc/README.remote, src/control_generic.c: Let the
	  remote interface print the greeting string _before_ waiting on
	  the fifo.
	  Also updated documentation for control interface.

2007-06-01 09:34  thor

	* man1/mpg123.1, src/mpg123.c: - set remote_err when putting audio
	  to stdout.
	  - some documentation consistency

2007-06-01 08:07  thor

	* configure.ac: OSF1 is not just a generic system - it's UNIX!

2007-06-01 07:44  thor

	* configure.ac: For now, define NOXFERMEM for -DGENERIC; this has
	  to be resolved with indivitual checks later.

2007-06-01 07:27  thor

	* configure.ac, src/wav.c: Another GENERIC fix: check for
	  get/setuid.

2007-06-01 07:25  thor

	* configure.ac, src/mpg123.c: One fix for generic systems that have
	  setpriority - check for the necessary headers instead of system
	  type.

2007-06-01 06:57  thor

	* configure.ac: Fix configure for non-gcc (with_optimization=0).

2007-06-01 00:32  njh

	* MakeLegacy.sh, Makefile.am, autogen.sh, configure.ac,
	  misc/equalizer-control.pl, src/Makefile.am, src/Makefile.legacy,
	  src/Makefile.win32, src/audio.c, src/audio.h, src/audio_aix.c,
	  src/audio_alib.c, src/audio_alsa.c, src/audio_coreaudio.c,
	  src/audio_dummy.c, src/audio_esd.c, src/audio_hp.c,
	  src/audio_jack.c, src/audio_libao.c, src/audio_mint.c,
	  src/audio_nas.c, src/audio_os2.c, src/audio_oss.c,
	  src/audio_portaudio.c, src/audio_sdl.c, src/audio_sgi.c,
	  src/audio_sun.c, src/audio_win32.c, src/buffer.c, src/buffer.h,
	  src/common.c, src/common.h, src/control_generic.c,
	  src/dct36_3dnow.S, src/dct64.c, src/dct64_3dnow.S,
	  src/dct64_altivec.c, src/dct64_i386.c, src/dct64_i486.c,
	  src/dct64_mmx.S, src/decode.c, src/decode.h, src/decode_2to1.c,
	  src/decode_3dnow.S, src/decode_4to1.c, src/decode_altivec.c,
	  src/decode_i386.c, src/decode_i486.c, src/decode_i586.S,
	  src/decode_mmx.S, src/decode_ntom.c, src/equalizer.c,
	  src/equalizer_3dnow.S, src/genre.h, src/getbits.c, src/getbits.h,
	  src/getcpuflags.S, src/getlopt.c, src/getlopt.h, src/httpget.c,
	  src/huffman.h, src/icy.h, src/l2tables.h, src/layer1.c,
	  src/layer2.c, src/layer3.c, src/layer3.h, src/mpg123.c,
	  src/mpg123.h, src/optimize.c, src/optimize.h, src/playlist.c,
	  src/playlist.h, src/readers.c, src/stringbuf.c, src/stringbuf.h,
	  src/system.c, src/tabinit.c, src/tabinit_mmx.S, src/term.c,
	  src/term.h, src/wav.c, src/xfermem.c, src/xfermem.h: Changed all
	  occurrences of http://mpg123.de to http://mpg123.org (for
	  consistency)

2007-05-31 22:43  thor

	* man1/mpg123.1: Add hint for 'h' in terminal control mode.

2007-05-31 22:21  thor

	* man1/mpg123.1: Add --fifo Option to man page.

2007-05-31 22:08  thor

	* src/wav.c: Make this compile in normal mode with -Werror.

2007-05-31 22:06  thor

	* configure.ac: re-enable -Werror for debugging build

2007-05-31 22:05  thor

	* configure.ac, src/control_generic.c: Use mkfifo instead of mknod,
	  test for it in configure instead of guessing based on operating
	  system.

2007-05-31 21:45  thor

	* configure.ac: x86 apple default to x86

2007-05-31 21:34  thor

	* src/Makefile.am: add the x86_dither lib to EXTRA_LIBS

2007-05-31 21:31  thor

	* src/Makefile.am, src/decode_i586_dither.S, src/dnoise.c: Move the
	  dither noise into a standalone C file. That saves space (,
	  instead of .float for every number) and circumvents a workaround
	  for the .float pseudo-op, which is .single on MacOSX.

2007-05-31 20:09  thor

	* src/optimize.c: Let --test-cpu print the actually available
	  decoders, not just the cpu flags.

2007-05-31 19:58  thor

	* src/optimize.c: Don't claim we have anything with SSE2 or SSE3.

2007-05-31 19:55  thor

	* configure.ac, src/Makefile.am: towards a real separation of x86
	  and x86_dither

2007-05-31 16:45  thor

	* Makefile.am, man1, man1/mpg123.1, mpg123.1, src/mpg123.c: Updated
	  the manpage a bit.

2007-05-31 16:12  thor

	* src/mpg123.c: fix file creation mode for -O

2007-05-31 15:55  thor

	* src/Makefile.am: decode.h shall be distributed.

2007-05-31 15:54  thor

	* configure.ac, src/common.c, src/common.h, src/decode.c,
	  src/decode.h, src/decode_2to1.c, src/decode_4to1.c,
	  src/decode_ntom.c, src/getlopt.c, src/getlopt.h, src/mpg123.c,
	  src/mpg123.h, src/optimize.h, src/tabinit.c, src/wav.c: I
	  couldn't help myself... here is the option for a build using the
	  generic decoder that produces 32bit float output.
	  You select it via --with-cpu=generic_float, which implies dummy
	  output and also disables the buffer.
	  The decoded audio can be written raw or to a IEEE float wav file.
	  
	  This demonstrates that it's doable and not too complicated for
	  the generic code.
	  Next would be to a) make it into a runtime option and b) adapt
	  assembler opts to that.
	  The latter will most likely not happen for every opt.

2007-05-31 11:26  thor

	* configure.ac: split x86 opts into
	  x86: everything except i486 and i586_dither (as it is large)
	  x86_dither: everything except i486 (x86 + 256K)

2007-05-31 11:25  thor

	* src/optimize.c: list 3DNowExt

2007-05-30 17:52  thor

	* configure.ac, src/dct36_3dnowext.S, src/dct64_3dnowext.S,
	  src/dct64_mmx.S, src/dct64_sse.S, src/decode_3dnow.S,
	  src/decode_i586.S, src/decode_i586_dither.S, src/decode_mmxsse.S,
	  src/equalizer_3dnow.S, src/getcpuflags.S, src/mangle.h,
	  src/tabinit_mmx.S: Trying to make assembler stuff work on MacOSX:
	  - test for behaviour of .align (exponent or direct byte value)
	  and macros in mangle.h
	  - replace every align/p2align with ALIGN4, ALIGN8, ALIGN16 or
	  ALIGN32
	  - more BSS

2007-05-30 16:30  thor

	* configure.ac: Add a default cpu target of x86 for i686-* host.

2007-05-30 16:26  thor

	* src/dct64_sse.S, src/decode_3dnow.S, src/decode_i586.S,
	  src/mangle.h: A first attempt to silence the MacOSX assembler.

2007-05-30 16:16  thor

	* src/audio.c: Some debug printf fixes (%li -> %i).

2007-05-29 13:21  thor

	* src/mpg123.c, src/wav.c: Fix wav and raw output under Win32 by
	  explicitly setting the file mode to binary.
	  The distortion was caused by line end bytes being converted.

2007-05-29 13:20  thor

	* configure.ac: Call FIFO suport disabled when it is after auto
	  detection.

2007-05-29 09:00  thor

	* src/audio.c: Hopefully a last variant of the error message.
	  We'll clean up the capabilities code itself later with the output
	  plugins..

2007-05-28 19:30  thor

	* src/audio.c: Yet another variant of error message, without an
	  appended parenthesed part.

2007-05-27 09:12  thor

	* src/audio.c: More explained error message.

2007-05-27 08:56  thor

	* src/audio.c: fix "you forced mono"

2007-05-25 10:06  thor

	* doc/monostereo.txt, src/audio.c, src/mpg123.c, src/mpg123.h: Fix
	  force_mono logic and give meaningful error messages when the
	  audio device doesn't play.

2007-05-25 00:32  thor

	* src/audio_win32.c: 1. Fix (?) the Win32 output. It used to get a
	  deadlock on waveOutWrite when callback wants the critical
	  section.
	  Figured that we actually only need the critical section to keep
	  the block count straight.
	  2. Reformat the code.
	  
	  Still, I don't like the win32 output. It cannot be efficient to
	  allocate/deallocate memory blocks all the time.
	  A fixed set of buffers makes so much sense.
	  Just manage an array of them (do I need so many, even?).

2007-05-24 22:56  thor

	* configure.ac: Detect win32 audio by probing windows.h ... the
	  winmm library check just doesn't work.

2007-05-24 22:55  thor

	* src/mpg123.h: no double declaration of REAL_IS_FLOAT on Win32

2007-05-24 12:57  thor

	* configure.ac, src/audio_sdl.c, src/audio_win32.c: trying to add
	  win32 again

2007-05-24 12:38  thor

	* README: little README update regarding SSE/3DNowExt

2007-05-24 12:14  thor

	* src/decode_mmxsse.S, src/mpg123.c, src/optimize.h: fix single cpu
	  compiles by fixing MPLAYER -> OPT_MPLAYER

2007-05-24 02:37  thor

	* src/Makefile.am, src/dct36_3dnowext.S, src/dct64_3dnowext.S: Fix
	  dependencies and comments for some of the new asms.
	  Now a x86 build "just works".

2007-05-24 02:36  thor

	* src/control_generic.c: Fix a warning about comstr.

2007-05-24 02:06  thor

	* src/Makefile.am, src/dct36_3dnowext.S, src/dct36_3dnowext.c,
	  src/dct64_3dnowext.S, src/dct64_3dnowext.c, src/dct64_sse.S,
	  src/dct64_sse.c, src/decode_mmxsse.S, src/decode_mmxsse.c: Really
	  switch to standalone assembler for SSE and extended 3DNow (some
	  cleanup and mergeing still due) now.
	  Also use CCASFLAGS for assembler files.

2007-05-24 01:49  thor

	* src/dct64_3dnowext.S, src/decode_mmxsse.S: ASM_NAME fixes

2007-05-24 00:17  thor

	* src/dct36_3dnowext.S, src/dct64_3dnowext.S, src/dct64_sse.S,
	  src/decode_i586.S, src/decode_i586_dither.S, src/decode_mmxsse.S,
	  src/mangle.h, src/tabinit_mmx.S: Another step to convert stuff to
	  (kindof portable) external asm.

2007-05-23 22:36  thor

	* configure.ac: How smart am I? Now again the OSS check.

2007-05-23 00:18  thor

	* configure.ac: Now really...

2007-05-22 23:23  thor

	* configure.ac: fix OSS detection, tell what audio systems were
	  detected

2007-05-22 22:55  thor

	* src/decode_mmxsse.S: Turn this into standalone ASM... gonna see
	  what cygwin/mingw say to this.

2007-05-22 21:26  thor

	* src/decode_mmxsse.c: typo in comment

2007-05-17 16:28  thor

	* src/audio_alsa.c: apply fix from Clemens for bug 1691913
	  handling underrun now

2007-05-09 12:49  thor

	* configure.ac, src/control_generic.c, src/mpg123.c, src/mpg123.h:
	  1. FIFO support in control_generic
	  
	  just reading from STDIN and
	  
	  mkfifo /tmp/mpg123_fifo
	  mpg123 -R < /tmp/mpg123_fifo &
	  
	  doesn't make repeated `echo command > /tmp/mpg123_fifo` possible,
	  so a bit of extra code added
	  
	  mpg123 -R --fifo /tmp/mpg123_fifo
	  
	  And you have your mpg123 daemon randomly controlled by the fifo.
	  
	  2. Fixup command parsing for multiple commands in one read()
	  (which usually never happens) ... it was just wrong before.
	  Now it's still not nice code, but works.
	  Also there's no malloc needed anymore, which is good.

2007-05-09 12:19  thor

	* src/audio.c: tell the device dame in verbose mode

2007-05-02 23:02  thor

	* configure.ac, src/Makefile.am: fix the rename to coreaudio for
	  configure/make ... cannot test here, but need make dist to work

2007-05-02 22:52  thor

	* configure.ac: fall back to dummy output properly

2007-05-02 22:48  thor

	* configure.ac, src/Makefile.am, src/audio_portaudio.c,
	  src/buffer.c, src/buffer.h, src/common.c, src/control_generic.c,
	  src/decode_3dnow.S, src/decode_i586.S, src/decode_i586_dither.S,
	  src/mangle.h, src/tabinit_mmx.S, src/term.c, src/wav.c: Hacking
	  MinGW32 into cooperation, in dialog with Elia Blance.
	  This restores some work of Tony Million from ages ago... wrapping
	  buffer code properly into #ifndef NOXFERMEM again (except in
	  term.c, which is a different beast).
	  Hack Makefile for the preprocessed .S files (mingw doesn't run
	  cpp by itself).
	  
	  Got autoconf'ed x86 portaudio/mme build working for *-mingw32;
	  Elia wants SDL ...;-)
	  Also configure now doesn't look at OS for choosing default audio
	  output but at the available output systems instead.
	  Let's keep this hardcoding at a minimum.
	  
	  Sound playback works, control_generic not (no stdin in windows
	  terminal?).
	  Assembler opts work nicely (including --cpu choice).
	  WAV writing has distortion ... twisted endianess?

2007-05-02 12:08  thor

	* src/control_generic.c: wrap buffer code in #ifndef NOXFERMEM

2007-05-01 16:16  thor

	* src/optimize.c, src/optimize.h: Make MMX and SSE fall back to
	  i586 and friends (what's available) when auto-choosing cpu and -r
	  <rate> is given.
	  That's what I can do about bug 1545293 for now.
	  When we have the next release with the x86 combined build, people
	  are able to properly do flexible rate mode even with an
	  MMX-enabled (or SSE) build.
	  On the long term we need
	  a) separating the decoding tables (I guess the special mmx table
	  is interfering here)
	  b) making the opts work with resampling natively

2007-04-20 21:47  thor

	* scripts/debugdef.pl, src/debug.h, src/httpget.c: Fix up the
	  debugging macros; syntactic appearance as functions again (no
	  closing ; in macro itself) (as DK suggested, basically).

2007-04-11 23:43  njh

	* src/audio.c: What was this old ALSA stuff still doing here

2007-04-11 22:29  njh

	* src/audio_coreaudio.c, src/audio_macosx.c: Renamed macosx to
	  coreaudio

2007-04-11 22:29  njh

	* src/audio_jack.c: Fixed C90 problems

2007-04-10 20:59  njh

	* src/Makefile.am: Added rule to build testcpu

2007-03-11 21:54  thor

	* src/optimize.c: don't pollute generic control interface with
	  "decoder: SSE"

2007-03-05 00:09  thor

	* src/decode_mmxsse.c, src/optimize.c: fix debug compile in
	  optimize.c ... noted inevitable failure of debug compile in
	  decode_mmxsse (long long)

2007-03-05 00:06  thor

	* configure.ac: make the all-in-one x86 opt the default guess for
	  i586+ linux/cygwin
	  of course --with-cpu still gives you the smaller binary optimized
	  for one cpu only

2007-03-04 23:46  thor

	* src/Makefile.am: add getcpuflags.h to the distro

2007-03-04 22:07  thor

	* src/Makefile.am, src/dct36_3dnow.S, src/dct64_3dnow.S,
	  src/dct64_mmx.S, src/dct64_mmx.s, src/decode_3dnow.S,
	  src/decode_i586.S, src/decode_i586.s, src/decode_i586_dither.S,
	  src/decode_i586_dither.s, src/decode_mmx.S, src/decode_mmx.s,
	  src/equalizer_3dnow.S, src/getcpuflags.S, src/tabinit_mmx.S,
	  src/tabinit_mmx.s: convert standalone assembler codes to C
	  preprocessed asm, using mangle.h and adding some quirks to make
	  cygwin happy

2007-03-04 22:06  thor

	* src/optimize.c, src/optimize.h: fix the optmize stuff again,
	  optmize.c only for multi, fix mmx standalone with OPT_MMXORSSE
	  instead of MMXORSSE

2007-03-04 22:04  thor

	* src/mpg123.c: common.h is needed for print_stat

2007-03-04 11:58  thor

	* src/mpg123.c, src/optimize.c: cleaning up cpuflags stuff ...
	  really enabling test-cpu for 3dnow

2007-03-04 03:17  thor

	* configure.ac, src/Makefile.am, src/dct36_3dnow.S,
	  src/dct36_3dnow.s, src/dct64_3dnow.S, src/dct64_3dnow.s,
	  src/decode_3dnow.S, src/decode_3dnow.s, src/equalizer_3dnow.S,
	  src/equalizer_3dnow.s: cpp-ified some more asm, fix 3dnow in
	  autoconf

2007-03-04 01:55  thor

	* ., AUTHORS, build, src, src/Makefile.am, src/Makefile.legacy,
	  src/getcpuflags.S, src/getcpuflags.s, src/mangle.h, src/mpg123.c,
	  src/mpg123.h, src/optimize.c, src/optimize.h: - fix optimize.c to
	  compile again, clean up some 3dnow lecacy stuff
	  - getcpuflags asm is now fed through cpp (.S triggers that for
	  gcc ... for other compilers we could trivially force this)
	  - also fix some svn:ignores to lower the noise ...

2007-03-04 01:43  thor

	* src/getcpuflags.s: now using cpp to get name mangling done

2007-03-02 23:34  thor

	* src/getcpuflags.h, src/getcpuflags.s, src/mpg123.c,
	  src/optimize.c, src/testcpu.c: refacor the cpu flag code ... now
	  one asm funtion for all flags
	  adapted the optimize stuff
	  Note: 3dnow has to be fixed again, or at least documented that
	  the current behaviour is to build _only_ 3dnow in.
	  To reproduce previous behaviour one would need to make the 3dnow
	  opt an alias for multi with 3dnow and i586.
	  That would be compatible, but inconsistent.

2007-02-28 09:18  thor

	* src/getcpuflags.s, src/testcpu.c: fix the cpuid asm to be
	  correctly skipped on a cpu that doesn't support it, add a simple
	  standalone cpu flag tester
	  still need to reorganize the split getcpuflags.s functions back
	  into one

2007-02-25 20:55  thor

	* src/mpg123.c: #ifdef some mplayer import specific code in
	  mpg123.c

2007-02-25 16:32  thor

	* README, src/common.c, src/common.h, src/control_generic.c,
	  src/mpg123.h, src/term.c, src/term.h: Adding more control to
	  terminal control: volume, rva and verbosity switch... also added
	  volume and rva info to status display.

2007-02-22 05:09  thor

	* configure.ac, src/Makefile.am, src/dct36_3dnowext.c,
	  src/dct64_3dnowext.c, src/decode_i386.c, src/decode_mmxsse.c,
	  src/mpg123.c, src/optimize.c, src/optimize.h: I cannot stop...
	  hacked 3DNowExt from MPlayer in (check license again...) It
	  builds but I still have to test it on a 3dnowext box.
	  And... these MPlayer imports are not really nicely crafted. One
	  should tidy up.

2007-02-22 03:47  thor

	* src/mpg123.c, src/mpg123.h: mangle the 3dnow and multi test
	  option a bit for staying compatible in the solo 3dnow build

2007-02-22 03:38  thor

	* src/optimize.c: formatting, lowercase features

2007-02-22 03:29  thor

	* src/getcpuflags.s, src/mpg123.c, src/mpg123.h, src/optimize.c,
	  src/optimize.h: more relentless duplication in the cpuflags code
	  to detect all interesting features and cpu family,
	  adding a generic feature set test (instead of only 3dnow test)
	  and tests for auto selection of opts
	  not yet decided to prevent user from setting invalid opt besides
	  for non-pentium class cpus

2007-02-22 02:09  thor

	* src/mangle.h: adding this header for a moment ... it's gpl-only
	  and possibly only temporary until I decided what to do with the
	  SSE stuff

2007-02-22 02:04  thor

	* src/decode_i386.c, src/getcpuflags.s, src/mpg123.c,
	  src/optimize.c, src/optimize.h: fixing i386 code with gcc-4.1 by
	  using the old WRITE_SAMPLE again - the new one has distorted
	  sound and gcc complains about strict aliasing ... the old
	  WRITE_SAMPLE even seems to be faster with gcc-3.4!
	  Of course I didn't (yet) test on my real i386DX40 if there's an
	  advantage.
	  Started mocking with cpuflags to get proper MMX and SSE
	  detection.

2007-02-22 00:54  thor

	* src/optimize.c, src/optimize.h: some fixing for multi mode...
	  need to do cpu detection for real

2007-02-21 23:43  thor

	* configure.ac: debugging mode won't compile the i386 code with
	  strict aliasing rules because of WRITE_SAMPLE, adding
	  -fno-strict-aliasing

2007-02-20 04:00  thor

	* configure.ac, src/Makefile.am, src/decode_i386.c, src/mpg123.c,
	  src/mpg123.h, src/optimize.c, src/optimize.h: a first edition of
	  the merged build ... only serves to produce silence of funny
	  sounds atm. ... dunno why but getting some sleep looks like a
	  valid option

2007-02-20 03:07  thor

	* configure.ac, src/Makefile.am, src/dct64_sse.c,
	  src/decode_i386.c, src/decode_mmxsse.c, src/layer2.c,
	  src/layer3.c, src/optimize.c, src/optimize.h: Adding SSE from
	  MPlayer! Surprised how this worked with some guessing and late
	  night disrespect.
	  This now is again a bit faster than the gcc-4.1 enhanced i386
	  code; and also mpg123 is now again a bit faster than MPlayer at
	  decoding mp3 on an SSE cpu (well, mplayer's bigger architecture
	  has to show somewhere ... perhaps it's even just the faster
	  update of progress display on terminal, which I only redirected
	  to /dev/null in the test).
	  What's missing is the 3DNow!Ext code, that should be adaptible in
	  the same way as the SSE code was, but it may make sense to make
	  that a bit prettier first.
	  Oh ... and downsampling is quite silent. I guess mplayer didn't
	  use that and somehow it does not magically start working for
	  mpg123.
	  I can still switch to another dct function...

2007-02-20 01:43  thor

	* src/Makefile.legacy, src/optimize.c: update the legacy Makefile

2007-02-19 19:15  thor

	* NEWS, configure.ac, src/Makefile.am, src/common.c,
	  src/dct64_altivec.c, src/dct64_i386.c, src/dct64_i486.c,
	  src/dct64_mmx.s, src/decode.c, src/decode_2to1.c,
	  src/decode_4to1.c, src/decode_altivec.c, src/decode_i386.c,
	  src/decode_i486.c, src/decode_i586.s, src/decode_i586_dither.s,
	  src/decode_ntom.c, src/layer2.c, src/layer3.c, src/mpg123.c,
	  src/mpg123.h, src/optimize.c, src/optimize.h, src/tabinit.c,
	  src/tabinit_mmx.s: Starting to hack for 0.66; with the crazy idea
	  to prepare the possibility of a unified build featuring a set of
	  (x86) optimizations to choose from at runtime.
	  I got it now so far that it compiles for the one-opt builds;
	  optmization metalogic stuff shall cluster in/around optimize.[hc]
	  .
	  Some interesting numbers I got on -t with different opts, i386
	  outpacing all others...
	  Oh: As a drive-by I removed the -march settings from the cpu_type
	  opts; that prevented my -march=pentium-m from being effective,
	  which interestingly didn't harm the i386 build, but the i486 one
	  by a great deal.

2007-02-07 09:19  thor

	* NEWS: updating for 0.65

2007-02-07 09:13  thor

	* configure.ac: wrap gcc specific flags into $GCC = yes, first
	  attempt to support SGI systems again (untested)

2007-02-07 09:03  thor

	* src/layer3.c: just a comment about the region1>region2 check,
	  hinting at the possibility that it gives false positives at lame
	  3.70 files - or that these files are just broken

2007-01-31 21:37  thor

	* src/common.c: adding a debug message on crc bit change to clarify
	  that the fix for bug 1629697 also fixes 1648271

2007-01-31 20:54  thor

	* configure.ac: Do not use -Wall per default (it's gcc specific and
	  also why nag the users with the warnings?)

2007-01-22 03:09  thor

	* src/id3.c: fixing bug 1641195 (id3v2.3 does not store synchsafe
	  frame sizes) as well as an error with the msb of synchsafe longs
	  (would have impact with tags >2MiB)

2007-01-22 02:38  thor

	* src/id3.c: id3v2.2 is a different beast, do not try to parse that

2007-01-20 21:06  thor

	* src/common.c, src/common.h: seen the real root of the evil of bug
	  1629697: there is an old lame tag from lame 3.70 that has a
	  header without crc bit but that track has crc.
	  Now allowing the crc bit to vary in stream - it's no big deal...
	  This extends the bugfix to no also correctly parsing the lame
	  tag.

2007-01-20 18:42  thor

	* src/common.c, src/getbits.c: fixing 1629697 (awaiting verify from
	  user): the error protection bit was lost during search for first
	  valid header (an initial bad header set it to 0, now for the
	  valid header search the stuff is rerinitialized)

2007-01-15 20:29  thor

	* configure.ac: incrementing the version number in advance to 0.65
	  to not miss it again like for 0.64

2007-01-15 20:22  thor

	* NEWS: preparing for 0.64

2007-01-15 20:10  thor

	* src/httpget.c: fixing a DOS issue with read errors on HTTP (now
	  failing properly instead of endless loop)

2007-01-14 16:33  thor

	* NEWS, README, configure.ac: preparing for 0.63

2007-01-12 15:05  njh

	* src/id3.c, src/readers.c: Fixes for warning: format '%d' expects
	  type 'int', but argument 5 has type 'size_t'

2006-12-30 00:34  thor

	* doc/BUGS: removed this bug entry because it was no bug but just
	  entering an url on the shell... an url containing & ...
	  it's a bit embarassing;-)

2006-12-30 00:25  thor

	* src/Makefile.legacy, src/config.h.legacy, src/httpget.c,
	  src/xfermem.c: cleanup generic code with dummies for xfermem and
	  http

2006-12-24 05:16  thor

	* AUTHORS, NEWS, README, configure.ac, doc/README.remote, mpg123.1:
	  preparing for 0.62

2006-12-24 04:56  thor

	* src/common.c, src/common.h, src/control_generic.c: JUMP generic
	  command now accepts offset/position in seconds (suffix "s" to
	  number)

2006-12-24 04:24  thor

	* doc/BUGS: this backgrounding is strange... only seen it on smgl
	  yet, but then for any pls-capable mpg123.

2006-12-24 02:29  thor

	* src/Makefile.legacy, src/common.c, src/control_generic.c,
	  src/httpget.c, src/readers.c: first working soutcast/ICY meta
	  data support; we need an unsigned byte and it starts with stream
	  data, not meta data
	  Info output is in normal console output and generic control
	  frontend... terminal control mode following

2006-12-22 02:28  thor

	* scripts/debugdef.pl, src/Makefile.am, src/Makefile.legacy,
	  src/debug.h, src/httpget.c, src/icy.c, src/icy.h, src/mpg123.c,
	  src/readers.c, src/stringbuf.c, src/stringbuf.h: Essential part
	  of ICY support. It's in reader and http_open.
	  Missing is only proper output - and, that it actually works:-/
	  There is something fishy in the reader...

2006-12-22 02:26  thor

	* doc/BUGS: one old entry removed, added one about backgrounding
	  when playing internet radio

2006-12-21 23:22  thor

	* src/readers.c: reformatting readers.c before adding the ICY stuff

2006-12-21 23:11  thor

	* src/common.c, src/readers.c: removed the dead READ_MMAP code

2006-12-21 23:06  thor

	* src/readers.c: shake hands with open_stream again, formatting and
	  comments

2006-12-02 14:17  thor

	* AUTHORS, src/common.c, src/common.h, src/control_generic.c,
	  src/id3.c, src/mpg123.c, src/mpg123.h: - added volume setting for
	  frontend
	  - added rva setting for frontend, refined rva settign a bit
	  (fixed a bug with first setting not being made ??)
	  - c90 fixes
	  - rva defines not wrapped in gapless ifdef
	  - updated pasky's deeds

2006-11-30 11:16  thor

	* src/httpget.c, src/playlist.c, src/readers.c: adding acceptance
	  of MIME types application/pls and audio/x-mpeg ... Perhaps this
	  list of aliases for playlists and streams has to grow further...

2006-11-20 09:08  thor

	* src/audio_oss.c: Remove byteswapping code that got accidentally
	  reactivated (OSS output now simply requests native endianess) -
	  thanks for pointing out, DK!

2006-11-02 17:32  thor

	* src/id3.c, src/mpg123.c, src/mpg123.h: merged pasky's ide about
	  adaptive condensed tag display and made it default; added
	  --long-tag option for the previous, space taking, variant (one
	  may prefer it on occasion)

2006-11-02 17:09  thor

	* src/common.c, src/id3.c: de-verbose, moved notes at least one
	  verbosity level up
	  There was too much noise...

2006-11-02 16:40  thor

	* src/id3.c, src/stringbuf.c: adapting and fixing pasky's (Petr
	  Baudi) utf emergency patch (at least interpreting and converting
	  to lating1/ascii where possible), avoids messing up the terminal
	  when encountering unicode

2006-10-31 19:02  njh

	* configure.ac, src/audio_macosx.c: Applied patch from Taihei Monma
	  to using AudioUnit API instead of coreaudio API

2006-10-30 03:15  thor

	* AUTHORS, src/term.c: term patch (restore on sigcont) from petr
	  baudis

2006-10-24 21:56  thor

	* src/audio_nas.c: corrected is error1 with one argument - thanks,
	  DK

2006-10-20 23:10  njh

	* configure.ac: Don't think the space at the start of the file was
	  deliberate

2006-10-20 22:00  thor

	* AUTHORS, NEWS, README, mpg123.1: preparing for 0.61

2006-10-20 11:25  thor

	* configure.ac: reassuring notes about cygwin

2006-10-12 13:48  thor

	* src/mpg123.c: trying to mke the generic code compile again -
	  catch_child should not be used when we do not define it

2006-10-12 13:33  thor

	* src/id3.c: do not use C99 types without _very_ good reason

2006-10-12 13:29  thor

	* src/httpget.c: fake http_open had bad definition

2006-10-12 13:29  thor

	* configure.ac: test with ==, not =

2006-10-11 23:14  njh

	* AUTHORS, configure.ac, src/Makefile.am, src/dct64_altivec.c,
	  src/decode_altivec.c, src/tabinit.c: Added Taihei Monma's AltiVec
	  improvements

2006-10-10 23:45  thor

	* src/dct64_i486.c: applied i486 patch from Petr Salinger
	  <Petr.Salinger@seznam.cz>
	  (sf.net tracker
	  http://sourceforge.net/tracker/index.php?func=detail&aid=1572103&group_id=135704&atid=733194)

2006-10-10 08:41  thor

	* configure.ac: oh, the kfreebsd cpus are the same as for linux,
	  thanks Petr

2006-10-09 22:14  thor

	* configure.ac: configure update for kfreebsd (bsd with gnu
	  userspace) and cygwin (no assembler by default, oss instead of
	  lame-linking esd)

2006-10-09 21:42  thor

	* src/common.c, src/control_generic.c, src/mpg123.h: Slimmed the
	  ugly #ifdef REAL_IS... stuff in scanf based on central format
	  definition in mpg123.h; also added such safe format for a printf
	  (sendmsg).
	  Jens Wilhelm Wulf suggested something like that. I agree.

2006-10-05 16:04  thor

	* mpg123.1: we can do mpeg 2.5!

2006-09-30 16:10  thor

	* src/common.c, src/common.h, src/readers.c: Ok, Struggled a while
	  to nail bug 1556471.
	  We have now (for seekable streams) a basic read ahead for finding
	  the real first frame.
	  The next step would be to make every resync use that, but the
	  most important situation is nasty garbage at beginning of file.
	  I also loosened the HDRCMPMASK to allow changing bitrate - the
	  resync disregards valid VBR frames otherwise.

2006-09-29 23:42  thor

	* src/audio.c, src/audio.h, src/audio_alib.c, src/audio_jack.c,
	  src/audio_macosx.c, src/audio_mint.c, src/audio_nas.c,
	  src/audio_oss.c, src/audio_portaudio.c, src/audio_sdl.c,
	  src/audio_sgi.c, src/common.c, src/control_generic.c,
	  src/decode_ntom.c, src/getlopt.c, src/httpget.c, src/mpg123.c,
	  src/mpg123.h, src/playlist.c, src/readers.c, src/tabinit.c: Big
	  commit, inspired by bug 1555113
	  a) turning any potentially harmful (to terminal) exit()s into
	  return or safe_exit in mpg123.c
	  b) alsong that, convert many fprintf(stderr to the error macro
	  
	  I tried to refrain from more cleanups...

2006-09-27 20:32  thor

	* src/wav.c: replace various exit()s to return instead, use
	  error/waring macros

2006-09-27 19:36  thor

	* configure.ac: according to bug id 1556769, fix solaris detection

2006-09-27 18:13  thor

	* src/common.c, src/common.h, src/control_generic.c, src/mpg123.c,
	  src/term.c, src/term.h: give targeted position in terminal mode
	  then seeking while stopped

2006-09-27 17:15  thor

	* src/control_generic.c, src/layer3.c, src/layer3.h: Extended
	  gapless mode for control_generic to also cover the
	  pause-seek-unpause case where not a gap but a tick from the grave
	  is the problem (because of old frames influencing new ones at
	  different location in stream).
	  I don't claim that it is nice what I did, but it seems to work
	  nicely for me.

2006-09-20 10:24  thor

	* configure.ac: we are working on the next release

2006-09-20 10:22  thor

	* src/term.c: prevent unpleasant effect when stopping, seeking,
	  resuming

2006-09-14 18:57  thor

	* src/layer3.c: applied the CVE-2006-1655 fix at another very
	  similar location

2006-09-04 17:29  thor

	* configure.ac, src/audio_esd.c: make ESD work for otehr systems
	  with dummy queueflush, try to support Cygwin

2006-08-30 13:18  thor

	* doc/ROAD_TO_LGPL: another typo

2006-08-30 02:58  thor

	* src/Makefile.am: some default config.h.legacy should not hurt

2006-08-30 02:57  thor

	* ChangeLog: dummy again

2006-08-30 02:53  thor

	* src/audio_alsa.c: info for bug 1547470

2006-08-29 21:56  thor

	* ChangeLog, NEWS: last NEWS

2006-08-29 21:54  thor

	* INSTALL: small correction for libasound and typo

2006-08-29 21:53  thor

	* src/layer3.c: this sort of / spurious overflow is too common,
	  debug+verbose

2006-08-29 21:52  thor

	* configure.ac: calling it version 0.60

2006-08-29 17:09  thor

	* configure.ac: copy and pase typo, nas is not alsa

2006-08-29 12:04  thor

	* src/id3.c: fix compiler warning about sign differing pointers

2006-08-29 11:57  thor

	* doc/PATENTS: typo

2006-08-27 09:22  thor

	* NEWS: news for 0.60-beta6

2006-08-27 09:14  thor

	* Makefile.am: also distribute the THANKS

2006-08-27 09:14  thor

	* doc/THANKS: as Gabor suggested - let us be thankful

2006-08-27 09:08  thor

	* configure.ac: goign to be last beta - for real now!

2006-08-27 01:50  thor

	* src/Makefile.am, src/Makefile.legacy, src/common.c, src/common.h,
	  src/control_generic.c, src/id3.c, src/id3.h, src/mpg123.c,
	  src/mpg123.h, src/stringbuf.c, src/stringbuf.h: Too big
	  upgrade... It is actually just about better id3 support, namely
	  adding basic parsing and display of id3v2 text info fields.
	  The code for that was outsourced from common.c - that file
	  contained too much "common" code...
	  One change on the side ofthe way is that control_generic now
	  doesn't exit but return properly so that the main routine can
	  cleanup afterwards

2006-08-26 14:53  thor

	* src/Makefile.am, src/playlist.c, src/playlist.h, src/stringbuf.c,
	  src/stringbuf.h: stringbuf on its own to be reused

2006-08-26 13:59  thor

	* src/common.c, src/readers.c: moved id3 printing to read_frame;
	  going to add id3v2 printing support there

2006-08-26 13:45  thor

	* src/common.c: promote some ID3v2 info form debug to very verbose

2006-08-25 12:28  thor

	* src/audio_libao.c, src/mpg123.c, src/playlist.c: struggling to
	  stay C90 compatible... mostly (no %z printf specifier)

2006-08-25 10:36  thor

	* NEWS, configure.ac: steering towards beta5

2006-08-25 10:28  thor

	* configure.ac, doc/TODO, src/Makefile.am: form framework to
	  support fixed point arithmetic; normal playback working with
	  generic_nofpu

2006-08-25 09:28  thor

	* src/mpg123.c, src/playlist.c, src/playlist.h: playlist entry
	  length not statically limited anymore, memory housekeeping

2006-08-25 09:24  thor

	* src/getlopt.c: memory gets lost on strdup according to
	  valgrind...

2006-08-24 21:53  thor

	* src/playlist.c, src/playlist.h: boilerplates for playlist...

2006-08-24 21:52  thor

	* src/Makefile.am, src/Makefile.legacy, src/mpg123.c, src/mpg123.h,
	  src/playlist.c, src/playlist.h: A step to a leaner mpg123.c:
	  outsourced and reorganized the playlist code.
	  Main functionality change is that the whole playlist is read in
	  on program start (rather needed for http playlists since few
	  servers will keep up the connection for the duration of several
	  tracks).

2006-08-24 10:53  thor

	* ChangeLog: dummy ChangeLog so that autogen.sh does not complain
	  anymore

2006-08-24 09:18  thor

	* src/mpg123.c: fixing bug 1544530; do not parse listname when it
	  is NULL

2006-08-24 08:08  thor

	* src/audio_alsa.c: note about needed adjustable alsa buffer

2006-08-24 08:06  thor

	* src/config.h.legacy: sys/types.h could be needed

2006-08-24 08:05  thor

	* src/mpg123.c: give chose audio rate in very verbose mode

2006-08-22 12:20  thor

	* src/common.c: missed a line break in rva message

2006-08-22 09:31  thor

	* COPYING, INSTALL, NEWS, README: more doc update

2006-08-22 09:01  thor

	* NEWS, README: update info for release of beta4

2006-08-22 07:09  thor

	* Makefile.am, src/common.c, src/layer3.c: more silent for normal
	  usage

2006-08-21 23:07  thor

	* doc/LICENSE: please let me my mild humor...

2006-08-21 18:24  thor

	* BENCHMARKING, BUGS, CONTACT, Makefile.am, README,
	  doc/BENCHMARKING, doc/BUGS, doc/CONTACT: more doc tidyness

2006-08-21 17:23  thor

	* misc/equalizer-control.pl, misc/test.pl: naming the equalizer
	  demo script accordingly

2006-08-21 17:22  thor

	* misc, misc/test.pl, test.pl: misc stuff gets a place

2006-08-21 17:20  thor

	* TODO, doc/TODO: Yeah, this one, too.

2006-08-21 17:17  thor

	* ROAD_TO_LGPL, doc/ROAD_TO_LGPL: ...

2006-08-21 17:17  thor

	* PATENTS, doc/PATENTS: ...

2006-08-21 17:15  thor

	* README.WIN32, doc/README.WIN32: not front page 5

2006-08-21 17:14  thor

	* README.thor, doc/README.thor: not front page 4

2006-08-21 17:14  thor

	* README.remote, doc/README.remote: not front page 3

2006-08-21 17:14  thor

	* README.gain, doc/README.gain: not front page 2

2006-08-21 17:14  thor

	* README.3DNOW, doc/README.3DNOW: not front page

2006-08-21 17:13  thor

	* doc: doc dir created

2006-08-21 16:57  thor

	* ROAD_TO_LGPL: the file list is the historic one from 17.7.2006,
	  for changes after that we have our logs

2006-08-21 16:52  thor

	* configure.ac, src/Makefile.am: fixing i486

2006-08-21 16:45  njh

	* CHANGES, LICENSE, Makefile.am, NEWS, README.thor, ROAD_TO_LGPL,
	  configure.ac: mpg123 now uses standard GNU file names.

2006-08-21 16:13  thor

	* configure.ac, src/Makefile.am: trying to get i486/i386 back

2006-08-21 15:52  njh

	* src/Makefile.am: Added decode_i486.c to 486 CPU target

2006-08-21 15:22  thor

	* src/layer3.c: do not annoy every user - overflow warning as debug
	  message

2006-08-21 15:07  thor

	* src/common.c: avoid non-C90 printf stuff, better solution in
	  future

2006-08-21 14:57  thor

	* src/common.c: long long is not safely there... just use long for
	  this debugging output of an off_T

2006-08-21 14:53  thor

	* configure.ac, src/common.c, src/common.h, src/config.h.legacy,
	  src/readers.c, src/term.c, src/term.h: Disabled mmap stuff; vbr
	  seeking having replaced old stream seek
	  There is now a configure option to select frame index table size
	  - if set to 0, you basically disable it any any seek will start
	  from beginning and the read through the frames.

2006-08-21 13:48  thor

	* src/common.c, src/common.h, src/control_generic.c: a working seek
	  for generic control (now also working backwards - whee!), along
	  the way some more cleanup regarding the frame numeber bein in
	  frame struct

2006-08-21 13:40  thor

	* src/mpg123.c: to make it clear: -s gives you host byte order!

2006-08-21 13:36  thor

	* src/term.c: after rewind, we are at frame zero again

2006-08-21 13:20  thor

	* src/mpg123.c: non-vbr seek mode does also count frames in
	  read_frame

2006-08-21 13:18  thor

	* src/mpg123.h, src/readers.c: take long arguments as frame offset

2006-08-21 13:02  thor

	* src/common.c, src/common.h, src/control_generic.c, src/mpg123.c,
	  src/mpg123.h, src/readers.c, src/term.c, src/term.h: big thing...
	  it's the initial addition of some sort of accurate seeking in vbr
	  (and strangely tagged) files.
	  I didn't do it for mmapped mode and I think I'll erase that one
	  soon, anyway (you can use stuff like /dev/shm or just trust your
	  kernel buffers).
	  There are some changes more or less related to seeking that have
	  been necessary.
	  Most code is wrapped in #ifdef VBR seek now...

2006-08-21 12:56  thor

	* src/httpget.c: adding workaround for rautemusik internet radio...
	  their server doesn't like the port in Host request header! (gives
	  endless relocations)

2006-08-21 12:21  thor

	* src/audio_alsa.c: make the close foolproof (instead of fixing the
	  code that calls it without having the device opened before)

2006-08-21 11:58  thor

	* src/audio_alsa.c, src/term.c: Now more proper alsa code from
	  clemens; fixing the remaining buffer mode crashes by making
	  term.c more aware of the fact that if there is a buffer, no one
	  else should mess with the audio device.

2006-08-17 07:46  thor

	* src/common.c, src/readers.c: Ok, changed the check in read_frame
	  back to comparig the new header with first and old header.
	  That is a pragmatic change that gives some false negatives but
	  still allows seeking in this one evil file at all.
	  Blind seeking in vbr files is evil.

2006-08-17 07:38  thor

	* src/common.c, src/common.h, src/readers.c: Started workign on the
	  seeking (and fixed the second-time id3v2 recognition to happen in
	  quiet mode , too, by the way).
	  The seeking is a mess but necessarily so for vbr files that we
	  don't have a frame mapping for (from Xing header - not used atm,
	  though).
	  Now the seeking at least works for this one very vbr file (where
	  no frame is like the first!) where formerly any seekl lead
	  directly to end-of-track.
	  There is a tradeoff: Now we get false positives from time to
	  time.
	  We should treat Xing-tagged vbr files with all the info we have
	  and at least warn about vbr files that lack the seeking info.

2006-08-17 00:06  thor

	* src/common.c, src/common.h, src/control_generic.c: One place to
	  calculate current seconds, frames to go... also introduced
	  mean_framesize to make better estimates on remaining track length
	  for vbr files without xing header (from which the number of
	  frames is known).

2006-08-15 18:22  thor

	* INSTALL: one should say what is needed even if trivial

2006-08-15 17:06  thor

	* src/audio_alsa.c: code and vars!

2006-08-15 15:13  thor

	* src/term.c, src/term.h: give a clue about control via online help

2006-08-15 14:54  thor

	* src/term.c, src/term.h: space bar is very intuitive for the
	  stop(real pause) function

2006-08-15 13:57  thor

	* src/audio_alsa.c: ALSA: you need to prepare after drop; solving
	  the buffer kill / no sound after "b" issue following suggestion
	  from Clemens Ladisch

2006-08-14 22:16  njh

	* src/audio_sdl.c: Previously forgot to free up ringer buffer in
	  audio_close().
	  Changed to using new debugging and error macros.

2006-08-14 22:05  njh

	* src/audio_macosx.c: Got so fed up with trying to get
	  audio_queueflush() working that I changed everything to use SFIFO
	  code instead.

2006-08-14 17:04  njh

	* src/audio_macosx.c: Initialise env to NULL.

2006-08-14 16:41  njh

	* src/audio_macosx.c: Fixed bug #1532711. Can now call
	  audio_close() before audio_open() without crash.

2006-08-13 21:53  thor

	* src/audio_alsa.c: alsa queueflush with snd_pcm_drop is
	  troublesome...

2006-08-13 21:52  thor

	* src/common.c: reading id3v2 frames anytime when encountered

2006-08-13 19:53  thor

	* src/audio_alsa.c: queueflush for alsa needs fixing with buffer;
	  bug id 1536513

2006-08-13 19:51  thor

	* src/mpg123.c: this check is not complete nonsense

2006-08-13 17:07  thor

	* configure.ac: --disable-debug != --enable-debug! Now getting this
	  right...

2006-08-13 16:02  thor

	* AUTHORS: storing the email that worked

2006-08-13 00:43  thor

	* src/common.c: oops, pointer!

2006-08-13 00:41  thor

	* src/common.c: calm down gcc for pointer signs

2006-08-13 00:35  thor

	* CHANGES, Makefile.am, src/Makefile.am: distro stuff...

2006-08-13 00:04  thor

	* src/common.c: just a note

2006-08-12 23:55  thor

	* src/layer3.c: the small xrpnt overflow is a warning and no error

2006-08-12 23:51  thor

	* src/common.c: fiddled a bit with the ID3v2 debugging messsages

2006-08-12 23:20  thor

	* README, mpg123.1: minimal doc change before beta4

2006-08-12 19:15  thor

	* src/layer3.c: this common "error" message is better just for
	  debugging

2006-08-12 19:04  thor

	* src/layer3.c, src/mpg123.c: Printing wanted help to stdout is a
	  good idea, printing the mpg123 hello lines on stdout with the -s
	  switch possibly in work is a bad one.
	  Shame on you...

2006-08-08 01:34  thor

	* TODO: more notes about progress and outstanding progress

2006-08-08 01:31  thor

	* README.gain: update about progress

2006-08-08 01:29  thor

	* BUGS: You are not alone... bugs all around.

2006-08-08 01:23  thor

	* configure.ac: linkflag to libs and not CFLAGS... Clemens got that
	  covered, too.

2006-08-08 01:18  thor

	* src/audio_alsa.c: Clemens Ladisch rightfully erased my dirty hack
	  and made proper Alsa API check for initialized device;-)

2006-08-08 01:15  thor

	* src/common.c, src/config.h.legacy: Too late again... feverishly
	  hacked reading of RVA values from ID3v2 in 3 variants
	  - ID3v2.4 RVA2 frames
	  - RVA_* style comment fields
	  - TXXX fields from foobar2000 (untested)

2006-08-07 08:48  thor

	* src/common.c: Got a good deal of ID3v2 parsing... now wondering
	  why I cannot derive the correct size of the Image in this Mike
	  Zee file.
	  id3v2 -l sees it correctly; I parse the size value - and that
	  simply is wrong?!!
	  After I've settled that the file is just broken and id3v2 does
	  play some trick, I can go back to store RVA values...

2006-08-06 17:48  thor

	* TODO: being more clear there on gain and types

2006-08-06 17:45  thor

	* src/readers.c: We have to stop using ints everywhere for byte
	  counts... future TODO.

2006-08-06 17:20  thor

	* README.gain, src/common.c: going to make id3v2 parsing
	  properly... since not even id3lib can handle 2.4:-(

2006-08-06 17:02  thor

	* README.gain, configure.ac, src/common.c: some clarification
	  adding to the confusion - did I already say that all this tagging
	  is a MESS?

2006-08-06 16:20  thor

	* src/mpg123.h: should we limit samples to 2**16/2 or 2**16/1-1?
	  there will be a one missing in the first case... or is this taken
	  care of elsewhere?

2006-08-06 13:21  thor

	* mpg123.1, src/common.c, src/mpg123.c, src/mpg123.h: initial RVA
	  support using ReplayGain values in Info/Lame tag

2006-08-06 11:02  thor

	* configure.ac, src/common.c, src/httpget.c, src/mpg123.h: some
	  more explicit/corrected system header dependencies along with
	  fallback (for SIZE_MAX, ULONG_MAX), in common.c the maximal frame
	  count for gapless is now actually depending on the system limit

2006-08-06 10:25  thor

	* README.gain: thoughts about RVA gain

2006-08-06 00:50  thor

	* CHANGES, src/mpg123.c: update CHANGES, officially adding MPEG 2.5

2006-08-06 00:45  thor

	* src/common.c, src/layer3.c: some more unified error messages

2006-08-06 00:39  thor

	* src/common.c: 1. re-enable MPEG 2.5 as I could be actually safe
	  to do so
	  2. bail out on free format header if first one (so supposedly not
	  just stream distortion)
	  3. _not_ bail out on decode_header failure ... perhaps this is no
	  good idea?

2006-08-05 22:40  thor

	* src/layer3.c: comment about mhipp bandinfo change... should we
	  change?

2006-08-05 21:38  thor

	* src/layer3.c: small cleanup - #if 0 code, const

2006-08-05 20:46  thor

	* src/layer3.c: say what's wrong on bad sideinfo

2006-08-05 17:06  thor

	* src/layer3.c: Widen the bugfix for the Stravinsky fuzzing ...
	  there are files where xrpnt does exceed that range is supposedly
	  should have (?), pointing to end+4 bytes.
	  Since these play fine now and sounded wrong with the strict
	  check, I hope this is justified.
	  when will I have time to really understand the core decoding
	  routines and their pointers?

2006-08-05 16:48  thor

	* src/common.c: more standard error messages

2006-08-05 14:55  thor

	* scripts/debugdef.pl, src/debug.h: now also warnings and error
	  messages as macro

2006-08-05 14:54  thor

	* src/Makefile.legacy: brute force debug.h depends

2006-08-05 13:10  thor

	* src/common.c: updated debugging lines

2006-08-04 10:00  thor

	* src/mpg123.c: A proposal for smaller head message.

2006-08-04 09:51  thor

	* src/audio_alsa.c: hotfix for my laptop... don't call
	  snd_pcm_drain when we didn't really prepare the device

2006-08-04 08:56  njh

	* AUTHORS, CHANGES: Added Clemens Ladisch as author of ALSA support

2006-08-04 08:04  njh

	* src/audio_alsa.c: new ALSA audio output driver sent to me by
	  Clemens Ladisch

2006-08-04 00:38  njh

	* CHANGES, configure.ac: Removed libao from distribution. Bumbed
	  version number.

2006-08-04 00:38  njh

	* src/dct64_altivec.c: Oops - I broke Altivec - this fixes it again

2006-08-04 00:37  njh

	* src/Makefile.am: Added debug.h to list of source files so that it
	  is distributed

2006-08-02 11:27  njh

	* configure.ac, src/Makefile.am, src/audio_portaudio.c,
	  src/audio_sdl.c, src/sfifo.h: SDL is working nicely now.

2006-08-02 03:27  njh

	* configure.ac, src/Makefile.am, src/audio_portaudio.c,
	  src/dct64_altivec.c, src/sfifo.c, src/sfifo.h: Added PortAudio
	  support - and remove Altivec autodetectoion because it was more
	  trouble than it was worth

2006-08-02 00:04  njh

	* configure.ac, src/dct64_altivec.c: Use Altivec if available
	  automatically

2006-08-01 19:29  njh

	* Makefile.am, configure.ac, src/audio_alsa.c, src/audio_alsa05.c,
	  src/audio_alsa08.c, src/audio_alsa09.c: Nearly implemented ALSA
	  0.9 API support - still got a few problems though.

2006-08-01 16:10  njh

	* src/httpget.c: Variables delared in bad places

2006-08-01 15:59  njh

	* TODO: Added my own TODO list items

2006-08-01 14:58  njh

	* src/Makefile.am, src/Makefile.legacy, src/dct64_MMX.s,
	  src/dct64_mmx.s, src/decode_MMX.s, src/decode_mmx.s,
	  src/tabinit_MMX.s, src/tabinit_mmx.s: made MMX lowercase for
	  concistency with other processor names

2006-08-01 14:28  njh

	* src/audio_alsa.c, src/audio_alsa08.c: Moved old also audio
	  interface code out of the way

2006-07-29 16:31  thor

	* configure.ac: beta3!

2006-07-29 16:31  thor

	* src/mpg123.c: added missing \n in longhelp

2006-07-29 16:29  thor

	* CHANGES, mpg123.1, src/mpg123.c, src/mpg123.h: enhancing the
	  playlist mode with more mime and the listentry parameter

2006-07-29 11:51  thor

	* src/httpget.c, src/mpg123.c, src/mpg123.h, src/readers.c: fixing
	  bug id 1529319... and overreacting a bit about the whole issue:
	  - initialy made steps to HTTP/1.1 (for the host header field
	  because of virtual hosts support) but retreated after realizing
	  that one has to accept chunked data
	  - now still HTTP/1.0 with host header as extension (as before,
	  actually), also again sending only absolute paths as requests (no
	  full url) but still allowing relative redirects
	  - using the content-type header field to prevent playback of
	  wrong codec and to more safely recognice playlist files
	  - one result: for a single we resource one can always use the -@
	  switch: playlists are treated as playlists and if it is an
	  audio/mpeg file, it is reopened as such
	  - added most simple parsing of pls (shoutcast) playlists

2006-07-29 06:02  thor

	* src/mpg123.c: explicitly handle failed http_open

2006-07-29 05:03  thor

	* src/httpget.c: make sure that httpauth1 doesn't leak memory...
	  oaranoid

2006-07-29 04:49  thor

	* src/mpg123.c: 1. noted a memory leak on strdup but not fixed yet
	  2. fruitless debugging of terminal mindbreaking characters from a
	  internet radio playlist. Probably these are actually send by the
	  server.

2006-07-28 13:45  thor

	* src/httpget.c: fixing bug 1529266; the segfault happening on the
	  second http request was due to a global pointer (httpauth1) being
	  free()d but not nulled.

2006-07-24 11:32  thor

	* CHANGES: beta2 update just before real release...

2006-07-24 11:10  thor

	* configure.ac: I won't screw history: this is beta2, even when
	  beta1 didn't see the sunlight.

2006-07-24 11:08  thor

	* src/mpg123.c, src/mpg123.h, src/term.c: Oh, what a bug: The
	  terminal control key "f" for next track relied on the SIGINT
	  hack. Shame on me for not knowing this when diabling this hack
	  for terminal control mode.

2006-07-24 10:32  thor

	* configure.ac: version 0.60-beta1

2006-07-24 10:30  thor

	* README: date of today

2006-07-24 10:29  thor

	* PATENTS: Notes about patents... the date of expiration of the
	  core mp3 patent would make a nice release day for mpg123 0.60;-)

2006-07-24 10:28  thor

	* README: small updates

2006-07-24 09:02  thor

	* ROAD_TO_LGPL: The LGPL reasoning for y'all to read.

2006-07-24 08:57  thor

	* plugin: empty, useless

2006-07-24 08:56  thor

	* README.thor: typo

2006-07-24 08:52  thor

	* Makefile.win32, src/Makefile.win32: moved the Win32 Makefile to
	  src/ ... I'm pretty sure that it won't work as is anymore.
	  Have to grab some windows box and test... eh, and some compiler.
	  Borland?

2006-07-24 08:46  thor

	* CHANGES: corrections and additions

2006-07-24 08:42  thor

	* mpg123.1: added license

2006-07-24 08:33  thor

	* mpg123.1: ... the file AUTHORS ...

2006-07-24 07:49  thor

	* mpg123.1: updated the man page ... my first one without the help
	  of perldoc

2006-07-24 07:38  thor

	* src/mpg123.c: title setting also for rxvt-* and xterm-*; added
	  help about that

2006-07-24 06:57  thor

	* TODO: note about track gain adjustment

2006-07-24 01:05  thor

	* BENCHMARKING.thor, mpg123.1: in BENCHMARKING now

2006-07-24 01:04  thor

	* BENCHMARKING: Updated the benchmarking notes, added
	  BENCHMARKING.thor contents as well as some fresh recheck.

2006-07-24 00:56  thor

	* INSTALL: updated installation instructions

2006-07-24 00:15  thor

	* src/mpg123.c: fixed lecagy build broken by VERSION_STRING; made
	  help output nicer

2006-07-23 22:58  thor

	* src/Makefile.legacy: fixing the install target

2006-07-23 18:56  thor

	* AUTHORS: cleaning up and warning spammers

2006-07-17 22:37  thor

	* mpg123.1, src/mpg123.c: - seen that manpage needs a lot of
	  updating (nearly ten years old!)
	  - made the wanted usage info (-?, --help, --longhelp) go to
	  stdout and only the help-on-error to stderr
	  - added --version to give program version string

2006-07-17 21:04  thor

	* tools: keep the main trunk tight; auxilliary tools in separate
	  location

2006-07-17 21:03  thor

	* precompiled: we have assemblers nowadays, no need to keep the
	  precompiled objects

2006-07-17 19:45  thor

	* BUGS, CHANGES, CONTACT, LICENSE, README, README.cfa, README.new,
	  README.remote, README.thor, src/control_generic.c: Getting
	  documentation closer to release, typo in control_generic help.

2006-07-17 19:25  thor

	* README: to be replaced by new one

2006-07-17 17:33  thor

	* COPYING: Updated COPYING to a near-final state, added agreement
	  hint by Nicholas.

2006-07-17 16:20  thor

	* src/Makefile.am, src/layer1.c, src/layer2.c, src/layer3.c,
	  src/layer3.h, src/mpg123.c, src/mpg123.h, src/readers.c,
	  src/system.c, src/tabinit.c, src/term.c, src/term.h, src/wav.c,
	  src/xfermem.c, src/xfermem.h: Next round of boilerplates along
	  with the story.
	  With the current argument, there is only one GPL-only file left!

2006-07-17 16:16  thor

	* MakeLegacy.sh: We write C, not C++.

2006-07-17 14:59  thor

	* AUTHORS, COPYING, src/audio_esd.c, src/equalizer.c, src/genre.h,
	  src/getbits.c, src/getbits.h, src/getcpuflags.s, src/getlopt.c,
	  src/getlopt.h, src/httpget.c, src/huffman.h, src/l2tables.h:
	  equalizer patch really was jsut a path to equalizer, new author
	  for linux-ppc-nas make target

2006-07-17 14:57  thor

	* src/Makefile.legacy: added PPC/NAS target from
	  <mpdavig@users.sourceforge.net>

2006-07-17 13:54  thor

	* src/dct64_MMX.s, src/decode_MMX.s, src/tabinit_MMX.s: the MMX
	  stuff came into Michaels hands without comment -> LGPL by author
	  rule

2006-07-17 13:53  thor

	* AUTHORS: credit for Mikko and his DCT9

2006-07-17 03:22  thor

	* AUTHORS, COPYING, scripts/debugdef.pl, src/Makefile.legacy,
	  src/audio.c, src/audio.h, src/audio_aix.c, src/audio_alib.c,
	  src/audio_dummy.c, src/audio_esd.c, src/audio_hp.c,
	  src/audio_jack.c, src/audio_libao.c, src/audio_macosx.c,
	  src/audio_mint.c, src/audio_nas.c, src/audio_os2.c,
	  src/audio_oss.c, src/audio_sgi.c, src/audio_sun.c,
	  src/audio_win32.c, src/buffer.c, src/buffer.h, src/common.c,
	  src/common.h, src/control_generic.c, src/dct36_3dnow.s,
	  src/dct64.c, src/dct64_3dnow.s, src/dct64_MMX.s,
	  src/dct64_altivec.c, src/dct64_i386.c, src/dct64_i486.c,
	  src/debug.h, src/decode.c, src/decode_2to1.c, src/decode_3dnow.s,
	  src/decode_4to1.c, src/decode_MMX.s, src/decode_i386.c,
	  src/decode_i486.c, src/decode_i586.s, src/decode_ntom.c,
	  src/equalizer_3dnow.s, src/tabinit_MMX.s: First part of
	  boilerplating and sorting all out. Looks kinda nice now, still
	  would like to get the higway mmx stuff clear... maybe Michael
	  remembers something there.

2006-07-17 02:15  thor

	* AUTHORS: little update for MMX, unnecessary verbosity about what
	  maintaing implies

2006-07-17 01:30  thor

	* src/audio_jack.c: boilerplate and // -> /* */ as mpg123 is
	  (still) an old-compiler friendly project

2006-07-17 01:02  thor

	* src/common.c, src/control_generic.c, src/httpget.c, src/layer3.c:
	  Oh, I should compile more often with strict settings: pedantic
	  gcc complained about some C89 violations I introduced.
	  Fixed that.

2006-07-17 01:01  thor

	* configure.ac, src/audio_alsa.c, src/audio_alsa09.c: Old alsa
	  output doesn't work with any sane setup using alsa today
	  (meaning: not using the 0.5 api).
	  New doesn't work because unfinished yet.
	  Alsa output actually is available through libao.
	  
	  So, deactivated alsa stuff in configure for now...

2006-07-17 00:06  thor

	* Makefile.am, autogen.sh, configure.ac: more boilerplates

2006-07-16 23:56  thor

	* MakeLegacy.sh: boiler

2006-07-16 23:54  thor

	* scripts/debugdef.pl: public domain should be gpl compatible...

2006-07-16 23:46  thor

	* mpglib: mpglib will be something of its own, taken care of
	  later...

2006-07-16 23:39  thor

	* Makefile.win32, test.pl: niceness by a line

2006-07-16 23:38  thor

	* test.pl: boilerplate, style cleanup (could use more use, though)

2006-07-16 23:37  thor

	* Makefile.win32: boilerplate

2006-07-16 23:24  thor

	* src/audio_oss.c: just a paranoid note

2006-07-10 02:23  thor

	* src/audio_libao.c: Polished the libao output a bit while testing
	  it on my linux laptop:
	  - parsing -a driver:file for file devices (well, this could be
	  extended to a general scheme to choose between different driver
	  subsystems via -a system:file or system:device:file ...)
	  - corrected the error handling: -1 is expected on error by
	  mpg123.c
	  - giving help message with list of available drivers when invalid
	  one is specified
	  
	  I verified with one testfile that -a wav:file does the same as -w
	  file. I think that this is good;-)
	  Also, I'd like to mention that it's nice to measure audio
	  subsystem overhead with comparing -t and -a null.
	  With the libao in place, I'm wondering if we still want our own
	  alsa output... let's see...

2006-07-09 17:37  thor

	* src/layer3.c: next segfault by fuzzing... fixed this special test
	  case but one needs full understanding of layer3.c to really get
	  it

2006-07-06 14:00  thor

	* src/common.c, src/layer3.c: Fixed the mpeg2.5 verdict in common.c
	  (we have to check support for this); made parts of layer3.c more
	  robust based on an evil mp3 (see the buglog file).
	  Most important featur of this robustness could be that mpg123
	  doesn't simply exit() in wrong sideinfo anymore but tries to
	  continue.

2006-07-05 20:45  thor

	* TODO, src/httpget.c: Revised my bugfix for the last GLSA issue
	  after suggestion by Daniel Kobras (allow longer redirection urls
	  than request url), spent some time hacking further ... and:
	  - fixed unnoticed memory leak in redirection (malloc without free
	  for assigned pointer)
	  - now accepting non-absolute redirects; request now is always of
	  the form
	  GET http://host/path HTTP/1.0
	  (non-absolute relocations are related to this request)
	  That also works flawlessly with my virtual domain setup on my
	  server used in the test.
	  - decided that this whole file is evil; we need to rewrite that
	  properly

2006-07-04 12:41  thor

	* src/httpget.c: Reacted to gentoo bug 133988 / GLSA 200607-01 and
	  fixed it properly, storing and using the allocated length of purl
	  as well as ensuring string termination.

2006-07-04 01:43  thor

	* src/common.c, src/layer3.c, src/layer3.h, src/mpg123.c: Again
	  reworked the gapless stuff... should be more efficient now and
	  also more aggressive by just skipping decoder delay even if no
	  info found and also adding decoder delay to end (hm, where does
	  this really make sense without padding removal?).
	  It should be more efficient now; a comparison between linux-x86
	  binary (pentium) with and without gapless code shows perhaps
	  around 0.2% speed penalty through added code - which already
	  melts when gapless mode is actually active.
	  
	  Generally on speed: comparison with 0.59r (linux build,
	  non-marched cflags (pentium2)) shows around 2% slower decoding
	  for svn trunk; but this is greatly compensated by using one of
	  the new assembler optimizations.
	  Still, I see much code that can be improved also for efficiency
	  alone by clearing the situation with some (shared) variables that
	  don't need to be passed around all the time...

2006-07-04 01:25  thor

	* src/Makefile.legacy: these -g were leftovers

2006-07-03 12:55  thor

	* src/Makefile.legacy, src/common.c, src/common.h,
	  src/control_generic.c, src/layer3.c, src/layer3.h, src/mpg123.c,
	  src/mpg123.h: Main message:
	  The gapless mode has been enhanced to work more low-level (in
	  layer3.c) and also to use the Xing-given frame count to get the
	  end straight.
	  It should work (tested, but not in every detail) both with the -k
	  option and terminal controlled seeking as well as control_generic
	  JUMPs.
	  The current implementation adds some load that could be reduced
	  by putting the gapless checker code into behind flush check
	  instead of before but that needs additional care for track end
	  (where audio_flush is called externally).
	  Apart from that and some needed de-uglification it should be a
	  nicely working feature.
	  Minor messages:
	  frameNum is unsigned long (so bigger that int and never < 0!);
	  some parts of mpg123.c and common.c did not honor these truths.
	  But I don't claim that I catched all occurences of such problems
	  - see BUGS.
	  Also, I fixed stuff in print_stat with weird frame number
	  estimations. Looks _much_ better now esp. when the frame count is
	  known from Xing tag.

2006-07-03 12:16  njh

	* AUTHORS: Added Romain Dolbeau to AUTHORS file for his Altivec
	  work

2006-07-03 12:12  njh

	* configure.ac, src/Makefile.am, src/dct64_altivec.c: Imported
	  altivec support from mplayer (and it works!)
	  Still need to do CPU detection.

2006-07-03 12:11  thor

	* TODO: more and less of this

2006-06-27 00:54  thor

	* src/config.h.legacy: Did we start using C++ style comments?

2006-06-27 00:51  thor

	* src/common.c: a note on gapless hack updated

2006-06-26 22:57  thor

	* README.new: added note about more natural Ctrl+C

2006-06-26 22:43  thor

	* src/Makefile.legacy: some more flags by default

2006-06-26 22:40  thor

	* src/Makefile.legacy: ' seems to be dangerous together with
	  line-continuing \ ... made more "

2006-06-26 22:22  thor

	* configure.ac: generic linux support (?)

2006-06-26 22:04  thor

	* src/mpg123.c: Following DK's suggestion in a comment, I disabled
	  the Ctrl+C (SIGINT) hack when a control mode is active.
	  You can still do Ctrl+C to skip a song and twice to end playback
	  if you do not use the terminal or remote control mode.
	  With active control mode, a Ctrl+C now kills as expected
	  (formerly, it was just ignored).

2006-06-26 21:36  thor

	* src/getlopt.c, src/mpg123.c: There were several option parsing
	  regressions most probably caused by application of Nicholas'
	  changes to my code with changed command line parsing.
	  Fixed the obvious ones and made the option parser bail out if it
	  encouters such an error again.

2006-06-26 21:34  thor

	* MakeLegacy.sh, src/config.h.legacy: More legacy make system
	  working again with more crafted config.h.

2006-06-26 13:17  thor

	* AUTHORS, README.new: history in README.new, maintainers in
	  AUTHORS

2006-06-26 12:24  thor

	* src/audio.c, src/audio_aix.c, src/audio_alib.c, src/audio_alsa.c,
	  src/audio_dummy.c, src/audio_esd.c, src/audio_hp.c,
	  src/audio_jack.c, src/audio_libao.c, src/audio_macosx.c,
	  src/audio_mint.c, src/audio_nas.c, src/audio_os2.c,
	  src/audio_sgi.c, src/audio_win32.c, src/buffer.c, src/common.c,
	  src/control_generic.c, src/dct64.c, src/dct64_i386.c,
	  src/dct64_i486.c, src/decode.c, src/decode_2to1.c,
	  src/decode_4to1.c, src/decode_i386.c, src/decode_i486.c,
	  src/decode_ntom.c, src/equalizer.c, src/getbits.c, src/httpget.c,
	  src/layer1.c, src/layer2.c, src/layer3.c, src/readers.c,
	  src/system.c, src/tabinit.c, src/wav.c, src/xfermem.c: Added
	  inclusion config.h everywhere to make sure we don't stumble over
	  some missing define later and search like crazy...

2006-06-26 12:22  thor

	* src/mpg123.c: Sorry, but these pointlessly broken lines were
	  _ugly_.

2006-06-26 12:11  thor

	* src/getlopt.c, src/term.c: These got some new-style debugging
	  through the terminal control bug hunt.
	  Also, I want to take the chance to hint at scripts/debugdef.pl
	  that I added previously:
	  It is a Perl script generating the debug.h header in a way to
	  avoid variadic macros for fprintf.
	  Result are debugN macros that mean "debug line with N arguments".
	  Examples:
	  
	  debug1("Ok, there's one value: %i", var)
	  debug3("now three of them: %i %f %i", var1, var2, var3)
	  
	  simplest case:
	  
	  debug("just a message");

2006-06-26 12:06  thor

	* scripts, scripts/debugdef.pl, src/debug.h, src/mpg123.c: Hah!
	  Found the place where terminal control got killed!
	  The option definition in mpg123.c lacked the type specifier (a
	  regression caused by merging).
	  
	  To find that, I added debug.h for more convenient debugs.

2006-06-26 01:05  thor

	* README.new: small update on urls, frontend control

2006-06-26 01:04  thor

	* MakeLegacy.sh, configure.ac, src/Makefile.am, src/audio_oss.c: -
	  making audio_oss work again (didn't include config.h); added
	  needed bits for fake config.h.
	  - adding i586_dither as cpu variant: i586 assembler with
	  dithering / noise shaping

2006-06-25 23:52  thor

	* src/Makefile.legacy, src/control_tk3play.c,
	  src/control_tk3play.h, src/mpg123.c, src/mpg123.h: Removing
	  obsolete control interfaces (no one uses them since a loong
	  time).

2006-06-22 21:19  njh

	* configure.ac, src/Makefile.am, src/audio.h, src/audio_macosx.c,
	  src/audio_sun.c, src/buffer.h, src/common.c, src/common.h,
	  src/control_tk3play.h, src/genre.h, src/getbits.h, src/getlopt.h,
	  src/huffman.h, src/l2tables.h, src/layer3.c, src/mpg123.h,
	  src/term.h, src/xfermem.h: Now compiles on Solaris. Tested on:
	  SunOS ironwood.sucs.soton.ac.uk 5.8 Generic_117350-31 sun4u sparc
	  SUNW,Sun-Fire-880

2006-06-22 20:25  njh

	* src/Makefile.am: added Makefile.legacy to the distribution

2006-06-22 20:12  njh

	* configure.ac, src/audio_oss.c: Closer to Linux working

2006-06-22 19:18  njh

	* src/Makefile.am: decode_x86.s -> decode_i586.s

2006-06-22 19:10  njh

	* configure.ac: Added --with-optimization configure option. Display
	  CFLAGS in debug mode.

2006-06-22 19:09  njh

	* Makefile.am: Include MakeLegacy.sh in distribution

2006-06-22 17:18  njh

	* MakeLegacy.sh: Make sure that configure.ac exists before runing
	  sed over it

2006-06-22 17:15  njh

	* MakeLegacy.sh: I won my fight with sed! yay!

2006-06-22 12:06  thor

	* README.sajber, debian, jukebox, src/control_sajber.c: Removed
	  debian dir and outdated Sajber jukebox files.
	  Have to check state of the tk3play interface and modify
	  Makefile.legacy (still all targets there).

2006-06-22 09:21  thor

	* src/Makefile.legacy: version.h does not exist anymore, remove it
	  from Makefile.legacy

2006-06-22 04:55  njh

	* configure.ac, src/Makefile.am: Added support for MMX processors
	  to configure system

2006-06-22 04:07  njh

	* MakeLegacy.sh, configure.ac, src/Makefile.legacy, src/audio.c,
	  src/audio.h, src/audio_aix.c, src/audio_alib.c, src/audio_alsa.c,
	  src/audio_dummy.c, src/audio_esd.c, src/audio_hp.c,
	  src/audio_libao.c, src/audio_macosx.c, src/audio_mint.c,
	  src/audio_nas.c, src/audio_os2.c, src/audio_oss.c,
	  src/audio_sgi.c, src/audio_sun.c, src/audio_win32.c, src/dct64.c,
	  src/getlopt.h, src/httpget.c, src/mpg123.c, src/system.c,
	  src/term.c, src/term.h, src/xfermem.c: Now up-to-date with the
	  progress I made in my own SVN repository.
	  Lots of changes to the audio output interface - it is now a lot
	  cleaner.

2006-06-21 21:04  njh

	* configure.ac, src/Makefile.legacy, src/audio_nas.c,
	  src/httpget.c, src/mpg123.c, src/mpg123.h, src/version.h: Package
	  version is now taken from configure.ac

2006-06-21 21:02  njh

	* AUTHORS, CREDITS: Offical filename for list of people is AUTHORS
	  (so says GNU policy)

2006-06-21 15:16  njh

	* configure.ac: configure source file

2006-06-21 04:49  njh

	* src/Makefile.legacy: Bah, hopefully this works better.

2006-06-21 04:25  njh

	* src/Makefile.legacy: use the $MAKE variable

2006-06-21 03:57  njh

	* Makefile.am, autogen.sh, src/Makefile.am, src/Makefile.legacy,
	  src/audio.c, src/audio_jack.c, src/audio_libao.c,
	  src/audio_macosx.c, src/mpg123.c, src/mpg123.h, src/term.c,
	  src/term.h: Applied some of my changes to mpg123 - new build
	  system works on OS X

2006-06-21 03:26  njh

	* src/Makefile.legacy: Fixed legacy build system

2006-06-21 03:20  njh

	* MakeLegacy.sh, src/Makefile, src/Makefile.legacy: Renamed old
	  Makefile Makefile.legacy

2006-06-21 03:19  njh

	* MakeLegacy.sh, Makefile, audio.c, audio.h, audio_aix.c,
	  audio_alib.c, audio_alsa.c, audio_dummy.c, audio_esd.c,
	  audio_hp.c, audio_mint.c, audio_nas.c, audio_os2.c, audio_oss.c,
	  audio_sgi.c, audio_sun.c, audio_win32.c, buffer.c, buffer.h,
	  build, common.c, common.h, control_generic.c, control_sajber.c,
	  control_tk3play.c, control_tk3play.h, dct36_3dnow.s, dct64.c,
	  dct64_3dnow.s, dct64_MMX.s, dct64_i386.c, dct64_i486.c, decode.c,
	  decode_2to1.c, decode_3dnow.s, decode_4to1.c, decode_MMX.s,
	  decode_i386.c, decode_i486.c, decode_i586.s,
	  decode_i586_dither.s, decode_ntom.c, equalizer.c,
	  equalizer_3dnow.s, genre.h, getbits.c, getbits.h, getcpuflags.s,
	  getlopt.c, getlopt.h, httpget.c, huffman.h, l2tables.h, layer1.c,
	  layer2.c, layer3.c, mpg123.c, mpg123.h, readers.c, src,
	  src/Makefile, src/audio.c, src/audio.h, src/audio_aix.c,
	  src/audio_alib.c, src/audio_alsa.c, src/audio_dummy.c,
	  src/audio_esd.c, src/audio_hp.c, src/audio_mint.c,
	  src/audio_nas.c, src/audio_os2.c, src/audio_oss.c,
	  src/audio_sgi.c, src/audio_sun.c, src/audio_win32.c,
	  src/buffer.c, src/buffer.h, src/common.c, src/common.h,
	  src/control_generic.c, src/control_sajber.c,
	  src/control_tk3play.c, src/control_tk3play.h, src/dct36_3dnow.s,
	  src/dct64.c, src/dct64_3dnow.s, src/dct64_MMX.s,
	  src/dct64_i386.c, src/dct64_i486.c, src/decode.c,
	  src/decode_2to1.c, src/decode_3dnow.s, src/decode_4to1.c,
	  src/decode_MMX.s, src/decode_i386.c, src/decode_i486.c,
	  src/decode_i586.s, src/decode_i586_dither.s, src/decode_ntom.c,
	  src/equalizer.c, src/equalizer_3dnow.s, src/genre.h,
	  src/getbits.c, src/getbits.h, src/getcpuflags.s, src/getlopt.c,
	  src/getlopt.h, src/httpget.c, src/huffman.h, src/l2tables.h,
	  src/layer1.c, src/layer2.c, src/layer3.c, src/mpg123.c,
	  src/mpg123.h, src/readers.c, src/system.c, src/tabinit.c,
	  src/tabinit_MMX.s, src/term.c, src/term.h, src/version.h,
	  src/wav.c, src/xfermem.c, src/xfermem.h, system.c, tabinit.c,
	  tabinit_MMX.s, term.c, term.h, version.h, wav.c, xfermem.c,
	  xfermem.h: Tidying up a bit: moved all source code into 'src'
	  directory.
	  Moving aside old build system and calling it 'legacy'.
	  Can build legacy system using ./MakeLegacy.sh <foo>

2006-06-18 14:05  thor

	* common.c, common.h, control_generic.c: added loadpaused action to
	  control_generic (again?), removed some redundant functions...
	  placed stream info generation into common.c (now adding the last
	  flag for vbr)
	  control_generic now also has a help command that gives a summary
	  of commands and info on the cryptic stream info

2006-06-18 10:49  thor

	* COPYING: license WIP!

2006-06-17 21:45  thor

	* common.c, mpg123.c: I just had to do it... gapless mode now also
	  takes resampling into account.
	  Some cosmetics - it needs user testing now. And still the real
	  solution for detecting the end, while the current one should work
	  in 95% of the cases.

2006-06-17 19:46  thor

	* common.c, common.h, mpg123.c: Ironed the gapless support; now
	  works for mono, stereo, 8bit, 16bit - explicit resampling support
	  still missing.

2006-06-17 14:31  thor

	* version.h: it's not 0.59r-thor anymore...

2006-06-17 14:31  thor

	* Makefile, common.c, mpg123.c: OK, I enclosed the actual working
	  (tiny time consuming - well, some ifs for every audio buffer
	  flush... every 16K raw data...) of gapless code in #ifdefs for
	  GAPLESS; being enabled in target linux-x86-gapless (you can turn
	  it on via -DGAPLESS in you CFLAGS, anyway).
	  It now actually works for several tracks following each other -
	  but still, it's fixed to work on stereo 16 bit layer3 files; mono
	  will be added easily.

2006-06-17 13:15  thor

	* common.c: added note about bmp album art (gosh, what a mess...)

2006-06-17 12:51  thor

	* common.c: added GAPLESS macro to enable disabling of hack in
	  audio_flush (homeopathic performance gain... not really;-)

2006-06-17 12:38  thor

	* mpg123.c: lingua2

2006-06-17 12:37  thor

	* mpg123.c: lingua

2006-06-16 22:51  thor

	* common.c, mpg123.c: restricted gapless hack to layer 3, added
	  --help info on the gapless switch
	  still need proper track begin/end and mono/stereo (even 8bit?)
	  handling

2006-06-16 14:51  thor

	* README.new: this will become the new README eventually... still
	  in the works

2006-06-16 03:35  thor

	* common.c, common.h, mpg123.c, mpg123.h: Added a first hack to
	  make gapless output (skipping delays and padding), activated via
	  --gapless.
	  This only works for single layer3 files with Lame tag and without
	  resampling and only for stereo now.
	  It's the technical proof-of-concept.

2006-06-14 10:46  thor

	* common.c, mpg123.c, mpg123.h: Now being able to detect and skip
	  (even interpret) the Xing/Lame tag that caused one frame of
	  silence at the beginning.
	  Still want to implement skip of padding/delay samples based on
	  info in there.

2006-06-12 18:02  thor

	* Makefile, decode_i586_dither.s: Added the dithered pentium decode
	  from "ACS" <adrian.bacon@xs4all.nl> / http://dither123.dyndns.org
	  (GPL, currently - have to contact him again).
	  Modified the Makefile for that -- make PENTIUM_DECODE=decode_i586
	  ... or make PENTIUM_DECODE=decode_i586_dither ... -- along with
	  some other cleanups and hints for targets.

2006-06-12 03:18  thor

	* Makefile, dct64_MMX.s, decode_MMX.s, decode_i386.c, layer2.c,
	  layer3.c, mpg123.h, tabinit.c, tabinit_MMX.s: Attempt to backport
	  the MMX stuff.
	  It seems to work - and it's faster;-) (testfile: 10s against 13s)

2006-06-12 02:01  thor

	* Makefile: trying to put env CFLAGS in place everywhere, removing
	  -D flags from generic target since they don't compile... so many
	  targets...

2006-06-12 00:21  thor

	* common.c: Finally got around to fix playback of that dreaded file
	  with a BMP (not "unsynched") in ID3V2 tag. Partial backport from
	  mhipp's trunk; now just ignoring the number of bytes indicated by
	  id3v2 frame header.

2006-06-04 20:26  thor

	* mpg123.c: The equalizer control patch just duplicated code that
	  got executed twice when usning an equalfile.
	  Fixed that.

2006-05-14 11:30  thor

	* CHANGES, Makefile, decode_i386.c, httpget.c, layer3.c, mpg123.c,
	  mpg123.h, version.h: - applied relevant stuff from Debian's 22:
	  - fix for CVE-2006-1655 (buffer overflow in III_i_stereo())
	  - strict aliasing hack in WRITE_SAMPLE of decode_i386.c
	  - fixed http streaming through proxy by actually using the
	  request url...
	  - buffer resync on Ctrl-C (cleaning, reducing pauses with
	  multiple files)
	  - removed unused esdserver variable from mpg123.h
	  - did NOT apply the Debian Makefile/manpage changes (going to
	  rewrite that stuff anyway)
	  - made the netbsd-i386 targets visible as netbsd-x86

2006-05-11 15:26  thor

	* version.h: forgot that

2006-05-11 12:56  thor

	* lgpl: it's separate discussion...

2006-05-11 12:54  thor

	* CHANGES, Makefile, mpg123.c: netbsd targets with and without
	  realtime stuff (that seems to need -lpthread...)

2006-04-28 10:33  thor

	* lgpl/KIMURA_Takuhiro.key, lgpl/fromme.email, lgpl/notes.txt,
	  lgpl/x.email: I try and I try... found some addresses from
	  internet search; mailed...
	  ...already got some failures but also 2 responses (I'll add that
	  no notes.txt later)

2006-04-24 11:26  thor

	* lgpl/inventory.txt, lgpl/notes.txt, lgpl/notex.txt: more
	  investigation for license

2006-04-08 08:02  thor

	* NOTES.LGPL, lgpl/notex.txt: better there

2006-04-08 08:01  thor

	* CREDITS, NOTES.LGPL, lgpl, lgpl/first.email, lgpl/no.list,
	  lgpl/ok.list: Further research into (non)licensed code and
	  comnmunication.

2006-03-10 12:37  thor

	* CREDITS: some failed addresses

2006-03-10 03:22  thor

	* CREDITS: An attempt to gather a comprehensive list of people who
	  contributed to mpg123. So far not _all_ eMail addresses failed;-)

2006-02-22 08:28  thor

	* JUKEBOX, README.sajber: Following a suggestion from Nick, we
	  avoid having both jukebox/ and JUKEBOX.
	  It's a question if this sajber jukebox interface will keep
	  working anyway...

2005-12-24 00:41  thor

	* BENCHMARKING.thor: just added my benchmark; nice to have some
	  numbers there...

2005-12-24 00:18  thor

	* CHANGES, README, README.thor: now also final thor5 doc-wise

2005-12-24 00:07  thor

	* mpg123.c: really thor5 now (code): a trivial 0 instead of NULL

2005-12-24 00:03  thor

	* debian/changelog, httpget.c: Debian r20 httpget fix

2005-12-23 20:26  thor

	* BUGS, CHANGES, Makefile, README, README.thor, control_generic.c,
	  decode.c, decode_2to1.c, decode_4to1.c, decode_i386.c,
	  decode_ntom.c, equalizer.c, getlopt.c, getlopt.h, mpg123.c,
	  mpg123.h, readers.c, version.h: Going towards version 5
	  
	  Preliminary result from sessions on my (well, the university's)
	  Compaq XP1000.
	  
	  - introduced an extra flag to prevent equalfile from being used
	  as a bool all the time (confuses compilers and is just not nice)
	  - cared for real being whatever (float, double, ...) in sscanf
	  stuff of control_generic (mainly in my added SEQ)
	  - fixed the Alpha show-stopper: mixing up of int and long
	  pointers in getlopt

2005-02-24 20:09  thor

	* control_generic.c: final final -thor4: just a misunderstanding:
	  break means end and that makes sense.

2005-02-24 19:33  thor

	* Makefile: final -thor4: changed my modified target to
	  "linux-static"

2005-02-24 19:17  thor

	* README.3DNOW, README.thor, dct36_3dnow.s, debian, debian/README,
	  debian/changelog, debian/control, debian/control.alsa,
	  debian/copyright, debian/mime, debian/postinst, debian/postrm,
	  debian/prerm, debian/rules, equalizer_3dnow.s, getcpuflags.s:
	  thor4: second stage.

2005-02-24 19:12  thor

	* CHANGES, Makefile, audio.c, audio_esd.c, audio_oss.c,
	  audio_sun.c, buffer.c, common.c, common.h, control_generic.c,
	  control_sajber.c, control_tk3play.c, dct64.c, dct64_3dnow.s,
	  dct64_i486.c, decode.c, decode_3dnow.s, decode_i386.c,
	  equalizer.c, httpget.c, layer1.c, layer2.c, layer3.c, mpg123.1,
	  mpg123.c, mpg123.h, readers.c, tabinit.c, term.c, test.pl,
	  version.h, xfermem.c: thor4: merge the Debian 0.59r-19 in for
	  serious bug fixing, a bit of docu

2005-02-24 16:40  thor

	* CHANGES, control_generic.c, httpget.c, mpg123.h, readers.c,
	  version.h: thor-3: again command parsing reworked; non-exit()ing
	  open functions added:

2004-10-09 20:36  thor

	* control_generic.c: Removed load-paused function that wasn't
	  really working anyway.

2004-10-08 16:12  thor

	* control_generic.c: added version info in control_generic startup
	  message

2004-09-21 04:02  thor

	* version.h: version info updated

2004-09-21 03:58  thor

	* CHANGES, control_generic.c, mpglib: more info in general and more
	  useful info on JUMP

2006-02-20 05:37  thor

	* CHANGES, Makefile, README.cfa, control_generic.c, decode_i586.s,
	  mpg123.c, mpg123.h, test.pl, version.h: Just going to put
	  mpg123-thor in here for a start; bridge to my CVS for that one.
	  
	  0.59r-ThOr(remote-err,eq,flushing)
	  - added audio_flush() calls to various places in
	  control_generic.c to make sure there is nothing left in there
	  that hurts later
	  
	  0.59r-realeq-remoteerr:
	  
	  - applied patch from Cool Feet Audio project (nutcase@dtfm.org,
	  see README.cfa) to use real-time equalizer in remote mode
	  - applied patch from AMF (amf.sourceforge.net) by Steve Grundell
	  for remote communication not polluting the STDOUT where the audio
	  data is read from (instead using STDERR) ... and faster seeking,
	  maybe
	  The patches go not cleanly together, but rejects are trivial.
	  Thus, a combined patch with both would makes sense.
	  - modified (IMHO improved) the control_generic command reading:
	  now always making sure that the full command is read up to a
	  mandatory \n; also reworked the application of the commands
	  afterwards
	  - added SEQ command: simple eq with only 3 bands
	  - added SILENCE command: I don't want the playback messages when
	  I don't read them (since my frontend is reading the STDOUT it
	  knows what is going on)
	  - added SLJ command: SILENCE-LOAD-JUMP... a hack for my hacked
	  mixplayd... maybe one should remove that again.

2006-02-20 05:11  thor

	* .: Going to start with version 0.59r as the new trunk... this
	  version is the one underlying the vast majority of current
	  patches (including mine;-). We'll see what good stuff there is to
	  port over from the 0.59s series.

2006-02-20 03:49  thor

	* version 0.59r as tag

2006-02-20 03:49  thor

	* version 0.59r by Michael Hipp:
	  
	  - applied audio_alib changes from Ralf Hildebrandt
	  <R.Hildebrandt@TU-BS.DE>
	  - some 'paetsches' from DK
	  - minor optimizations in layer3 (dequantize/huffman)
	  - BSDOS 4.0 with gcc added to Makefile (<sms@moe.2bsd.com>)
	  - Solaris-ESD patch from Ryan Prosser <prosser@wam.umd.edu>
	  - Added Frontend changes from Bertrand Petit
	  <elrond@phoe.netdev.net>
	  - more DK 'paetsches' (final dk7-clubhaus edition), includes
	  extended term
	  control
	  - SGI audio fix for non RAD machines from Erik Mouw
	  <J.A.K.Mouw@its.tudelft.nl>
	  - fixed ugly bug in layer3 dequant for bt==2 (may cause high
	  frequency clitchs)
	  - AMD-3DNow optimizations in decode and dct64
	  - OS/2 reworked from Samuel Audet (see audio_os2.c for more)
	  - added freebsd-esd make-entry from Daniel O'Connor
	  (darius@guppy.dons.net.au)
	  - added enhanced head_check from D. Skarda
	  <0rfelyus@atrey.karlin.mff.cuni.cz>
	  - applied 'xterm-title-patch' from "Wilson, Jeff D"
	  <jeff.wilson@wilcom.com>
	  - more esd changes from Robert Bihlmeyer <robbe@orcus.priv.at>
	  - applied Hannu Napari's <Hannu.Napari@hut.fi> SGI audio patches
	  - minor changes in httpget.c and mpg123.c
	  - added native AIX support from
	  Juergen.Schoew@unix-ag.uni-siegen.de
	  - applied playlist patch from <psst@euskalnet.net>
	  - more SGI audio patches from Gilles Zunino
	  <Gilles.Zunino@hei.fupl.asso.fr>
	  - applied esdserver patch from Matthew Parslow
	  <roy@alpha.alphalink.com.au>
	  - added some fixes for control_generic

2006-02-20 03:42  thor

	* version 0.59q by Michael Hipp:
	  
	  - ESD fixes
	  - minor bugfixes (DK patch ;)
	  - au and cdr 'support' (it's a hack)
	  - Fixed 'VBR' Bug in get_scale_fac1(). Thanx to
	  <ssonique@hotmail.com> for
	  this. (Wasn't really a VBR Bug. The new encoders just triggered
	  it.)
	  - Added equalizer patch from <dlux@dlux.sch.bme.hu>

2006-02-20 03:41  thor

	* version 0.59p by Michael Hipp:
	  
	  - Added mpglib (see mpglib directory)
	  - 'make generic' is more generic now
	  - Added HPUX/ALib support from Ducroquet Erwan
	  (ducroque@ufr-info-p7.ibp.fr)
	  - Added EsoundD support from <fill it in>
	  - Added exp. relatime support (compile with -DSET_RT)
	  - Added linux-sparc patch from <hmm lost email)
	  - Added genrepatch from Shane Wegner <shane@CM.NU>
	  - Added wav-File patch Samuel Audet <guardia@cam.org>
	  - Added SGI-RAD support from "J. Dean Brederson"
	  <jdb@cs.utah.edu>
	  - Added sajberplay/FreeBSD patch from Chou Ye-chi
	  <is84002@cis.nctu.edu.tw>
	  - Added 486 optimizations from Fabrice Bellard
	  <bellard@email.enst.fr>
	  - Added combined output devices on SUN (ie Speaker and headphones
	  together)
	  - Added audio_alsa.c (under GPL license) for the ALSA sound
	  system from
	  A. Hermansen <ahermans@vf.telia.no> and J. Kysela <perex@jcu.cz>
	  -Added K6-3DNow patches from KIMURA Takuhiro
	  <kim@hannah.ipc.miyakyo-u.ac.jp>

2006-02-20 03:38  thor

	* version 0.59o by Michael Hipp:
	  
	  - fixed Bug with stereo streams on mono audio hardware for OSS
	  - fixed a bug with mono output and 1:1 (no) rate conversion
	  - again changes in the probe code
	  - fix in the buffer code for the case, that audio parameters are
	  changing
	  - more changes to the flexibel rate converter, should now work
	  when
	  writing to STDOUT.
	  - Added Andy's (<andy@snoogie.demon.co.uk>) float2int speed up
	  proposal
	  (check WRITE_SAMPLE in decode_i386.c) .. Maybe someone wanna take
	  the
	  idea and put it into the decode_i586.s part?
	  - Added TK3Play support from Brian Foutz
	  <foutz@anise.ee.cornell.edu>
	  (compiles but untested)
	  - RIFF Header fix (according to Thomas Niederreiter's
	  <tn@tarantel.rz.fh-muenchen.de> patch)
	  - m68k patch from Stefan Gybas <cab@studbox.uni-stuttgart.de>
	  applied
	  - minor additional PPC changes applied
	  - resync and EOF hang fixed
	  - resync and bitrate correction relaxed
	  - Slightly change verbose output; added countdown

2006-02-20 03:35  thor

	* version 0.59n by Michael Hipp:
	  
	  - fixed shuffle bug
	  - added memory mapped IO for file reading
	  - added MPEG 2.5 12kHz and 8kHz table entry
	  - started flexibel rate conversion ..
	  - new '-Z' / '--random' option
	  - minor clean-up
	  - splitted audio file in audio system dependend smaller parts
	  - started system stream support (external program: system.c)
	  - unsigned 8 bit (instead of ulaw) is now default for 8bit
	  operation
	  - Linux PPC patch from Grant Erickson <eric0139@tc.umn.edu>
	  applied
	  - added BSDi patch from Peter Berger <peterb@hoopoe.psc.edu>, who
	  reported
	  a failure when catching signals
	  - minor bug fix in the control interface for sajber jukebox
	  - fixed the ugly 'Ctrl-Z in buffer mode' bug .. YES ;)
	  - added buffer preload when underrun occurs (preload = 1/8 buffer
	  size)

2006-02-20 03:26  thor

	* version 0.59m by Michael Hipp:
	  
	  - Bug with RIFF header streams fixed.
	  - HTTP auth option patch from Henrik P Johnson <king@one.se>
	  - NetBSD patch(s) added from <mycroft@NetBSD.ORG> and
	  <augustss@cs.chalmers.se>
	  - Added advanced shuffle support from Steven Tiger Lang
	  <tiger@tyger.org>
	  - fixed bug with too large big_value field
	  - fixed (hopefully) the bug with the '-a' option
	  - work-around for some pedantic compilers in fr->synth init
	  - some changes for the 'generic' version
	  - applied NAS bug-fix patch
	  - new (good) MPEG 2.5 tables (from Niklas Beisert)
	  - added WIN32 support from Tony Million
	  - added some bug fixes from Niklas Beisert
	  - fixed another ugly bug in layer3 dequantize (wrote over the
	  border
	  of the 'xr' field)
	  - a minor HPUX clean up
	  - added BSD patch from Kevin Brintnall <kbrint@visi.com>
	  - added Makefile.win32
	  - added NAS big endian fix

2006-02-20 03:24  thor

	* version 0.59l by Michael Hipp:
	  
	  - simple equalizer support (to be continued)
	  - added NAS patch from Martin Denn <mdenn@unix-ag.uni-kl.de>
	  - real mono support
	  - added pentium optimized decode_i586 from Stefan Bieschewski
	  <stb@acm.org>
	  - fixed a bug in MS dequantize function

2006-02-20 03:22  thor

	* version 0.59k by Michael Hipp/Oliver Fromme:
	  
	  - fixed "Accept" header in httpget.c
	  - fixed buffer overflow (causing core dumps) in httpget.c
	  - fixed display of song length
	  - fixed -b (buffer) problem on SGI / IRIX -- it definitely works
	  now
	  - fixed problem when files with different sample rates where
	  played,
	  it now works with -b (buffer), too
	  - fixed order of local variables in decode.c to work around a
	  compiler bug in ultrix
	  - fixed Makefile for ultrix
	  - reverted to old getbits.s (the new one could cause coredumps)
	  - more compact MPEG header display in non-verbose mode
	  - small fixes in buffer code and elsewhere

2006-02-20 03:19  thor

	* version 0.59j by Michael Hipp:
	  
	  - added sajber jukebox control interface (it's currently a big
	  hack)
	  (see 'JUKEBOX' file for more)
	  - added simple rewind facility .. (only used by sajber interface
	  at the moment)

2006-02-20 03:14  thor

	* version 0.59i by Michael Hipp:
	  
	  - added front-end (remote) patch from "Brian J. Swetland"
	  <swetland@uiuc.edu>
	  - added OS2 patches from Niclas Lindstrom <nil@wineasy.se>
	  - fixed 'rewind bug'
	  - added patches from Leo Broukhis <leo@zycad.com>
	  - added shuffle patch from Tillmann Steinbrecher
	  <tst@darmstadt.netsurf.de>
	  - added i386-getbits from M.Stekelenburg
	  <m.stekelenburg@student.utwente.nl>
	  - added fallback to 8bit if no 16bit samples support (currently
	  linux only)
	  - added (slightly changed) outburst patch
	  from Antti Andreimann <anttix@cyberix.edu.ee>
	  - added 'http accept' patch from Hur TaeSung
	  <saturn@arari.snu.ac.kr>
	  - fixed buffer mode bug

2006-02-20 03:10  thor

	* version 0.59h by Michael Hipp
	  
	  - added '--8bit' option to force 'UNSIGNED 8 BIT' playing
	  - pcm buffer type changed to 'unsigned char *'
	  - plays 2:1 and 4:1 with the real frequency (ie 11025/22050
	  instead
	  of 44100)
	  - program (re)sets (changed) frequency for every frame
	  - buffer mode is broken

2006-02-20 03:08  thor

	* version 0.59g by Michael Hipp (with f...):
	  
	  0.59g: (MH)
	  ------
	  - added support for MPEG 2.5 (it's a HACK!) .. mpg123 understands
	  and plays
	  2.5 but it does it wrong. (you will hear this!)
	  - Fixed wrong values in BandInfo struct for 32kHz mode
	  - Some performance improvements and minor changes and bug-fixes.
	  - Tried the new imdct from the maplay1.2+ (version 1.81) package.
	  (but
	  it was slightly slower on my system, currently disabled)
	  
	  0.59f: (OF)
	  ------
	  HP-UX audio fix (provided by Damien Clermonte).
	  Buffering (-b option) hopefully fixed. Please test!

2006-02-20 03:05  thor

	* version 0.59e by Michael Hipp:
	  
	  added Audio MPEG 2.0 support (but near untested) (MH)

2006-02-20 03:03  thor

	* version 0.59d by Michael Hipp, including at least 0.59c (a?, b?):
	  
	  0.59d: (MH)
	  ------
	  minor modifications to dct64_i386.c
	  removed duplicated dependency 'dct64.o' in Makefile
	  
	  0.59c: (OF)
	  ------
	  Another complete rework of the buffer system (-b option)
	  (normally uses mmap(), but it can also use SYSV-ShMem because
	  mmap() is broken on linux).

2006-02-20 02:59  thor

	* version 0.59 by Michael Hipp, with step 0.58 in there:
	  
	  0.59: (MH)
	  -----
	  extracted dct64() from decode*.c files.
	  some changes to dct64() and decode*.c to allow
	  auto-increment/decrement
	  removed bit-counter in getbit-functions. Layer3 part2 now counts
	  it itself.
	  
	  0.58: (OF)
	  -----
	  Bugfix: not closing the audio device caused a few samples to be
	  lost.
	  Bugfix: audio_set_rate() was not called (!?!).
	  Additional command line options "--doublespeed" and "--halfspeed"
	  (couldn't find better names). See the manpage.
	  Complete redesign of command line options. See the manpage.
	  Changed the buffer algorithm (-b). I'm not sure whether it's
	  better
	  or worse now.
	  Supports multiple files on the command line. Pressing Ctrl-C will
	  skip to the next MPEG file, pressing it twice within one second
	  will abort mpg123 completely. See the "INTERRUPT" section in the
	  manpage.
	  Support for http URLs. See also the -p option in the manpage.
	  Support for list files. See also the -@ option in the manpage.

2006-02-20 02:54  thor

	* version 0.57 by Michael Hipp, stepping over version 0.56:
	  
	  0.57: (MH)
	  -----
	  Put the downsampling code together with the full
	  quality decode into one binary. (new options -2to1,-4to1)
	  Optimizations in the dct12.
	  Removed the 'int' version.
	  
	  0.56: (OF)
	  -----
	  Additional command line option "-rs" to try to resync on
	  "broken" MPEG streams (now called "--resync" or "-y").
	  Additional command line option "-b" to use audio output
	  buffering.
	  See the manpage for additional information.
	  Changed a few variable names and some other minor fixes, so the
	  source compiles more cleanly (without warnings) on most
	  platforms (for example, the FreeBSD port compiles without
	  warnings using "-Wall -ansi -pedantic").
	  Makefile changes: moved "solaris" to "solaris-gcc", new target
	  "solaris" (using Sun's SparcWorks cc, faster tha gcc!), new
	  targets "aix" and "generic".

2006-02-20 02:50  thor

	* version 0.55 by Michael Hipp:
	  
	  removed some obsolete code from layer3.c (MH)
	  changed scalefac stoing in layer3 (MH)
	  decode_4to1.c added again. Renamed decode_lp.c to decode_2to1.c
	  (MH)
	  (both not optimized .. still expterimental)
	  Minor cleanups and optimizations in layer3. (MH)
	  Removed some (probable) minor bugs. (MH)
	  Changed 2**(...) scaling (and omitted a few muls) (MH)
	  Changed Makefile (OF)
	  Changed dequantize to reorder with a mapping table
	  (you can disable this by undefining MAP in layer3.c) (MH)
	  removed the 'dummy' scale step for mixed mode (MH)
	  Changed copy policy (MH)
	  Modified dequant-reorder-mapping (MH)

2006-02-20 02:09  thor

	* Starting reconstruction of Michael Hipp's trackable work
	  (downloadable release versions) in svn. This is version 0.54.
	  Of course this is not the beginning, but it is what I was able to
	  get.
	  
	  Changes from 0.53b to 0.54 (by Michael Hipp):
	  Minor changes in the documents ..
	  huffman.c: x->len,y->len removed .. always '15' for the important
	  cases
	  audio.c: some additions to the SOLARIS audio code
	  
	  First noted changes at all: from 0.53a to 0.53b by Oliver Fromme:
	  see CHANGES file

