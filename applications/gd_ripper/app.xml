<?xml version="1.0" encoding="UTF-8"?>
<app name="GD Ripper" version="1.6.0" icon="images/icon.png">
	<resources>
		<module src="modules/app_gd_ripper.klf" />
		<font src="../../fonts/ttf/arial_lite.ttf" type="ttf" size="16" name="arial" />
		<font src="../../fonts/ttf/m23.ttf" type="ttf" size="18" name="m23" />
		<surface width="640" height="480" name="bg">
			<blit surface="images/background.jpg" />
		</surface>
		<surface width="640" height="480" name="browser-bg">
			<fill color="#DDDDDD" />
		</surface>
		<surface width="1" height="1" name="empty">
			<fill color="#00FEFF" />
		</surface>
		<image src="./images/start.png" name="iStart" />
		<image src="./images/starth.png" name="iStarth" />
		<image src="./images/stop.png" name="iStop" />
		<image src="./images/stoph.png" name="iStoph" />
		<image src="./images/exit.png" name="iExit" />
		<image src="./images/exith.png" name="iExith" />
		<image src="./images/readname.png" name="iReadname" />
		<image src="./images/readnameh.png" name="iReadnameh" />
	</resources>
	<body width="640" height="480" background="bg" onload="export:gd_ripper_Init()" onunload="export:gd_ripper_Exit()">
		<cardstack name="pages">
			<panel name="main-page">
				<progressbar width="320" height="97" x="166" y="11" name="progress_bar" pos="0.0" pimage="images/progressbar.png" bimage="empty" />

				<panel y="18" x="5" width="160" height="90">
					<label width="100%" height="100%" font="m23" color="#444444" name="track-label" text="GD Ripper" />
				</panel>

				<panel x="490" y="15" width="150" height="100">
					<panel width="150" height="20">
						<label width="100%" height="20" font="arial" color="#333333" name="speed-label" align="left" />
					</panel>
					<panel y="20" width="150" height="20">
						<label width="100%" height="20" font="arial" color="#333333" name="time-label" align="left" />
					</panel>
					<panel y="50" width="150" height="20">
						<label width="100%" height="20" font="arial" color="#333333" name="sectors-total-label" align="left" />
					</panel>
					<panel y="70" width="150" height="20">
						<label width="100%" height="20" font="arial" color="#333333" name="sectors-processed-label" align="left" />
					</panel>
				</panel>

				<panel x="40" y="115" width="360" height="50">
					<label height="25" font="arial" color="#333333" text="Enter image name:" align="left" />
					<input type="text"
						onblur="export:gd_ripper_Gamename()"
						font="arial"
						fontcolor="#333333"
						value="ripped_disc"
						size="30"
						height="20"
						width="230"
						name="gname-text" />
				</panel>

				<panel x="40" y="170" width="360" height="75">
					<label height="25" font="arial" color="#333333" text="Destination folder:" align="left" />
					<panel y="25" width="360" height="25">
						<label width="360" height="25" font="arial" color="#333333" name="destination-path" text="/sd" align="left" />
					</panel>
					<panel y="50" width="360" height="25">
						<input type="button" width="100" height="25"
							onclick="export:gd_ripper_ShowFileBrowser()">
							<label font="arial" color="#EEEEEE" text="Browse..." align="center" />
						</input>
					</panel>
				</panel>

				<panel x="40" y="255" width="360" height="100">
					<panel height="20">
						<label font="arial" color="#333333" text="Read options:" align="left" />
					</panel>

					<input type="checkbox"
						checked="no"
						y="25"
						width="200"
						height="25"
						name="use_bin_btn">
						<label x="25" height="20" font="arial" color="#333333" text="Use bin tracks" align="left" />
					</input>

					<input type="checkbox"
						checked="no"
						y="50"
						width="200"
						height="25"
						name="bad_btn">
						<label x="25" height="20" font="arial" color="#333333" text="Skip bad sectors" align="left" />
					</input>

					<panel y="75" width="360" height="20">
						<input type="text"
							onblur="export:gd_ripper_Number_read()"
							font="arial"
							fontcolor="#333333"
							value="10"
							size="30"
							width="35"
							height="20"
							name="num-read" />
						<label width="280" height="20" x="42" font="arial" color="#333333" text="Bad sector read attempts" align="left" />
					</panel>
				</panel>

				<input type="button"
					normal="iStart"
					highlight="iStarth"
					pressed="iStart"
					disabled="iStart"
					x="10" y="410" width="128" height="64"
					onclick="export:gd_ripper_StartRip()"
					name="start_btn" />

				<input type="button"
					normal="iReadname"
					highlight="iReadnameh"
					pressed="iReadname"
					disabled="iReadname"
					x="148" y="410" width="128" height="64"
					onclick="export:gd_ripper_ipbin_name()"
					name="Read-name" />

				<input type="button"
					normal="iStop"
					highlight="iStoph"
					pressed="iStop"
					disabled="iStop"
					x="286" y="410" width="128" height="64"
					onclick="export:gd_ripper_CancelRip()"
					name="cancel_btn" />

				<input type="button"
					normal="iExit"
					highlight="iExith"
					pressed="iExit"
					disabled="iExit"
					x="505" y="410" width="128" height="64"
					onclick="console:app -o -n Main" />
			</panel>

			<panel name="file-browser-page" background="browser-bg">
				<panel width="100%" height="30" y="10">
					<label align="center" color="#444444" font="m23" height="30"
						text="Choose destination folder" />
				</panel>
				<panel width="90%" height="320" x="5%" y="50">
					<filemanager width="100%" height="300"
						item_font="arial"
						name="file-browser"
						onclick="export:gd_ripper_FileBrowserItemClick()"
						path="/" />
				</panel>
				<panel width="100%" height="70" y="380">
					<panel width="50%" height="70">
						<input type="button" width="280" height="60"
							onclick="export:gd_ripper_FileBrowserConfirm()" align="center">
							<label font="m23" color="#EEEEEE" text="Confirm" />
						</input>
					</panel>
					<panel width="50%" height="70">
						<input type="button" width="280" height="60"
							onclick="export:gd_ripper_ShowMainPage()" align="center">
							<label font="m23" color="#EEEEEE" text="Cancel" />
						</input>
					</panel>
				</panel>
			</panel>
		</cardstack>
	</body>
</app>
